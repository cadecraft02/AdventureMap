<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AmbleMaps</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<style>
  :root {
    --dust-grey: #dad7cd;
    --dry-sage: #a3b18a;
    --fern: #588157;
    --hunter-green: #3a5a40;
    --pine-teal: #344e41;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  html, body { width:100%; height:100vh; overflow:hidden; font-family:'Segoe UI',Arial,sans-serif; background:var(--pine-teal); }

  #sidebar {
    position:fixed; top:0; left:0; width:290px; height:100vh;
    background:var(--pine-teal); color:var(--dust-grey); z-index:1000;
    display:flex; flex-direction:column; box-shadow:3px 0 16px rgba(0,0,0,0.5);
  }
  #sidebar-header { background:var(--hunter-green); padding:14px 16px 10px; border-bottom:2px solid var(--fern); flex-shrink:0; }
  #sidebar-header h1 { font-size:.92rem; font-weight:700; color:var(--dust-grey); letter-spacing:.05em; text-transform:uppercase; }
  #sidebar-header p { font-size:.67rem; color:var(--dry-sage); margin-top:2px; }

  #quick-stats {
    padding:10px 14px; background:var(--hunter-green); border-bottom:1px solid var(--fern);
    display:flex; justify-content:space-between; gap:8px; flex-shrink:0;
  }
  .stat-box { flex:1; text-align:center; }
  .stat-val { font-size:.95rem; font-weight:700; color:var(--dry-sage); }
  .stat-lbl { font-size:.58rem; color:rgba(218,215,205,0.6); text-transform:uppercase; letter-spacing:.06em; margin-top:2px; }

  #search-bar {
    padding:8px 14px; background:var(--hunter-green); border-bottom:1px solid var(--fern); flex-shrink:0;
    display:flex; gap:6px; align-items:center; overflow:hidden;
  }
  #search-input {
    flex:1; min-width:0; background:var(--pine-teal); border:1px solid var(--fern); border-radius:4px;
    padding:6px 9px; font-size:.72rem; color:var(--dust-grey); outline:none;
  }
  #search-input:focus { border-color:var(--dry-sage); }
  #sort-select {
    background:var(--pine-teal); border:1px solid var(--fern); border-radius:4px;
    padding:6px 7px; font-size:.68rem; color:var(--dust-grey); outline:none; cursor:pointer;
  }

  #route-box { background:var(--hunter-green); border-bottom:1px solid var(--fern); padding:10px 14px; flex-shrink:0; }
  #route-box h2 { font-size:.65rem; color:var(--dry-sage); text-transform:uppercase; letter-spacing:.1em; margin-bottom:6px; }
  #route-stops-list { margin-bottom:8px; min-height:40px; }
  .route-stop-item {
    display:flex; align-items:center; gap:8px; margin-bottom:4px; background:rgba(143,177,138,0.08);
    border:1px solid rgba(143,177,138,0.15); border-radius:4px; padding:4px 8px; cursor:move;
  }
  .route-stop-num { font-size:.7rem; font-weight:700; color:var(--dry-sage); width:20px; }
  .route-stop-name { flex:1; font-size:.72rem; color:var(--dust-grey); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .route-stop-remove { background:none; border:none; color:rgba(200,121,65,0.7); font-size:.9rem; cursor:pointer; padding:0 4px; }
  .route-stop-remove:hover { color:var(--dust-grey); }
  #add-route-stop {
    width:100%; background:rgba(143,177,138,0.1); border:1px dashed rgba(143,177,138,0.3);
    color:var(--dry-sage); padding:6px; border-radius:4px; font-size:.7rem; cursor:pointer; transition:all .15s;
  }
  #add-route-stop:hover { border-color:var(--dry-sage); background:rgba(143,177,138,0.15); }
  .route-btns { display:flex; gap:6px; margin-top:6px; }
  #calc-btn {
    flex:1; background:var(--dry-sage); color:var(--pine-teal); border:none; border-radius:4px;
    padding:6px; font-size:.72rem; font-weight:700; cursor:pointer; transition:background .15s;
  }
  #calc-btn:hover { background:var(--fern); }
  #calc-btn:disabled { background:rgba(88,129,87,0.3); color:rgba(218,215,205,0.4); cursor:default; }
  #route-result { margin-top:9px; background:var(--pine-teal); border:1px solid var(--fern); border-radius:4px; padding:8px 10px; display:none; }
  #route-result.visible { display:block; }
  .result-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:3px; }
  .result-label { font-size:.62rem; color:rgba(218,215,205,0.6); text-transform:uppercase; letter-spacing:.06em; }
  .result-val { font-size:.85rem; color:var(--dry-sage); font-weight:700; }
  .result-note { font-size:.6rem; color:rgba(218,215,205,0.5); margin-top:5px; line-height:1.4; font-style:italic; }

  #tabs { display:flex; background:var(--hunter-green); border-bottom:1px solid var(--fern); flex-shrink:0; }
  .tab { flex:1; padding:8px 0; text-align:center; font-size:.68rem; color:rgba(218,215,205,0.6); cursor:pointer; border-bottom:2px solid transparent; transition:all .15s; }
  .tab.active { color:var(--dust-grey); border-bottom-color:var(--dry-sage); }
  .tab:hover { color:var(--dust-grey); }

  .exp-tab { padding:8px 16px; text-align:center; font-size:.75rem; color:rgba(218,215,205,0.6); cursor:pointer; border-bottom:2px solid transparent; transition:all .15s; background:var(--hunter-green); border-radius:4px 4px 0 0; }
  .exp-tab.active { color:var(--dust-grey); border-bottom-color:var(--dry-sage); background:var(--pine-teal); }
  .exp-tab:hover { color:var(--dust-grey); }

  #stop-list { flex:1; overflow-y:auto; padding:4px 0; }
  #stop-list::-webkit-scrollbar { width:3px; }
  #stop-list::-webkit-scrollbar-thumb { background:var(--fern); border-radius:2px; }
  .stop-item {
    display:flex; align-items:flex-start; gap:9px; padding:9px 14px; border-bottom:1px solid rgba(88,129,87,0.3);
    cursor:pointer; transition:background .15s; position:relative;
  }
  .stop-item:hover { background:rgba(88,129,87,0.2); }
  .stop-item.active { background:rgba(163,177,138,0.15); border-left:3px solid var(--dry-sage); padding-left:11px; }
  .stop-item.hidden { display:none; }
  .stop-icon-box {
    width:32px; height:32px; border-radius:8px; display:flex;
    align-items:center; justify-content:center; font-size:1.1rem; flex-shrink:0; margin-top:1px;
  }
  .stop-info { flex:1; min-width:0; }
  .stop-info h3 { font-size:.78rem; font-weight:700; color:var(--dust-grey); line-height:1.2; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .stop-info p { font-size:.65rem; color:var(--dry-sage); margin-top:1px; }
  .stop-ratings { margin-top:5px; display:flex; flex-direction:column; gap:3px; }
  .rating-row { display:flex; align-items:center; gap:5px; }
  .rating-lbl { font-size:.58rem; color:rgba(218,215,205,0.5); width:42px; flex-shrink:0; }
  .rating-bar-track { flex:1; height:5px; background:rgba(88,129,87,0.3); border-radius:3px; overflow:hidden; cursor:pointer; }
  .rating-bar-fill { height:100%; border-radius:3px; transition:width .2s; }
  .rating-val { font-size:.6rem; font-weight:700; width:14px; text-align:right; flex-shrink:0; }
  .notes-btn {
    position:absolute; top:8px; right:8px;
    background:none; border:1px solid var(--fern); color:var(--dry-sage); border-radius:4px;
    padding:2px 6px; font-size:.65rem; cursor:pointer; transition:all .15s;
  }
  .notes-btn:hover { border-color:var(--dry-sage); color:var(--dust-grey); }
  .notes-btn.has-notes { color:var(--dry-sage); border-color:var(--dry-sage); }

  .edit-btn {
    position:absolute; top:8px; right:38px;
    background:none; border:1px solid var(--fern); color:var(--dry-sage); border-radius:4px;
    padding:2px 6px; font-size:.65rem; cursor:pointer; transition:all .15s;
  }
  .edit-btn:hover { border-color:var(--dry-sage); color:var(--dust-grey); }

  #action-btns {
    padding:8px 14px; background:var(--hunter-green); border-top:1px solid var(--fern);
    display:flex; gap:6px; flex-shrink:0;
  }
  .action-btn {
    flex:1; background:var(--pine-teal); border:1px solid var(--fern); color:var(--dry-sage); border-radius:4px;
    padding:6px; font-size:.68rem; cursor:pointer; text-align:center; transition:all .15s;
  }
  .action-btn:hover { border-color:var(--dry-sage); color:var(--dust-grey); }

  #save-status {
    padding:8px 14px; background:var(--hunter-green); border-top:1px solid var(--fern);
    font-size:.65rem; color:var(--dry-sage); text-align:center; flex-shrink:0;
  }

  .modal-overlay {
    position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:2000;
    display:none; align-items:center; justify-content:center; backdrop-filter:blur(3px);
  }
  .modal-overlay.open { display:flex; }
  .modal {
    background:var(--hunter-green); border:1px solid var(--fern); border-radius:8px;
    padding:20px; max-width:90vw; box-shadow:0 16px 48px rgba(0,0,0,0.7);
  }
  .modal h3 { font-size:.9rem; color:var(--dust-grey); font-weight:700; margin-bottom:14px; }
  .modal-field { margin-bottom:11px; }
  .modal-field label { display:block; font-size:.65rem; color:var(--dry-sage); margin-bottom:4px; text-transform:uppercase; letter-spacing:.06em; }
  .modal-field input, .modal-field textarea {
    width:100%; background:var(--pine-teal); border:1px solid var(--fern); border-radius:4px;
    color:var(--dust-grey); font-size:.78rem; padding:7px 9px; outline:none; font-family:inherit; transition:border-color .15s;
  }
  .modal-field input:focus, .modal-field textarea:focus { border-color:var(--dry-sage); }
  .modal-field textarea { resize:vertical; }
  .modal-row { display:flex; gap:8px; }
  .modal-row .modal-field { flex:1; }
  .modal-btns { display:flex; gap:8px; margin-top:14px; }
  .modal-btn-cancel { flex:1; background:none; border:1px solid var(--fern); color:var(--dry-sage); border-radius:4px; padding:8px; font-size:.75rem; cursor:pointer; }
  .modal-btn-cancel:hover { border-color:var(--dry-sage); color:var(--dust-grey); }
  .modal-btn-save {
    flex:2; background:var(--dry-sage); color:var(--pine-teal); border:none; border-radius:4px;
    padding:8px; font-size:.75rem; font-weight:700; cursor:pointer; transition:background .15s;
  }
  .modal-btn-save:hover { background:var(--fern); }
  .modal-btn-delete {
    background:none; border:1px solid #c62828; color:#ef5350; border-radius:4px;
    padding:8px 12px; font-size:.75rem; cursor:pointer; transition:all .15s;
  }
  .modal-btn-delete:hover { background:#c62828; color:#fff; }
  .emoji-grid { display:flex; flex-wrap:wrap; gap:4px; margin-top:4px; }
  .emoji-opt {
    width:28px; height:28px; background:var(--pine-teal); border:1px solid var(--fern); border-radius:4px;
    display:flex; align-items:center; justify-content:center; font-size:.9rem;
    cursor:pointer; transition:all .15s;
  }
  .emoji-opt:hover, .emoji-opt.selected { border-color:var(--dry-sage); background:rgba(163,177,138,0.2); }
  #modal-ai-status { font-size:.65rem; color:var(--dry-sage); margin-top:8px; text-align:center; min-height:16px; }
  .big-rating-row { margin-bottom:14px; }
  .big-rating-row label { font-size:.65rem; color:var(--dry-sage); text-transform:uppercase; letter-spacing:.06em; display:block; margin-bottom:6px; }
  .star-row { display:flex; gap:4px; }
  .star-btn {
    font-size:1.3rem; cursor:pointer; opacity:.3; transition:opacity .1s, transform .1s;
    background:none; border:none; padding:0; color:var(--dry-sage);
  }
  .star-btn.on { opacity:1; }
  .star-btn:hover { transform:scale(1.2); }
  .clear-rating-btn {
    margin-top:6px; background:none; border:1px solid rgba(200,121,65,0.5); color:rgba(200,121,65,0.8);
    padding:4px 10px; border-radius:4px; font-size:.65rem; cursor:pointer; transition:all .15s;
  }
  .clear-rating-btn:hover { border-color:var(--dry-sage); background:rgba(163,177,138,0.1); color:var(--dust-grey); }

  #map { margin-left:290px; width:calc(100% - 290px); height:100vh; }
  #instruction-bar {
    position:fixed; top:14px; left:50%; transform:translateX(calc(-50% + 145px));
    z-index:999; background:var(--hunter-green); color:var(--dry-sage);
    font-size:.75rem; padding:6px 16px; border-radius:20px;
    border:1px solid var(--dry-sage); display:none; pointer-events:none; backdrop-filter:blur(4px);
  }
  #instruction-bar.visible { display:block; }

  #locate-btn {
    position:fixed; bottom:24px; left:310px; z-index:999;
    background:var(--dry-sage); color:var(--pine-teal); border:none; border-radius:50%;
    width:48px; height:48px; font-size:1.3rem; cursor:pointer;
    box-shadow:0 4px 16px rgba(0,0,0,0.4); transition:all .15s;
  }
  #locate-btn:hover { background:var(--fern); transform:scale(1.1); }

  #gym-toggle {
    position:fixed; bottom:80px; left:310px; z-index:999;
    background:var(--pine-teal); color:var(--dry-sage); border:1px solid var(--fern); border-radius:24px;
    padding:8px 14px; font-size:.7rem; cursor:pointer;
    box-shadow:0 4px 16px rgba(0,0,0,0.4); transition:all .15s;
  }
  #gym-toggle:hover { border-color:var(--dry-sage); }
  #gym-toggle.active { background:var(--dry-sage); color:var(--pine-teal); border-color:var(--dry-sage); }

  .map-pin { display:flex; flex-direction:column; align-items:center; cursor:pointer; transition:transform .12s; }
  .map-pin:hover { transform:scale(1.18) translateY(-3px); }
  .pin-bubble {
    width:38px; height:38px; border-radius:50%; display:flex; align-items:center;
    justify-content:center; font-size:1.2rem; border:2.5px solid rgba(218,215,205,0.9);
    box-shadow:0 3px 10px rgba(0,0,0,0.45); position:relative;
  }
  .pin-ring { position:absolute; inset:-5px; border-radius:50%; border:3px solid transparent; pointer-events:none; }
  .pin-tail { width:2px; height:8px; border-radius:0 0 2px 2px; }
  .visited-badge {
    position:absolute; top:-3px; right:-3px; width:16px; height:16px;
    background:#fff; border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    font-size:.7rem; color:#4CAF50; font-weight:bold;
    box-shadow:0 1px 3px rgba(0,0,0,0.3);
  }

  .location-pin {
    width:20px; height:20px; border-radius:50%;
    background:#2196f3; border:3px solid #fff;
    box-shadow:0 0 0 4px rgba(33,150,243,0.3), 0 3px 10px rgba(0,0,0,0.4);
    animation:pulse 2s infinite;
  }
  @keyframes pulse {
    0%, 100% { box-shadow:0 0 0 4px rgba(33,150,243,0.3), 0 3px 10px rgba(0,0,0,0.4); }
    50% { box-shadow:0 0 0 8px rgba(33,150,243,0.1), 0 3px 10px rgba(0,0,0,0.4); }
  }

  .gym-marker {
    width:14px; height:14px; border-radius:50%;
    background:#8e24aa; border:2px solid #fff;
    box-shadow:0 2px 6px rgba(0,0,0,0.4);
    font-size:.65rem; display:flex; align-items:center; justify-content:center;
  }

  .interest-marker {
    width:22px; height:22px; border-radius:50%;
    background:#ff8a3c; border:2px solid #fff;
    box-shadow:0 2px 8px rgba(0,0,0,0.5);
    font-size:.85rem; display:flex; align-items:center; justify-content:center;
    color:#fff;
  }

  .leaflet-popup-content-wrapper {
    border-radius:6px; box-shadow:0 6px 24px rgba(0,0,0,0.4);
    padding:0; overflow:hidden; min-width:220px; max-width:260px;
  }
  .leaflet-popup-content { margin:0 !important; }
  .leaflet-popup-close-button { display:none !important; }
  .pu-head { padding:10px 13px; color:#fff; font-weight:700; font-size:.88rem; display:flex; align-items:center; gap:9px; }
  .pu-head .pu-emoji { font-size:1.3rem; }
  .pu-sub { font-size:.68rem; font-weight:400; opacity:.8; }
  .pu-body { padding:8px 13px 11px; font-size:.76rem; color:#333; line-height:1.45; background:#fff; }
  .pu-body .note { margin-top:5px; font-size:.68rem; color:#888; font-style:italic; }
  .pu-ratings { margin-top:8px; padding-top:8px; border-top:1px solid #eee; }
  .pu-rating-row { display:flex; align-items:center; gap:6px; margin-bottom:4px; font-size:.68rem; color:#666; }
  .pu-stars { letter-spacing:.05em; }
  .pu-rate-btn {
    display:block; width:100%; margin-top:8px; background:var(--dry-sage); color:var(--pine-teal);
    border:none; border-radius:4px; padding:5px; font-size:.68rem; font-weight:700;
    cursor:pointer; text-align:center;
  }
</style>
</head>
<body>

<div id="sidebar">
  <div id="sidebar-header">
    <h1 style="text-align:center;margin:0;padding:12px 0;font-size:1.5rem;letter-spacing:1px;">üó∫ AMBLEMAPS</h1>
  </div>

  <div id="route-box">
    <h2>üó∫ Multi-Stop Route</h2>
    <div id="route-stops-list"></div>
    <button id="add-route-stop" onclick="selectRouteStop()">+ Add Stop to Route</button>
    <div class="route-btns">
      <button id="clear-route-btn" onclick="clearRoute()" style="background:none;border:1px solid var(--fern);color:var(--dry-sage);border-radius:4px;padding:6px 12px;font-size:.7rem;cursor:pointer;flex-shrink:0;">Clear</button>
      <button id="calc-btn" onclick="calcRoute()" disabled>Calculate Route</button>
    </div>
    <div id="route-result">
      <div class="result-row"><span class="result-label">Distance</span><span class="result-val" id="res-dist">‚Äî</span></div>
      <div class="result-row"><span class="result-label">Time</span><span class="result-val" id="res-time">‚Äî</span></div>
      <div class="result-note" id="res-note"></div>
    </div>
  </div>

  <div id="search-bar">
    <button id="expand-list-btn" onclick="openExpandedList()" style="background:var(--fern);border:none;border-radius:4px;padding:6px 8px;cursor:pointer;color:var(--dust-grey);font-size:.8rem;display:flex;align-items:center;justify-content:center;flex-shrink:0;width:32px;height:32px;" title="Expand List View">‚õ∂</button>
    <input type="text" id="search-input" placeholder="üîç Search..." />
    <select id="sort-select">
      <option value="default">Default</option>
      <option value="alpha">A ‚Üí Z</option>
      <option value="interest-high">Want: High</option>
      <option value="interest-low">Want: Low</option>
      <option value="visited-high">Visit: High</option>
      <option value="visited-low">Visit: Low</option>
    </select>
  </div>

  <div id="tabs">
    <div class="tab active" data-tab="all">All</div>
    <div class="tab" data-tab="visited">Visited</div>
    <div class="tab" data-tab="unvisited">Unvisited</div>
    <div class="tab" data-tab="interests">Interests</div>
  </div>

  <div id="stop-list"></div>

  <div id="action-btns">
    <div class="action-btn" onclick="openAddModal()">+ Add</div>
    <div class="action-btn" onclick="exportData()">üíæ Export</div>
    <div class="action-btn" onclick="importData()">üìÇ Import</div>
  </div>
</div>

<div id="instruction-bar">Click a stop</div>
<button id="locate-btn" onclick="getMyLocation()">üìç</button>
<div id="gym-toggle" onclick="toggleGyms()">üèãÔ∏è Gyms</div>

<div id="map"></div>

<div id="map-info-topright" style="position:fixed;top:16px;right:16px;z-index:1000;background:var(--pine-teal);border:2px solid var(--fern);border-radius:6px;padding:10px 14px;box-shadow:0 4px 12px rgba(0,0,0,0.4);min-width:200px;">
  <input type="text" id="map-name" placeholder="NAME YOUR MAP" style="width:100%;background:none;border:none;color:#90c96e;font-size:.95rem;padding:0;outline:none;text-align:center;font-weight:800;letter-spacing:1px;text-transform:uppercase;" />
</div>

<!-- Stats and hamburger menu moved outside box -->
<div style="position:fixed;top:68px;right:16px;z-index:1000;display:flex;flex-direction:column;align-items:flex-end;gap:8px;">
  <div style="display:flex;gap:12px;background:var(--pine-teal);border:2px solid var(--fern);border-radius:6px;padding:8px 12px;box-shadow:0 4px 12px rgba(0,0,0,0.4);">
    <div style="text-align:center;">
      <div style="font-size:.7rem;font-weight:600;color:var(--fern);" id="stat-total">0</div>
      <div style="font-size:.48rem;color:var(--dry-sage);text-transform:uppercase;letter-spacing:0.3px;">Stops</div>
    </div>
    <div style="text-align:center;">
      <div style="font-size:.7rem;font-weight:600;color:var(--fern);" id="stat-visited">0</div>
      <div style="font-size:.48rem;color:var(--dry-sage);text-transform:uppercase;letter-spacing:0.3px;">Visited</div>
    </div>
  </div>
  <button id="hamburger-btn" onclick="toggleHamburgerMenu()" style="width:36px;height:36px;border-radius:50%;background:var(--fern);border:2px solid var(--fern);color:var(--dust-grey);cursor:pointer;font-size:1rem;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,0.4);transition:all 0.2s;" title="Menu">‚ò∞</button>
  
  <!-- Floating circular buttons (appear on hamburger click) -->
  <div id="floating-buttons" style="display:none;flex-direction:column;gap:8px;margin-top:8px;">
    <button id="settings-float-btn" onclick="openAppSettings()" style="width:36px;height:36px;border-radius:50%;background:var(--fern);border:2px solid var(--fern);color:var(--dust-grey);cursor:pointer;font-size:1.1rem;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,0.4);transition:all 0.2s;opacity:0;transform:scale(0.5);" title="Settings">‚öôÔ∏è</button>
    <button id="maps-float-btn" onclick="openMapsManager()" style="width:36px;height:36px;border-radius:50%;background:var(--fern);border:2px solid var(--fern);color:var(--dust-grey);cursor:pointer;font-size:1.1rem;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,0.4);transition:all 0.2s;opacity:0;transform:scale(0.5);" title="Maps">üó∫Ô∏è</button>
    <button id="new-map-float-btn" onclick="confirmCreateNewMap()" style="width:36px;height:36px;border-radius:50%;background:var(--fern);border:2px solid var(--fern);color:var(--dust-grey);cursor:pointer;font-size:1.1rem;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,0.4);transition:all 0.2s;opacity:0;transform:scale(0.5);" title="Create New Map">‚ûï</button>
  </div>
</div>

<!-- Map Layer Selector (on map, next to zoom) -->
<div id="map-layer-selector" style="position:fixed;top:90px;left:300px;z-index:1000;background:white;border:2px solid rgba(0,0,0,0.2);border-radius:4px;box-shadow:0 1px 5px rgba(0,0,0,0.4);display:flex;flex-direction:column;">
  <button onclick="changeMapLayer('standard')" id="layer-standard" style="padding:6px 10px;border:none;background:white;cursor:pointer;font-size:.7rem;color:#333;border-bottom:1px solid #ddd;font-weight:500;" title="Standard Map">Standard</button>
  <button onclick="changeMapLayer('satellite')" id="layer-satellite" style="padding:6px 10px;border:none;background:white;cursor:pointer;font-size:.7rem;color:#333;border-bottom:1px solid #ddd;" title="Satellite Imagery">Satellite</button>
  <button onclick="changeMapLayer('terrain')" id="layer-terrain" style="padding:6px 10px;border:none;background:white;cursor:pointer;font-size:.7rem;color:#333;border-bottom:1px solid #ddd;" title="Terrain Map">Terrain</button>
  <button onclick="changeMapLayer('dark')" id="layer-dark" style="padding:6px 10px;border:none;background:white;cursor:pointer;font-size:.7rem;color:#333;border-bottom:1px solid #ddd;" title="Dark Mode Map">Dark</button>
  <button onclick="changeMapLayer('topo')" id="layer-topo" style="padding:6px 10px;border:none;background:white;cursor:pointer;font-size:.7rem;color:#333;" title="Topographic">Topo</button>
</div>

<!-- Add/Edit Modal -->
<div class="modal-overlay" id="add-modal">
  <div class="modal" style="width:380px;">
    <h3 id="modal-title">üìç Add Location</h3>
    <div class="modal-field">
      <label>Google Maps Link</label>
      <input type="text" id="m-gmaps" placeholder="https://maps.google.com/..." />
    </div>
    <div class="modal-field">
      <label>Name</label>
      <input type="text" id="m-name" placeholder="e.g. Badlands NP" />
    </div>
    <div class="modal-field">
      <label>Want (1‚Äì10)</label>
      <input type="number" id="m-interest" min="1" max="10" placeholder="8" />
    </div>
    <!-- Hidden lat/lng fields - populated automatically from Google Maps link -->
    <div class="modal-row" style="display:none;">
      <div class="modal-field">
        <label>Latitude</label>
        <input type="number" id="m-lat" step="any" />
      </div>
      <div class="modal-field">
        <label>Longitude</label>
        <input type="number" id="m-lng" step="any" />
      </div>
    </div>
    <div class="modal-field">
      <label>Icon</label>
      <div class="emoji-grid" id="emoji-grid"></div>
    </div>
    <div class="modal-field">
      <label>Description</label>
      <textarea id="m-desc" style="min-height:60px;"></textarea>
    </div>
    <div id="modal-ai-status"></div>
    <div class="modal-btns">
      <button class="modal-btn-delete" id="modal-delete-btn" style="display:none;" onclick="deleteLocation()">Delete</button>
      <button class="modal-btn-save" onclick="saveLocation()">Save</button>
    </div>
  </div>
</div>

<div class="modal-overlay" id="rating-modal">
  <div class="modal" style="width:300px;">
    <h3 id="rating-modal-title">Rate</h3>
    <div style="font-size:.65rem;color:var(--dry-sage);margin-bottom:14px;" id="rating-modal-sub"></div>
    <div class="big-rating-row">
      <label>Want to Visit</label>
      <div class="star-row" id="stars-interest"></div>
      <button class="clear-rating-btn" onclick="clearInterestRating()">Clear</button>
    </div>
    <div class="big-rating-row">
      <label>After Visit</label>
      <div class="star-row" id="stars-visited"></div>
      <button class="clear-rating-btn" onclick="clearVisitedRating()">Clear</button>
    </div>
    <button class="modal-btn-save" style="width:100%;margin-top:8px;" onclick="saveRating()">Save</button>
  </div>
</div>

<div class="modal-overlay" id="notes-modal">
  <div class="modal" style="width:700px;max-width:95vw;height:auto;max-height:85vh;">
    <h3 id="notes-modal-title">Notes</h3>
    <div style="font-size:.72rem;color:var(--dry-sage);margin-bottom:12px;" id="notes-modal-sub"></div>
    <textarea id="notes-textarea" style="width:100%;height:400px;font-family:'Segoe UI',Arial,sans-serif;font-size:.85rem;line-height:1.6;padding:12px;border:1px solid var(--fern);border-radius:4px;background:var(--pine-teal);color:var(--dust-grey);resize:vertical;min-height:200px;"></textarea>
    <div class="modal-btns">
      <button class="modal-btn-cancel" onclick="closeNotesModal()">Close</button>
      <button class="modal-btn-save" onclick="saveNotes()">Save</button>
    </div>
  </div>
</div>

<div id="interest-confirm-local" style="display:none;position:fixed;z-index:10000;background:var(--pine-teal);border:2px solid var(--fern);border-radius:6px;padding:12px 16px;box-shadow:0 4px 12px rgba(0,0,0,0.5);min-width:200px;">
  <div style="color:var(--dust-grey);font-size:.8rem;margin-bottom:10px;text-align:center;">Create interest point?</div>
  <div style="display:flex;gap:8px;">
    <button onclick="confirmInterestCreation()" style="flex:1;background:var(--fern);color:var(--dust-grey);border:none;padding:6px;border-radius:4px;cursor:pointer;font-size:.75rem;">Create</button>
    <button onclick="cancelInterestCreation()" style="flex:1;background:none;border:1px solid var(--fern);color:var(--dry-sage);padding:6px;border-radius:4px;cursor:pointer;font-size:.75rem;">Cancel</button>
  </div>
</div>

<div class="modal-overlay" id="interest-modal">
  <div class="modal" style="width:450px;max-width:90vw;">
    <h3 id="interest-modal-title">üìå Add Interest Point</h3>
    <div class="modal-field">
      <label>Name</label>
      <input type="text" id="interest-name" placeholder="Coffee shop, viewpoint, etc." />
    </div>
    <div class="modal-field">
      <label>Description</label>
      <textarea id="interest-desc" style="min-height:80px;" placeholder="What makes this interesting?"></textarea>
    </div>
    <div class="modal-field">
      <label>Notes</label>
      <textarea id="interest-notes" style="min-height:100px;" placeholder="Any additional notes..."></textarea>
    </div>
    <div class="modal-btns">
      <button class="modal-btn-cancel" onclick="closeInterestModal()">Cancel</button>
      <button class="modal-btn-delete" id="interest-delete-btn" style="display:none;" onclick="deleteInterest()">Delete</button>
      <button class="modal-btn-save" onclick="saveInterest()">Save</button>
    </div>
  </div>
</div>

<!-- App Settings Modal -->
<div class="modal-overlay" id="settings-modal">
  <div class="modal" style="width:500px;max-width:90vw;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
      <h3>‚öôÔ∏è App Settings</h3>
      <button onclick="closeAppSettings()" style="background:none;border:none;color:var(--dry-sage);cursor:pointer;font-size:1.5rem;padding:0;line-height:1;">√ó</button>
    </div>
    
    <div style="display:flex;flex-direction:column;gap:16px;">
      <!-- Distance Units -->
      <div style="background:var(--hunter-green);padding:12px;border-radius:4px;border:1px solid var(--fern);">
        <div style="font-size:.85rem;font-weight:600;color:var(--dust-grey);margin-bottom:8px;">Distance Units</div>
        <select id="distance-units" style="width:100%;background:var(--pine-teal);border:1px solid var(--fern);border-radius:4px;padding:8px;color:var(--dust-grey);font-size:.8rem;">
          <option value="miles">Miles</option>
          <option value="kilometers">Kilometers</option>
        </select>
      </div>
      
      <!-- Auto-save -->
      <div style="background:var(--hunter-green);padding:12px;border-radius:4px;border:1px solid var(--fern);">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div>
            <div style="font-size:.85rem;font-weight:600;color:var(--dust-grey);">Auto-save</div>
            <div style="font-size:.7rem;color:var(--dry-sage);margin-top:4px;">Automatically save changes</div>
          </div>
          <input type="checkbox" id="auto-save" checked style="width:20px;height:20px;cursor:pointer;" />
        </div>
      </div>
      
      
      <!-- Confirm Before Delete -->
      <div style="background:var(--hunter-green);padding:12px;border-radius:4px;border:1px solid var(--fern);">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div>
            <div style="font-size:.85rem;font-weight:600;color:var(--dust-grey);">Confirm Deletions</div>
            <div style="font-size:.7rem;color:var(--dry-sage);margin-top:4px;">Ask before deleting locations</div>
          </div>
          <input type="checkbox" id="confirm-delete" checked style="width:20px;height:20px;cursor:pointer;" />
        </div>
      </div>
      
      <!-- Route Optimization -->
      <div style="background:var(--hunter-green);padding:12px;border-radius:4px;border:1px solid var(--fern);">
        <div style="font-size:.85rem;font-weight:600;color:var(--dust-grey);margin-bottom:8px;">Route Optimization</div>
        <select id="route-optimization" style="width:100%;background:var(--pine-teal);border:1px solid var(--fern);border-radius:4px;padding:8px;color:var(--dust-grey);font-size:.8rem;">
          <option value="fastest">Fastest Route</option>
          <option value="shortest">Shortest Distance</option>
          <option value="scenic">Avoid Highways</option>
        </select>
      </div>
      
      <!-- Theme -->
      <div style="background:var(--hunter-green);padding:12px;border-radius:4px;border:1px solid var(--fern);">
        <div style="font-size:.85rem;font-weight:600;color:var(--dust-grey);margin-bottom:8px;">Theme</div>
        <select id="theme-select" style="width:100%;background:var(--pine-teal);border:1px solid var(--fern);border-radius:4px;padding:8px;color:var(--dust-grey);font-size:.8rem;">
          <option value="forest">Forest (Default)</option>
          <option value="desert">Desert</option>
          <option value="ocean">Ocean</option>
          <option value="night">Night</option>
        </select>
      </div>
    </div>
    
    <div style="margin-top:20px;display:flex;justify-content:flex-end;gap:8px;">
      <button onclick="resetSettings()" style="background:none;border:1px solid var(--fern);color:var(--dry-sage);padding:8px 16px;border-radius:4px;cursor:pointer;font-size:.8rem;">Reset to Defaults</button>
      <button onclick="saveSettings()" style="background:var(--fern);color:var(--dust-grey);border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:.8rem;">Save Settings</button>
    </div>
  </div>
</div>

<!-- Maps Manager Modal -->
<div class="modal-overlay" id="maps-modal">
  <div class="modal" style="width:900px;max-width:95vw;height:85vh;max-height:85vh;display:flex;flex-direction:column;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
      <h3>üó∫Ô∏è My Maps</h3>
      <button onclick="closeMapsManager()" style="background:none;border:none;color:var(--dry-sage);cursor:pointer;font-size:1.5rem;padding:0;line-height:1;">√ó</button>
    </div>
    
    <div id="maps-grid" style="flex:1;overflow-y:auto;display:grid;grid-template-columns:repeat(auto-fill, minmax(240px, 1fr));gap:16px;padding:4px;">
      <!-- Maps will be dynamically loaded here -->
    </div>
  </div>
</div>

<div class="modal-overlay" id="expanded-list-modal">
  <div class="modal" style="width:90vw;max-width:1200px;height:85vh;max-height:85vh;display:flex;flex-direction:column;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
      <h3>üìã Expanded List View</h3>
      <button onclick="closeExpandedList()" style="background:none;border:none;color:var(--dry-sage);cursor:pointer;font-size:1.5rem;padding:0;line-height:1;">√ó</button>
    </div>
    
    <div style="display:flex;gap:8px;margin-bottom:12px;">
      <input type="text" id="expanded-search" placeholder="üîç Search..." style="flex:1;background:var(--pine-teal);border:1px solid var(--fern);border-radius:4px;padding:8px 12px;font-size:.85rem;color:var(--dust-grey);outline:none;" />
      <select id="expanded-sort" style="background:var(--pine-teal);border:1px solid var(--fern);border-radius:4px;padding:8px 12px;font-size:.75rem;color:var(--dust-grey);outline:none;">
        <option value="default">Default</option>
        <option value="alpha">A ‚Üí Z</option>
        <option value="interest-high">Want: High</option>
        <option value="interest-low">Want: Low</option>
        <option value="visited-high">Visit: High</option>
        <option value="visited-low">Visit: Low</option>
      </select>
    </div>
    
    <div id="expanded-tabs" style="display:flex;gap:4px;margin-bottom:12px;border-bottom:1px solid var(--fern);padding-bottom:8px;">
      <div class="exp-tab active" data-tab="all">All</div>
      <div class="exp-tab" data-tab="visited">Visited</div>
      <div class="exp-tab" data-tab="unvisited">Unvisited</div>
      <div class="exp-tab" data-tab="interests">Interests</div>
    </div>
    
    <div id="expanded-list" style="flex:1;overflow-y:auto;"></div>
  </div>
</div>

<input type="file" id="import-input" accept=".json" style="display:none;" />

<script>
console.log('=== AMBLEMAPS STARTING ===');

// Default locations (always available)
const DEFAULT_STOPS = [
  { id:0,  name:'Memphis, TN',        sub:'Starting Point',   lat:35.1495,  lng:-90.0490,  emoji:'üè†', desc:'Home base. Beale Street, BBQ, Mississippi.', note:'Starting point', interest:10, visited:null, mountain:false, notes:'' },
  { id:1,  name:'Austin, TX',         sub:'First Stop',       lat:30.2672,  lng:-97.7431,  emoji:'üé∏', desc:'Live music capital. 6th Street, Barton Springs.', note:'~7 hrs from Memphis', interest:9, visited:null, mountain:false, notes:'' },
  { id:2,  name:'East Jesus',         sub:'Slab City, CA',    lat:33.2557,  lng:-115.4957, emoji:'üé®', desc:'Off-grid art colony in Sonoran Desert.', note:'Near Niland, CA', interest:7, visited:null, mountain:false, notes:'' },
  { id:3,  name:'Sequoia Natl. Park', sub:'California',       lat:36.5785,  lng:-118.7798, emoji:'üå≤', desc:'General Sherman ‚Äî largest tree.', note:'Eastern Sierras', interest:8, visited:null, mountain:true, notes:'' },
  { id:4,  name:'Grand Canyon',       sub:'South Rim, AZ',    lat:36.0544,  lng:-112.1401, emoji:'üèúÔ∏è', desc:'277 miles long, a mile deep.', note:'South Rim accessible', interest:10, visited:null, mountain:true, notes:'' },
  { id:5,  name:'Zion National Park', sub:'Utah',             lat:37.2982,  lng:-113.0263, emoji:'üèîÔ∏è', desc:'The Narrows, Angels Landing.', note:'Red canyon country', interest:9, visited:null, mountain:true, notes:'' },
  { id:6,  name:'Monument Valley',    sub:'AZ / UT Border',   lat:36.9983,  lng:-110.0985, emoji:'üóø', desc:'The Mittens and Merrick Butte.', note:'Navajo Tribal Park', interest:9, visited:null, mountain:true, notes:'' },
  { id:7,  name:'Arches Natl. Park',  sub:'Utah',             lat:38.7331,  lng:-109.5925, emoji:'üåâ', desc:'2,000+ natural sandstone arches.', note:'Timed entry', interest:9, visited:null, mountain:true, notes:'' },
  { id:8,  name:'Moab',               sub:'Utah',             lat:38.5733,  lng:-109.5498, emoji:'üöµ', desc:'Gateway for Arches & Canyonlands.', note:'Base camp', interest:8, visited:null, mountain:true, notes:'' },
  { id:9,  name:'Eisenhower Tunnel',  sub:'I-70, Colorado',   lat:39.6475,  lng:-105.9003, emoji:'üöá', desc:'Highest tunnel at 11,013 ft.', note:'Check weather', interest:7, visited:null, mountain:true, notes:'' },
  { id:10, name:'Sturgis',            sub:'South Dakota',     lat:44.4089,  lng:-103.5082, emoji:'üèçÔ∏è', desc:'Black Hills rally town.', note:'August rally 500k+', interest:8, visited:null, mountain:false, notes:'' },
  { id:11, name:'Wilhelm Reich Museum', sub:'Rangeley, ME',   lat:44.96756, lng:-70.65923, emoji:'üß†', desc:'Psychoanalyst research site.', note:'Summer only', interest:6, visited:null, mountain:false, notes:'' }
];

let stops = [...DEFAULT_STOPS]; // Copy of defaults
let nextId = 12;
let interests = []; // Interest points array
let nextInterestId = 1;
let editingId = null;
let editingInterestId = null;
let currentTab = 'all';
let mapName = 'My Road Trip';

// Hamburger menu state
let hamburgerMenuOpen = false;

// Map layers (declare early to avoid hoisting issues)
let currentMapLayer = null;
let satelliteLayer = null;
let terrainLayer = null;
let darkLayer = null;
let topoLayer = null;

// Multi-map system
let currentMapId = 'default';
let allMaps = {};

// Interest point creation
let selectedEmoji = 'üìç';

// Emoji selector
const EMOJIS = ['üèñÔ∏è','üèïÔ∏è','üåã','üóª','üèùÔ∏è','üåä','ü¶Ö','ü¶å','üåµ','üèúÔ∏è','üå≤','üåâ','üèõÔ∏è','‚õ™','üè∞','üé°','üé∏','üé®','üöµ','üèçÔ∏è','üöó','‚úàÔ∏è','üöÇ','‚õΩ','üçñ','üç∫','‚òï','üõñ','üè†','üìç','üó∫Ô∏è','‚≠ê','üî•','üíé','üåÖ','üåÑ','üß†','üé≠','üè∫','üóø'];

// Expanded list view
let expandedCurrentTab = 'all';

const GYMS_DATA = [
  {addr:'255 Robins Rd Hiawatha IA',lat:42.04098,lng:-91.67288},
  {addr:'1343 Washington Ave San Leandro CA',lat:37.724,lng:-122.15654},
  {addr:'1855 Holmes St Livermore CA',lat:37.66208,lng:-121.78133},
  {addr:'1121 S Magnolia St Woodville TX',lat:30.76774,lng:-94.41494},
  {addr:'101 Park West Dr Scott LA',lat:30.24299,lng:-92.10036},
  {addr:'1128 Grand Caillou Rd Houma LA',lat:29.57923,lng:-90.69062},
  {addr:'1732 Deroche Cir Gramercy LA',lat:30.06245,lng:-90.69755},
  {addr:'5200 Veterans Memorial Blvd Metairie LA',lat:30.0052,lng:-90.19741},
  {addr:'4323 Airline Hwy Baton Rouge LA',lat:30.5095,lng:-91.14582},
  {addr:'6533 132nd Ave NE Kirkland WA',lat:47.66474,lng:-122.16582},
  {addr:'2529 Main St Union Gap WA',lat:46.56466,lng:-120.4813},
  {addr:'1804 W Francis Ave Spokane WA',lat:47.71572,lng:-117.43824},
  {addr:'4920 Roswell Rd NE Sandy Springs GA',lat:33.8886,lng:-84.38243},
  {addr:'6776 Hickory Flat Hwy Canton GA',lat:34.17005,lng:-84.41598},
  {addr:'3020 Calumet Ave Valparaiso IN',lat:41.50245,lng:-87.04052},
  {addr:'4112 Franklin St Michigan City IN',lat:41.67791,lng:-86.89254},
  {addr:'1290 E Ireland Rd South Bend IN',lat:41.62866,lng:-86.2777},
  {addr:'2934 E Dupont Rd Fort Wayne IN',lat:41.1787,lng:-85.10555},
  {addr:'514 S 13th St Decatur IN',lat:40.82159,lng:-84.93754},
  {addr:'210 W Carleton Rd Hillsdale MI',lat:41.92978,lng:-84.64276},
  {addr:'5801 Columbia Pkwy Rockford IL',lat:42.23899,lng:-89.00385},
  {addr:'500 Hawk Ridge Dr Hamburg PA',lat:40.54356,lng:-75.97814},
  {addr:'532 Pottsville Park Plz Pottsville PA',lat:40.69905,lng:-76.18698},
  {addr:'1800 Daisy St Clearfield PA',lat:41.02434,lng:-78.41399},
  {addr:'229 N Pottstown Pike Exton PA',lat:40.02797,lng:-75.62802},
  {addr:'7890 Haven Ave Rancho Cucamonga CA',lat:34.11048,lng:-117.57712},
  {addr:'8490 W Desert Inn Rd Las Vegas NV',lat:36.12964,lng:-115.2796},
  {addr:'1737 Lake Woodmoor Dr Monument CO',lat:39.09364,lng:-104.85917},
  {addr:'227 N Main St Tooele UT',lat:40.34201,lng:-112.44866},
  {addr:'8770 E Sr-70 Lakewood Ranch FL',lat:27.43275,lng:-82.43187},
  {addr:'3828 Sun City Center Blvd Sun City Center FL',lat:27.71501,lng:-82.37434},
  {addr:'2905 W Kennedy Blvd Tampa FL',lat:27.94487,lng:-82.49035},
  {addr:'11113 N Dale Mabry Hwy Tampa FL',lat:28.00084,lng:-82.5053},
  {addr:'1030 S 6th Ave Wauchula FL',lat:27.54924,lng:-81.8122},
  {addr:'10501 New Haven Rd Harrison OH',lat:39.26213,lng:-84.78798},
  {addr:'3435 Medlock Bridge Rd Peachtree Corners GA',lat:33.96997,lng:-84.20803},
  {addr:'270 Rucker Rd Roswell GA',lat:34.07944,lng:-84.35956},
  {addr:'830 N Shoop Ave Wauseon OH',lat:41.55848,lng:-84.13308},
  {addr:'3104 Milan Rd Sandusky OH',lat:41.43379,lng:-82.68938},
  {addr:'1410 Lafayette Ave Moundsville WV',lat:39.91044,lng:-80.74876},
  {addr:'390 W State St Hurricane UT',lat:37.17614,lng:-113.33474},
  {addr:'1827 Troup Hwy Tyler TX',lat:32.31737,lng:-95.27855},
  {addr:'103 St Paul St Henderson TX',lat:32.13336,lng:-94.80581},
  {addr:'4033 Lamar Ave Paris TX',lat:33.66152,lng:-95.50976},
  {addr:'3380 NE Loop 286 Paris TX',lat:33.67231,lng:-95.51584},
  {addr:'1301 N Hervey St Hope AR',lat:33.68072,lng:-93.60346},
  {addr:'3800 Monroe Hwy Pineville LA',lat:31.36834,lng:-92.4094},
  {addr:'2708 Santa Barbara Blvd Cape Coral FL',lat:26.60214,lng:-81.97489},
  {addr:'4057 Clark Rd Sarasota FL',lat:27.26921,lng:-82.46461},
  {addr:'3941 Tamiami Trl Punta Gorda FL',lat:26.88837,lng:-82.02542},
  {addr:'1101 Old Philadelphia Rd Jasper GA',lat:34.47458,lng:-84.45975},
  {addr:'5513 Edmondson Pike Nashville TN',lat:36.0435,lng:-86.74457},
  {addr:'645 S Mount Juliet Rd Mt Juliet TN',lat:36.20901,lng:-86.51632},
  {addr:'6817 W Brown Deer Rd Milwaukee WI',lat:43.17731,lng:-87.99631},
  {addr:'2442 Costco Way Bellevue WI',lat:44.46054,lng:-87.98562},
  {addr:'283 W Centre Ave Portage MI',lat:42.20091,lng:-85.59158},
  {addr:'1160 E Lerdo Hwy Shafter CA',lat:35.50032,lng:-119.25876},
  {addr:'1624 E St Patrick St Rapid City SD',lat:44.06818,lng:-103.18867},
  {addr:'19437 Evans St NW Elk River MN',lat:45.32547,lng:-93.56082},
  {addr:'1460 85th Ave N Brooklyn Park MN',lat:45.10885,lng:-93.29988},
  {addr:'10731 University Ave NE Blaine MN',lat:45.16487,lng:-93.26613},
  {addr:'2515 White Bear Ave N Maplewood MN',lat:44.99724,lng:-93.02525},
  {addr:'120 Heritage Blvd NE Isanti MN',lat:45.49256,lng:-93.24334},
  {addr:'1107 Market St Charlestown IN',lat:38.45454,lng:-85.67025},
  {addr:'728 N Main St Springboro OH',lat:39.5763,lng:-84.23086},
  {addr:'1953 S Alex Rd West Carrollton OH',lat:39.64157,lng:-84.24349},
  {addr:'Twin Falls ID US',lat:42.55585,lng:-114.47007},
  {addr:'26940 SE Stark St Troutdale OR',lat:45.51802,lng:-122.38628},
  {addr:'1700 W Market St Bolivar TN',lat:35.25627,lng:-88.99195},
  {addr:'101 N Service Rd Blytheville AR',lat:35.93034,lng:-89.87484},
  {addr:'591 W Church St Lexington TN',lat:35.65643,lng:-88.40803},
  {addr:'1416 N Brindlee Mountain Pkwy Arab AL',lat:34.34153,lng:-86.50269},
  {addr:'11613 Catalpa Ln Woodstock IL',lat:42.29421,lng:-88.42454},
  {addr:'1429 Peterson Rd Libertyville IL',lat:42.30556,lng:-87.98165},
  {addr:'520 Hartbrook Dr Hartland WI',lat:43.11085,lng:-88.34094},
  {addr:'6015 W Forest Home Ave Milwaukee WI',lat:42.97626,lng:-87.98827},
  {addr:'4450 Black Horse Pike Mays Landing NJ',lat:39.45216,lng:-74.64774},
  {addr:'7709 Crittenden St Philadelphia PA',lat:40.07294,lng:-75.19503},
  {addr:'4030 E Thunderbird Rd Phoenix AZ',lat:33.61195,lng:-111.99509},
  {addr:'4720 E Queen Creek Rd Gilbert AZ',lat:33.26755,lng:-111.68751},
  {addr:'8257 E Guadalupe Rd Mesa AZ',lat:33.3634,lng:-111.65572},
  {addr:'40601 N Gantzel Rd San Tan Valley AZ',lat:33.24795,lng:-111.56144},
  {addr:'4924 I 55 N Jackson MS',lat:32.36259,lng:-90.15018},
  {addr:'207 N Davis Ave Cleveland MS',lat:33.7461,lng:-90.71704},
  {addr:'2500 S Woodlands Village Blvd Flagstaff AZ',lat:35.17805,lng:-111.66677},
  {addr:'21819 Marine View Dr S Des Moines WA',lat:47.40636,lng:-122.32577},
  {addr:'1642 Olive Branch Parke Ln Greenwood IN',lat:39.59297,lng:-86.16089},
  {addr:'5748 Crawfordsville Rd Speedway IN',lat:39.7974,lng:-86.26079},
  {addr:'7035 E 96th St Indianapolis IN',lat:39.92628,lng:-86.04493},
  {addr:'1515 Lincoln Way E Chambersburg PA',lat:39.92899,lng:-77.63562},
  {addr:'2005 Miller Rd East Petersburg PA',lat:40.09365,lng:-76.35026},
  {addr:'9430 Warner Ave Fountain Valley CA',lat:33.71498,lng:-117.96429},
  {addr:'20045 Katy Fwy Katy TX',lat:29.78526,lng:-95.80182},
  {addr:'18535 FM-1488 Magnolia TX',lat:30.21313,lng:-95.75161},
  {addr:'1100 Clements Brownwood TX',lat:31.72848,lng:-98.97987},
  {addr:'4511 College Ave Snyder TX',lat:32.69729,lng:-100.91927},
  {addr:'4305 E',lat:32.46087,lng:-97.72015},
  {addr:'518 Main Ave Gaylord MN',lat:44.55336,lng:-94.22259},
  {addr:'1751 N Victory Dr Mankato MN',lat:44.18204,lng:-93.95459},
  {addr:'20192 Heritage Dr Lakeville MN',lat:44.65747,lng:-93.24773},
  {addr:'510 Highway 466 Lady Lake FL',lat:28.91577,lng:-81.93221},
  {addr:'3930 SW 42nd St Ocala FL',lat:29.14599,lng:-82.1881},
  {addr:'103 North Ave Glendale Heights IL',lat:41.90244,lng:-88.08694},
  {addr:'71 E Irving Park Rd Streamwood IL',lat:42.01312,lng:-88.18139},
  {addr:'427 S Bartlett Rd Streamwood IL',lat:42.00748,lng:-88.18551},
  {addr:'1317 N Wolf Rd Mount Prospect IL',lat:42.08837,lng:-87.9073},
  {addr:'W 55TH St La Grange IL',lat:41.79029,lng:-87.87833},
  {addr:'4265 Howard Ave Kensington MD',lat:39.02935,lng:-77.07775},
  {addr:'12958 W Indian School Rd Litchfield Park AZ',lat:33.48604,lng:-112.35856},
  {addr:'12573 Broadway St Pearland TX',lat:29.55645,lng:-95.41502},
  {addr:'7403 Cantrell Rd Little Rock AR',lat:34.77097,lng:-92.35614},
  {addr:'2065 W Center St Beebe AR',lat:35.06842,lng:-91.90596},
  {addr:'102 Block St Marion AR',lat:35.21402,lng:-90.19423},
  {addr:'1700 Linwood Dr Paragould AR',lat:36.04036,lng:-90.51164},
  {addr:'2701 Frederick Rd Opelika AL',lat:32.62028,lng:-85.41594},
  {addr:'8319 Bell Creek Rd Mechanicsville VA',lat:37.63697,lng:-77.3575},
  {addr:'1347 Armory Dr Franklin VA',lat:36.66997,lng:-76.94651},
  {addr:'780 W 20th St Norfolk VA',lat:36.87022,lng:-76.29606},
  {addr:'2090 Princess Anne Rd Virginia Beach VA',lat:36.75086,lng:-76.0107},
  {addr:'250 Albany Tpke Canton CT',lat:41.82876,lng:-72.90196},
  {addr:'30 Main St Glastonbury CT',lat:41.63673,lng:-72.60505},
  {addr:'1710 S Colorado St Lockhart TX',lat:29.88622,lng:-97.67069},
  {addr:'122 Hasler Shores Dr Bastrop TX',lat:30.11259,lng:-97.33777},
  {addr:'1407 Mormon Mill Rd Marble Falls TX',lat:30.58336,lng:-98.27105},
  {addr:'2400 E Austin St Giddings TX',lat:30.17772,lng:-96.91464},
  {addr:'1251 Pin Oak Rd Katy TX',lat:29.77316,lng:-95.81691},
  {addr:'320 N Main St Newton KS',lat:38.04599,lng:-97.34498},
  {addr:'29 N Mill St Pryor OK',lat:36.29039,lng:-95.32511},
  {addr:'10144 W Oakland Park Blvd Sunrise FL',lat:26.16898,lng:-80.29498},
  {addr:'524 Winfield Dunn Pkwy Sevierville TN',lat:35.86954,lng:-83.56762},
  {addr:'2726 N Lake Dr Columbia SC',lat:34.09741,lng:-81.22056},
  {addr:'5878 Mayfield Rd Mayfield Heights OH',lat:41.51997,lng:-81.46793},
  {addr:'3 Franklin Village Mall Kittanning PA',lat:40.81171,lng:-79.54092},
  {addr:'7050 Dexter Ann Arbor Rd Dexter MI',lat:42.32653,lng:-83.87024},
  {addr:'630 California St El Segundo CA',lat:33.92454,lng:-118.40185},
  {addr:'3324 W Owen K Garriott Rd Enid OK',lat:36.39091,lng:-97.92161},
  {addr:'303 E Main St Henryetta OK',lat:35.43948,lng:-95.979},
  {addr:'1328 Buford Highway NE Buford GA',lat:34.091,lng:-84.01918},
  {addr:'28 S Main St Travelers Rest SC',lat:34.9672,lng:-82.44195},
  {addr:'955 W Wade Hampton Blvd Greer SC',lat:34.94489,lng:-82.25114},
  {addr:'163 Hadden Heights Rd Spartanburg SC',lat:34.93489,lng:-82.01002},
  {addr:'475 Oakland St Morgantown WV',lat:39.65032,lng:-79.96324},
  {addr:'2350 Noblestown Rd Pittsburgh PA',lat:40.42756,lng:-80.05549},
  {addr:'1056 Wyoming Ave Wyoming PA',lat:41.30015,lng:-75.85124},
  {addr:'804 S Central Expy Anna TX',lat:33.3549,lng:-96.58475},
  {addr:'10200 Eastern Shore Blvd Spanish Fort AL',lat:30.66433,lng:-87.84786},
  {addr:'6568 Caroline St Milton FL',lat:30.62026,lng:-87.04823},
  {addr:'10211 Prosperity Park Dr Charlotte NC',lat:35.36483,lng:-80.78676},
  {addr:'1108 D St North Wilkesboro NC',lat:36.15987,lng:-81.15159},
  {addr:'5225 Sunset Lake Rd Holly Springs NC',lat:35.66737,lng:-78.79673},
  {addr:'2133 S Linden Rd Flint MI',lat:42.95964,lng:-83.7716},
  {addr:'2241 E Hill Rd Grand Blanc MI',lat:42.94484,lng:-83.66329},
  {addr:'31887 Utica Rd Fraser MI',lat:42.53092,lng:-82.94922},
  {addr:'7165 Buckley Rd Liverpool NY',lat:43.11823,lng:-76.15973},
  {addr:'579 Troy Schenectady Rd Latham NY',lat:42.75572,lng:-73.7606},
  {addr:'1146 Forest Ave Pacific Grove CA',lat:36.60683,lng:-121.92246},
  {addr:'3401 W Airport Fwy Irving TX',lat:32.83958,lng:-96.99178},
  {addr:'3601 Regent Blvd Irving TX',lat:32.92152,lng:-96.99591},
  {addr:'7602 N Jupiter Rd Garland TX',lat:32.96763,lng:-96.68256},
  {addr:'1200 E Davis St Mesquite TX',lat:32.76377,lng:-96.58433},
  {addr:'2767 W Republic Rd Springfield MO',lat:37.13847,lng:-93.33342},
  {addr:'1473 E 151st St Olathe KS',lat:38.85456,lng:-94.79378},
  {addr:'14820 Metcalf Ave Overland Park KS',lat:38.85967,lng:-94.66791},
  {addr:'105 S Jefferson St Kearney MO',lat:39.37281,lng:-94.36244},
  {addr:'138 Lake Ridge Dr Lake Placid FL',lat:27.26052,lng:-81.339},
  {addr:'138 Lake Ridge Dr Lake Placid FL',lat:27.26052,lng:-81.339},
  {addr:'802 SE Becker Rd Port Saint Lucie FL',lat:27.21101,lng:-80.32713},
  {addr:'544 Robert Blvd Slidell LA',lat:30.29833,lng:-89.75847},
  {addr:'4124 Celanese Rd Rock Hill SC',lat:34.97892,lng:-81.06546},
  {addr:'3399 Elizabeth Lake Rd Waterford MI',lat:42.6386,lng:-83.35325},
  {addr:'1390 Walton Blvd Rochester Hills MI',lat:42.68158,lng:-83.15902},
  {addr:'295 Westport Ave Norwalk CT',lat:41.12546,lng:-73.39525},
  {addr:'9023 Huebner Rd San Antonio TX',lat:29.52596,lng:-98.59777},
  {addr:'26108 Overlook Pkwy San Antonio TX',lat:29.68508,lng:-98.47349},
  {addr:'210 Frontier St Lexington NE',lat:40.74654,lng:-99.74291},
  {addr:'4131 Pioneer Woods Dr Lincoln NE',lat:40.77083,lng:-96.62279},
  {addr:'11336 S 96th St Papillion NE',lat:41.14524,lng:-96.06567},
  {addr:'2601 Cornhusker Dr South Sioux City NE',lat:42.46381,lng:-96.42707},
  {addr:'3023 Hamilton Blvd Sioux City IA',lat:42.52285,lng:-96.41783},
  {addr:'12231 E Colonial Dr Orlando FL',lat:28.55342,lng:-81.32221},
  {addr:'722 Cheney Hwy Titusville FL',lat:28.5574,lng:-80.80896},
  {addr:'513 Jubilee Ln Germantown Hills IL',lat:40.76608,lng:-89.47417},
  {addr:'101 S Fruitridge Ave Terre Haute IN',lat:39.47253,lng:-87.36012},
  {addr:'109 W John St Champaign IL',lat:40.10833,lng:-88.24432},
  {addr:'1628 Georgetown Rd Tilton IL',lat:40.09598,lng:-87.63556},
  {addr:'4100 Columbus St Ottawa IL',lat:41.37974,lng:-88.83535},
  {addr:'1323 N Galena Ave Dixon IL',lat:41.86039,lng:-89.49965},
  {addr:'13350 Lincoln Plz Cedar Lake IN',lat:41.37644,lng:-87.45219},
  {addr:'262 81st Ave Dyer IN',lat:41.47186,lng:-87.50173},
  {addr:'75 Portsmouth Ave Exeter NH',lat:42.98527,lng:-70.93589},
  {addr:'860 E Renfro St Burleson TX',lat:32.53705,lng:-97.30095},
  {addr:'4101 W Green Oaks Blvd Arlington TX',lat:32.68206,lng:-97.19494},
  {addr:'2360 W Camp Wisdom Rd Grand Prairie TX',lat:32.64881,lng:-97.04178},
  {addr:'643 Sherry Ln Fort Worth TX',lat:32.75231,lng:-97.42959},
  {addr:'2701 W Park Row Dr Arlington TX',lat:32.72147,lng:-97.15121},
  {addr:'1029 N Saginaw Blvd Saginaw TX',lat:32.87541,lng:-97.3771},
  {addr:'761 Keller Pkwy Keller TX',lat:32.93445,lng:-97.23712},
  {addr:'2350 Hall Johnson Rd Grapevine TX',lat:32.89344,lng:-97.10234},
  {addr:'4720 E 41st St Sioux Falls SD',lat:43.51527,lng:-96.66903},
  {addr:'1925 Grand Ave West Des Moines IA',lat:41.57245,lng:-93.73147},
  {addr:'700 N Grand Ave Mount Pleasant IA',lat:40.97487,lng:-91.53587},
  {addr:'105 West St S Grinnell IA',lat:41.73137,lng:-92.72716},
  {addr:'Cedar Rapids IA US',lat:41.97589,lng:-91.67041},
  {addr:'1700 N Monroe St Tallahassee FL',lat:30.46204,lng:-84.28484},
  {addr:'177 SW Range Ave Madison FL',lat:30.46744,lng:-83.41287},
  {addr:'15202 NW 147th Dr Alachua FL',lat:29.79599,lng:-82.50245},
  {addr:'3380 Canoe Creek Rd St Cloud FL',lat:28.22507,lng:-81.29304},
  {addr:'4645 Gallia St Portsmouth OH',lat:38.74023,lng:-82.96419},
  {addr:'81 Callohill Dr Lovingston VA',lat:37.75321,lng:-78.87816},
  {addr:'710 Amelia St Fredericksburg VA',lat:38.30222,lng:-77.46581},
  {addr:'120 N Maple Ave Purcellville VA',lat:39.13747,lng:-77.70478},
  {addr:'536 Fort Evans Rd NE Leesburg VA',lat:39.09979,lng:-77.51865},
  {addr:'16453 Merchants Ln King George VA',lat:38.35259,lng:-77.05459},
  {addr:'6400 Brandon Ave Springfield VA',lat:38.78047,lng:-77.18374},
  {addr:'187 Summer St Kingston MA',lat:42.01192,lng:-70.73016},
  {addr:'135 King St Northampton MA',lat:42.32417,lng:-72.63249},
  {addr:'71 Pullman St Worcester MA',lat:42.3242,lng:-71.79823},
  {addr:'52 Nason St Maynard MA',lat:42.43354,lng:-71.45325},
  {addr:'501 Nagog Park Acton MA',lat:42.52566,lng:-71.4301},
  {addr:'8928 Lakewood Dr Windsor CA',lat:38.55018,lng:-122.80558},
  {addr:'939 Golf Course Dr Rohnert Park CA',lat:38.36332,lng:-122.6925},
  {addr:'175 S Orchard Ave Ukiah CA',lat:39.15005,lng:-123.19758},
  {addr:'2351 N Main St Liberty TX',lat:30.0743,lng:-94.78281},
  {addr:'850 S Loop 336 Conroe TX',lat:30.31265,lng:-95.50574},
  {addr:'2414 Sam Houston Ave Huntsville TX',lat:30.70653,lng:-95.54789},
  {addr:'803 1st Ave SE Moultrie GA',lat:31.17926,lng:-83.77897},
  {addr:'821 Main St Munster IN',lat:41.52324,lng:-87.5073},
  {addr:'1346 W Devon Ave Chicago IL',lat:41.99833,lng:-87.6649},
  {addr:'4112 Pleasant Valley Rd Raleigh NC',lat:35.86036,lng:-78.70495},
  {addr:'62 Providence Pike Putnam CT',lat:41.92682,lng:-71.8762},
  {addr:'22 Kingstown Rd Wyoming RI',lat:41.51097,lng:-71.6863},
  {addr:'6911 Katella Ave Cypress CA',lat:33.80303,lng:-118.01277},
  {addr:'4341 Harrison Blvd Ogden UT',lat:41.18393,lng:-111.94919},
  {addr:'700 Hammond Dr Hopkinsville KY',lat:36.83402,lng:-87.47641},
  {addr:'164 Iron Skillet Ct Bowling Green KY',lat:36.92842,lng:-86.41414},
  {addr:'3050 Turnberry Ct Grove City OH',lat:39.90156,lng:-83.07579},
  {addr:'1571 Covington Ave Piqua OH',lat:40.14126,lng:-84.26719},
  {addr:'205 Defiance St Wapakoneta OH',lat:40.57269,lng:-84.19694},
  {addr:'125 W Ohio St Kenton OH',lat:40.64595,lng:-83.60844},
  {addr:'820 N Locust St Ottawa OH',lat:41.02833,lng:-84.04402},
  {addr:'1175 W Washington St Marquette MI',lat:46.54549,lng:-87.42195},
  {addr:'1075 Sperry Ave Patterson CA',lat:37.46464,lng:-121.14412},
  {addr:'507 Jefferson Ter New Iberia LA',lat:29.9911,lng:-91.80572},
  {addr:'4600 Freret St New Orleans LA',lat:29.93473,lng:-90.10568},
  {addr:'11294 Florida Blvd Baton Rouge LA',lat:30.45861,lng:-91.06155},
  {addr:'13091 Airline Hwy Gonzales LA',lat:30.23079,lng:-90.90648},
  {addr:'23435 NE Novelty Hill Rd Redmond WA',lat:47.70004,lng:-122.02491},
  {addr:'514 Basin St NW Ephrata WA',lat:47.3257,lng:-119.54788},
  {addr:'740 E Main St Othello WA',lat:46.82611,lng:-119.16427},
  {addr:'3125 Old Fairhaven Pkwy Bellingham WA',lat:48.71522,lng:-122.47644},
  {addr:'11515 State Ave Marysville WA',lat:48.09954,lng:-122.17348},
  {addr:'1513 S Broad St Scottsboro AL',lat:34.65441,lng:-86.03509},
  {addr:'3020 N Calumet Ave Valparaiso IN',lat:41.51215,lng:-87.03492},
  {addr:'1302 N Cass St Wabash IN',lat:40.81237,lng:-85.83532},
  {addr:'322 N Bittersweet Rd Mishawaka IN',lat:41.66379,lng:-86.1093},
  {addr:'1531 W Lane Rd Machesney Park IL',lat:42.36569,lng:-89.03368},
  {addr:'13514 Julie Dr Poplar Grove IL',lat:42.34762,lng:-88.8489},
  {addr:'717 E Diggins St Harvard IL',lat:42.42198,lng:-88.60458},
  {addr:'534 Pottsville Park Plz Pottsville PA',lat:40.699,lng:-76.18711},
  {addr:'702 Lantana Dr Hockessin DE',lat:39.77466,lng:-75.71083},
  {addr:'3191 Mission Inn Ave Riverside CA',lat:33.98044,lng:-117.36763},
  {addr:'301 N Main St Hereford TX',lat:34.81807,lng:-102.40033},
  {addr:'5747 Amarillo Blvd W Amarillo TX',lat:35.22236,lng:-101.88194},
  {addr:'1785 E Cheyenne Mountain Blvd Colorado Springs CO',lat:38.79492,lng:-104.80098},
  {addr:'1402 N Main St Guymon OK',lat:36.69493,lng:-101.48159},
  {addr:'143 W Sr 198 Salem UT',lat:40.04794,lng:-111.69566},
  {addr:'609 10th St E Palmetto FL',lat:27.52133,lng:-82.55885},
  {addr:'3725 49th St N Saint Petersburg FL',lat:27.8048,lng:-82.69997},
  {addr:'134 Martin Luther King Jr Blvd Monroe GA',lat:33.79489,lng:-83.74471},
  {addr:'1038 N Main St Bowling Green OH',lat:41.38824,lng:-83.64933},
  {addr:'199 Stetzer Rd S Bucyrus OH',lat:40.80929,lng:-82.94723},
  {addr:'102 Commerce Park Dr Bellevue OH',lat:41.28496,lng:-82.88622},
  {addr:'18603 Wedge Pkwy Reno NV',lat:39.39122,lng:-119.76837},
  {addr:'2881 Northtowne Ln Reno NV',lat:39.55516,lng:-119.78266},
  {addr:'304 NE Agness Ave Grants Pass OR',lat:42.43514,lng:-123.29892},
  {addr:'19115 Florida Blvd Albany LA',lat:30.50416,lng:-90.58051},
  {addr:'636 TX-31 Chandler TX',lat:32.30885,lng:-95.4731},
  {addr:'1772 S 5th St Leesville LA',lat:31.12635,lng:-93.26763},
  {addr:'3415 Richmond Rd Texarkana TX',lat:33.46743,lng:-94.09531},
  {addr:'1221 NW Main St Bunkie LA',lat:30.95921,lng:-92.19047},
  {addr:'3104 Flagler Ave Key West FL',lat:24.56123,lng:-81.7654},
  {addr:'4115 Mallory Ln Franklin TN',lat:35.93003,lng:-86.82439},
  {addr:'1102 E Chestnut St Chilton WI',lat:44.02025,lng:-88.15282},
  {addr:'2701 S Business Dr Sheboygan WI',lat:43.72662,lng:-87.73415},
  {addr:'3430 Mill Rd Sheboygan WI',lat:43.78528,lng:-87.75221},
  {addr:'825 S Huron Rd Green Bay WI',lat:44.51065,lng:-87.91002},
  {addr:'1551 S Valley Forge Rd Lansdale PA',lat:40.22976,lng:-75.31334},
  {addr:'441 Elizabeth Ave Somerset NJ',lat:40.5332,lng:-74.53853},
  {addr:'939 Sierra St Kingsburg CA',lat:36.51788,lng:-119.55612},
  {addr:'1111 Francis St Longmont CO',lat:40.17813,lng:-105.11706},
  {addr:'4117 Hillcrest Plz Vernon TX',lat:34.16132,lng:-99.3121},
  {addr:'205 6th St NE Devils Lake ND',lat:48.11393,lng:-98.86317},
  {addr:'5145 CR-101 Medina MN',lat:45.04598,lng:-93.52677},
  {addr:'3450 Bunker Lake Blvd Andover MN',lat:45.21969,lng:-93.35359},
  {addr:'38873 14th Ave North Branch MN',lat:45.51244,lng:-92.99083},
  {addr:'418 Main St Sandstone MN',lat:46.13254,lng:-92.8662},
  {addr:'24556 WI-35 Siren WI',lat:45.80609,lng:-92.37439},
  {addr:'459 Keene Centre Dr Nicholasville KY',lat:37.89646,lng:-84.58603},
  {addr:'1525 Genntown Dr Lebanon OH',lat:39.4552,lng:-84.17594},
  {addr:'332 Dakota St Sutherlin OR',lat:43.38819,lng:-123.34077},
  {addr:'1399 Monmouth St Independence OR',lat:44.85122,lng:-123.20995},
  {addr:'212 SW 4th St Madras OR',lat:44.63336,lng:-121.13082},
  {addr:'355 Caldwell Blvd Nampa ID',lat:43.59115,lng:-116.58228},
  {addr:'2600 American Legion Blvd Mountain Home ID',lat:43.13383,lng:-115.6687},
  {addr:'943 Amoretti St Lander WY',lat:42.83891,lng:-108.74303},
  {addr:'534 Yellowstone Ave Cody WY',lat:44.51687,lng:-109.08565},
  {addr:'2240 Coffeen Ave Sheridan WY',lat:44.75648,lng:-106.94731},
  {addr:'1875 Central Park Dr Steamboat Springs CO',lat:40.46195,lng:-106.82079},
  {addr:'1350 S Colorado Blvd Denver CO',lat:39.69202,lng:-104.94045},
  {addr:'9910 Wadsworth Pkwy Westminster CO',lat:39.87631,lng:-105.09362},
  {addr:'1112 N Springbrook Rd Newberg OR',lat:45.3083,lng:-122.94706},
  {addr:'4326 S Settler Dr Ridgefield WA',lat:45.81432,lng:-122.70371},
  {addr:'60383 Cotton Gin Port Rd Amory MS',lat:33.96943,lng:-88.45889},
  {addr:'1500 Military St Hamilton AL',lat:34.12299,lng:-87.99149},
  {addr:'201 Dover Rd Clarksville TN',lat:36.55224,lng:-87.39526},
  {addr:'20014 E Grant Hwy Marengo IL',lat:42.24042,lng:-88.5864},
  {addr:'9521 Ackman Rd Lake in the Hills IL',lat:42.20382,lng:-88.38224},
  {addr:'1555 N Water St Milwaukee WI',lat:43.05058,lng:-87.90683},
  {addr:'N64W24340 Main St Sussex WI',lat:43.1346,lng:-88.23081},
  {addr:'1601 High St N Millville NJ',lat:39.41384,lng:-75.03998},
  {addr:'2737 W Thunderbird Rd Phoenix AZ',lat:33.60968,lng:-112.11917},
  {addr:'9120 Viscount Blvd El Paso TX',lat:31.77359,lng:-106.36812},
  {addr:'10599 Kenworthy St El Paso TX',lat:31.91942,lng:-106.43607},
  {addr:'759 AZ-89 Chino Valley AZ',lat:34.73455,lng:-112.45395},
  {addr:'3151 E 20th St Farmington NM',lat:36.74793,lng:-108.16337},
  {addr:'13210 SE 240th St Kent WA',lat:47.38753,lng:-122.16503},
  {addr:'10200 Ford Ave Richmond Hill GA',lat:31.94583,lng:-81.30963},
  {addr:'1137 Oakland Market Rd Mount Pleasant SC',lat:32.86282,lng:-79.78567},
  {addr:'US',lat:39.78373,lng:-100.44588},
  {addr:'800 E Main St Tupelo MS',lat:34.25738,lng:-88.68564},
  {addr:'1168 N Main St Franklin IN',lat:39.49147,lng:-86.06102},
  {addr:'1472 W 86th St Indianapolis IN',lat:39.91392,lng:-86.18531},
  {addr:'110 W Main St Carmel IN',lat:39.9785,lng:-86.1292},
  {addr:'222 S Main St Rushville IN',lat:39.60659,lng:-85.44466},
  {addr:'520 E Baltimore St Taneytown MD',lat:39.64867,lng:-77.1568},
  {addr:'2650 Jamacha Rd El Cajon CA',lat:32.74512,lng:-116.93269},
  {addr:'12222 Poway Rd Poway CA',lat:32.9521,lng:-117.06599},
  {addr:'404 University Dr E College Station TX',lat:30.63018,lng:-96.3311},
  {addr:'5418 W Adams Ave Temple TX',lat:31.11309,lng:-97.39935},
  {addr:'704 N Hewitt Dr Hewitt TX',lat:31.47682,lng:-97.20374},
  {addr:'985 Avenue Of The Cities Silvis IL',lat:41.48945,lng:-90.42641},
  {addr:'16 N 29th St Fort Dodge IA',lat:42.50709,lng:-94.15896},
  {addr:'128 Main St E Sleepy Eye MN',lat:44.29734,lng:-94.72236},
  {addr:'512 1st St S New Ulm MN',lat:44.3122,lng:-94.45831},
  {addr:'221 Chalupsky Ave SE New Prague MN',lat:44.5386,lng:-93.55667},
  {addr:'2200 Commerce Blvd Mound MN',lat:44.93902,lng:-93.6661},
  {addr:'5309 S Lyndale Ave Minneapolis MN',lat:44.90624,lng:-93.28803},
  {addr:'897 St Paul Ave St Paul MN',lat:44.91377,lng:-93.18612},
  {addr:'Lutz FL US',lat:28.15112,lng:-82.46148},
  {addr:'16244 State Road 54 Odessa FL',lat:28.18856,lng:-82.54704},
  {addr:'8411 Balm St Spring Hill FL',lat:28.50531,lng:-82.58891},
  {addr:'6866 E SR-44 Wildwood FL',lat:28.82592,lng:-81.98973},
  {addr:'941 N 14th St Leesburg FL',lat:28.82134,lng:-81.88731},
  {addr:'10700',lat:28.82073,lng:-81.77929},
  {addr:'17195 US-441 Eustis FL',lat:28.82393,lng:-81.65377},
  {addr:'2830 S Highland Ave Lombard IL',lat:41.8357,lng:-88.01248},
  {addr:'103 E North Ave Glendale Heights IL',lat:41.90266,lng:-88.08397},
  {addr:'1061 S York Rd Bensenville IL',lat:41.93328,lng:-87.93816},
  {addr:'5570 W 159th St Oak Forest IL',lat:41.6045,lng:-87.75478},
  {addr:'911 E 162nd St South Holland IL',lat:41.60037,lng:-87.59538},
  {addr:'8868 E Tanque Verde Rd Tucson AZ',lat:32.25801,lng:-110.80453},
  {addr:'13915 N Dysart Rd El Mirage AZ',lat:33.60978,lng:-112.34156},
  {addr:'1102 Yale St Houston TX',lat:29.79084,lng:-95.39888},
  {addr:'2416 Bay Area Blvd Houston TX',lat:29.57651,lng:-95.10702},
  {addr:'2501 Dave Ward Dr Conway AR',lat:35.06979,lng:-92.46419},
  {addr:'113 N Missouri St West Memphis AR',lat:35.16456,lng:-90.1847},
  {addr:'3918 Us-45 Columbus MS',lat:33.54975,lng:-88.43313},
  {addr:'1548 S US-231 Ozark AL',lat:31.44921,lng:-85.65935},
  {addr:'2999 Corporate Ln Suffolk VA',lat:36.7782,lng:-76.58168},
  {addr:'560 Boston Post Rd Orange CT',lat:41.25131,lng:-73.01773},
  {addr:'825 Queen St Southington CT',lat:41.64007,lng:-72.87161},
  {addr:'3165 Rosecrans St San Diego CA',lat:32.75101,lng:-117.20516},
  {addr:'1671 Main St Buda TX',lat:30.08825,lng:-97.82248},
  {addr:'501 N Main St Schulenburg TX',lat:29.67994,lng:-96.90498},
  {addr:'Sugar Land TX US',lat:29.61968,lng:-95.63495},
  {addr:'1812 S Seneca St Wichita KS',lat:37.66116,lng:-97.3522},
  {addr:'2427 W Center St Greenwood AR',lat:35.22306,lng:-94.29794},
  {addr:'pharmacy',lat:43.72596,lng:-79.29605},
  {addr:'1169 Royal Palm Beach Blvd Royal Palm Beach FL',lat:26.70754,lng:-80.22924},
  {addr:'12572 Kingston Pike Farragut TN',lat:35.86638,lng:-84.20043},
  {addr:'5082 Sunset Blvd Lexington SC',lat:34.01342,lng:-81.16732},
  {addr:'8009 Mayfield Rd Chesterland OH',lat:41.52154,lng:-81.35573},
  {addr:'3832 S McColl Rd Edinburg TX',lat:26.26895,lng:-98.20053},
  {addr:'5901 S Sooner Rd Oklahoma City OK',lat:35.40706,lng:-97.42435},
  {addr:'8003 NW 122nd St Oklahoma City OK',lat:35.59496,lng:-97.65722},
  {addr:'100 Main St Wintersville OH',lat:40.37116,lng:-80.68535},
  {addr:'46 Old Mill Blvd Washington PA',lat:40.18996,lng:-80.22043},
  {addr:'5050 William Penn Hwy Monroeville PA',lat:40.42777,lng:-79.7078},
  {addr:'34 S 4th St Pittsburgh PA',lat:40.42967,lng:-79.996},
  {addr:'9795 Perry Hwy Wexford PA',lat:40.58576,lng:-80.04532},
  {addr:'801 Male Rd Wind Gap PA',lat:40.83963,lng:-75.30014},
  {addr:'180 Mary Ave Nipomo CA',lat:35.03375,lng:-120.48568},
  {addr:'2318 Greencrest Blvd Rockwall TX',lat:32.90187,lng:-96.45967},
  {addr:'5701 State Highway 121 The Colony TX',lat:33.0813,lng:-96.85398},
  {addr:'1108 N Greenville Ave Allen TX',lat:33.11445,lng:-96.65299},
  {addr:'2014 W University Dr McKinney TX',lat:33.21698,lng:-96.63937},
  {addr:'5938 Broadway St Galveston TX',lat:29.28925,lng:-94.83299},
  {addr:'110 W 3rd St Sedalia MO',lat:38.70884,lng:-93.22882},
  {addr:'201 S Bishop Ave Rolla MO',lat:37.93471,lng:-91.77781},
  {addr:'2022 Phoenix Center Dr Washington MO',lat:38.53724,lng:-90.98571},
  {addr:'7517 Mexico Rd St Peters MO',lat:38.7881,lng:-90.64001},
  {addr:'3456 Hillcrest Rd Mobile AL',lat:30.61832,lng:-88.19161},
  {addr:'21862 Al-59 Robertsdale AL',lat:30.54317,lng:-87.70823},
  {addr:'465 Pike St Monroeville AL',lat:31.51201,lng:-87.31831},
  {addr:'303 S Van Buren St Carthage MS',lat:32.72735,lng:-89.52836},
  {addr:'2934 N Hills St Meridian MS',lat:32.40861,lng:-88.70838},
  {addr:'844 N Main St Mount Airy NC',lat:36.50849,lng:-80.60968},
  {addr:'1099 St Clair River Dr Algonac MI',lat:42.61897,lng:-82.53258},
  {addr:'175 Broad St Glens Falls NY',lat:43.3044,lng:-73.66187},
  {addr:'1128 S Main St Salinas CA',lat:36.65934,lng:-121.65923},
  {addr:'1640 Mission St Santa Cruz CA',lat:36.96615,lng:-122.04085},
  {addr:'554 Gretna Rd Branson MO',lat:36.64043,lng:-93.28234},
  {addr:'36 W Wall St Frostproof FL',lat:27.74603,lng:-81.52851},
  {addr:'9360 90th Ave Sebastian FL',lat:27.76274,lng:-80.51103},
  {addr:'580 Malabar Rd SE Palm Bay FL',lat:27.99862,lng:-80.65605},
  {addr:'580 Malabar Rd SE Palm Bay FL',lat:27.99862,lng:-80.65605},
  {addr:'1237 Chapin Rd Chapin SC',lat:34.16724,lng:-81.35668},
  {addr:'2515 S Cashua Dr Florence SC',lat:34.17707,lng:-79.80992},
  {addr:'15345 Dix Toledo Rd Southgate MI',lat:42.19537,lng:-83.21531},
  {addr:'7580 E 9 Mile Rd Warren MI',lat:42.46228,lng:-83.05722},
  {addr:'4399 Interpark Dr Auburn Hills MI',lat:42.7056,lng:-83.24202},
  {addr:'195 Federal Rd Brookfield CT',lat:41.44152,lng:-73.40417},
  {addr:'21525 Devonshire St Chatsworth CA',lat:34.2577,lng:-118.59917},
  {addr:'9307 N Loop 1604 W San Antonio TX',lat:29.57218,lng:-98.64899},
  {addr:'3030 Thousand Oaks Dr San Antonio TX',lat:29.57432,lng:-98.43957},
  {addr:'1211 E South St Hastings NE',lat:40.58261,lng:-98.36617},
  {addr:'3721 13th St W Grand Island NE',lat:40.93145,lng:-98.39193},
  {addr:'2118 Market Ln Norfolk NE',lat:42.02379,lng:-97.44018},
  {addr:'2217 Thurston Cir Bellevue NE',lat:41.16025,lng:-95.92486},
  {addr:'2705 N Dirksen Pkwy Springfield IL',lat:39.8397,lng:-89.60529},
  {addr:'4425 S 7th St Terre Haute IN',lat:39.41281,lng:-87.40729},
  {addr:'320 S 3rd St Terre Haute IN',lat:39.46643,lng:-87.41405},
  {addr:'1320 W Commerce Dr Peoria IL',lat:40.80105,lng:-89.61303},
  {addr:'1317 Memorial Dr Mendota IL',lat:41.55355,lng:-89.12821},
  {addr:'901 S Annie Glidden Rd Dekalb IL',lat:41.92047,lng:-88.77544},
  {addr:'3425 Drew Ave Sandwich IL',lat:41.65111,lng:-88.57683},
  {addr:'1128 W Boughton Rd Bolingbrook IL',lat:41.70398,lng:-88.11782},
  {addr:'5850 Ballenger Creek Pike Frederick MD',lat:39.39313,lng:-77.43845},
  {addr:'fitness_trainer',lat:24.92242,lng:67.07274},
  {addr:'99 Chelmsford Rd North Billerica MA',lat:42.58811,lng:-71.30665},
  {addr:'21550 Yorba Linda Blvd Yorba Linda CA',lat:33.88923,lng:-117.7612},
  {addr:'1856 Precinct Line Rd Hurst TX',lat:32.84648,lng:-97.18627},
  {addr:'1401 US-287 Decatur TX',lat:33.24532,lng:-97.60095},
  {addr:'905 E Highway 82 Gainesville TX',lat:33.64203,lng:-97.1364},
  {addr:'1011 N Highway 77 Waxahachie TX',lat:32.36868,lng:-96.85495},
  {addr:'105 S Egan Ave Madison SD',lat:44.00492,lng:-97.11414},
  {addr:'501 1st Ave NE Watertown SD',lat:44.90049,lng:-97.1055},
  {addr:'1209 N Belt Hwy St Joseph MO',lat:39.778,lng:-94.80241},
  {addr:'402 N Jefferson Way Indianola IA',lat:41.36358,lng:-93.55804},
  {addr:'700 Us-69 Huxley IA',lat:41.89928,lng:-93.60438},
  {addr:'107 N Center St Marshalltown IA',lat:42.05061,lng:-92.91284},
  {addr:'205 N Park Dr Keokuk IA',lat:40.41705,lng:-91.40875},
  {addr:'650 Community Dr North Liberty IA',lat:41.7509,lng:-91.60816},
  {addr:'1940 N Monroe St Tallahassee FL',lat:30.46585,lng:-84.28396},
  {addr:'7070 SW Archer Rd Gainesville FL',lat:29.61968,lng:-82.38183},
  {addr:'State Road 13 Fruit Cove FL',lat:30.10436,lng:-81.62685},
  {addr:'1523 Chaffee Rd S Jacksonville FL',lat:30.2927,lng:-81.84847},
  {addr:'5541 Roosevelt Blvd Jacksonville FL',lat:30.24717,lng:-81.69738},
  {addr:'1445 Maccorkle Ave St Albans WV',lat:38.38703,lng:-81.82534},
  {addr:'1198 W Main St Bridgeport WV',lat:39.28109,lng:-80.27726},
  {addr:'815 Wonder Rd Stafford VA',lat:38.4246,lng:-77.43019},
  {addr:'5255 Waterway Dr Dumfries VA',lat:38.60834,lng:-77.359},
  {addr:'386 Shrewsbury St Worcester MA',lat:42.2717,lng:-71.77527},
  {addr:'81 Shrewsbury St Boylston MA',lat:42.33449,lng:-71.73782},
  {addr:'100 Worcester St Grafton MA',lat:42.22044,lng:-71.69676},
  {addr:'300 High St Clinton MA',lat:42.42066,lng:-71.68491},
  {addr:'1477 Fitzgerald Dr Pinole CA',lat:37.99159,lng:-122.30659},
  {addr:'1955 W Texas St Fairfield CA',lat:38.24745,lng:-122.0644},
  {addr:'3202 Marina Bay Dr League City TX',lat:29.54325,lng:-95.05569},
  {addr:'1414 W Fairmont Pkwy La Porte TX',lat:29.65205,lng:-95.03267},
  {addr:'9070 Buchanan Trl Inver Grove Heights MN',lat:44.81896,lng:-93.04209},
  {addr:'pharmacy',lat:43.72596,lng:-79.29605},
  {addr:'380 Jackson St St Paul MN',lat:44.94886,lng:-93.08909},
  {addr:'1261 4th St SW Waverly IA',lat:42.71326,lng:-92.47535},
  {addr:'1218 N Main St Viroqua WI',lat:43.57471,lng:-90.88906},
  {addr:'1205 N 7th St Lake City MN',lat:44.4547,lng:-92.28515},
  {addr:'2532 Golf Rd Eau Claire WI',lat:44.77124,lng:-91.46496},
  {addr:'2625 Birch St Eau Claire WI',lat:44.82084,lng:-91.47365},
  {addr:'42115 Kalifornsky Beach Rd Soldotna AK',lat:60.51075,lng:-151.27449},
  {addr:'3415 Airport Way Fairbanks AK',lat:64.83684,lng:-147.80444},
  {addr:'11915 Beach Blvd Jacksonville FL',lat:30.28797,lng:-81.50318},
  {addr:'189 Virginia Ave S Tifton GA',lat:31.45243,lng:-83.5277},
  {addr:'1040 Macon Rd Perry GA',lat:32.46014,lng:-83.73078},
  {addr:'9601 S Western Ave Chicago IL',lat:41.71862,lng:-87.68152},
  {addr:'50 Neuse River Pkwy Clayton NC',lat:35.6491,lng:-78.39484},
  {addr:'1130 US-1 Youngsville NC',lat:36.03851,lng:-78.49745},
  {addr:'415 E Main St Westfield MA',lat:42.11251,lng:-72.72527},
  {addr:'181 Highland Ave Seekonk MA',lat:41.79802,lng:-71.3362},
  {addr:'446 Putnam Pike Smithfield RI',lat:41.86846,lng:-71.53282},
  {addr:'227 Washington St Attleboro MA',lat:41.92451,lng:-71.35674},
  {addr:'1850 Douglas Blvd Roseville CA',lat:38.74389,lng:-121.25674},
  {addr:'3001 Stanford Ranch Rd Rocklin CA',lat:38.8149,lng:-121.25978},
  {addr:'3228 Boyington Rd Loomis CA',lat:38.8339,lng:-121.16924},
  {addr:'6337 E Spring St Long Beach CA',lat:33.82229,lng:-118.10737},
  {addr:'785 E Fort Union Blvd Midvale UT',lat:40.62074,lng:-111.87264},
  {addr:'455 N Washington Blvd Harrisville UT',lat:41.26999,lng:-111.96944},
  {addr:'97 E 1600 N Logan UT',lat:41.76142,lng:-111.83916},
  {addr:'301 Anderson Rd Shelley ID',lat:43.39082,lng:-112.11848},
  {addr:'101 E Hastings Rd Spokane WA',lat:47.76972,lng:-117.40857},
  {addr:'408 1st St NW Mandan ND',lat:46.82696,lng:-100.89565},
  {addr:'141 Ivy Ave Bismarck ND',lat:46.79608,lng:-100.79356},
  {addr:'1801 45th St S Fargo ND',lat:46.85366,lng:-96.86215},
  {addr:'Radcliff KY US',lat:37.84035,lng:-85.94913},
  {addr:'151 Tuttle Rd Springfield OH',lat:39.92371,lng:-83.75003},
  {addr:'Delaware OH US',lat:40.23177,lng:-82.9651},
  {addr:'1412 Scott St Napoleon OH',lat:41.39844,lng:-84.13191},
  {addr:'2350 10th St Menominee MI',lat:45.12017,lng:-87.61308},
  {addr:'1145 Texas Ave Bridge City TX',lat:30.03326,lng:-93.83338},
  {addr:'1210 Elton Rd Jennings LA',lat:30.23055,lng:-92.66338},
  {addr:'2230 N Main St Saint Martinville LA',lat:30.14508,lng:-91.82279},
  {addr:'151 Almedia Rd Saint Rose LA',lat:29.96321,lng:-90.30381},
  {addr:'200 Government St Baton Rouge LA',lat:30.4432,lng:-91.18833},
  {addr:'15610 NE Woodinville Duvall Rd Woodinville WA',lat:47.76164,lng:-122.13129},
  {addr:'304 W Seattle Ave Moxee WA',lat:46.55557,lng:-120.38879},
  {addr:'10131 Old Olympic Hwy Sequim WA',lat:48.09486,lng:-123.10393},
  {addr:'6918 Hannegan Rd Lynden WA',lat:48.89267,lng:-122.44173},
  {addr:'4114 198th St SW Lynnwood WA',lat:47.81894,lng:-122.2889},
  {addr:'205 Stewart Rd Mt Vernon WA',lat:48.44338,lng:-122.3407},
  {addr:'436 N Main St Moscow ID',lat:46.73789,lng:-117.00134},
  {addr:'1727 Mars Hill Rd NW Acworth GA',lat:34.05602,lng:-84.68432},
  {addr:'3753 Marietta Hwy Canton GA',lat:34.19645,lng:-84.50885},
  {addr:'426 N Center St Durand IL',lat:42.4368,lng:-89.33252},
  {addr:'5325 N 2nd St Loves Park IL',lat:42.30804,lng:-89.05716},
  {addr:'1001 E Main St Bradford PA',lat:41.95594,lng:-78.64781},
  {addr:'182 Ennis Ln Towanda PA',lat:41.76659,lng:-76.42236},
  {addr:'3227 E Lincoln Hwy Thorndale PA',lat:39.99494,lng:-75.75772},
  {addr:'13312 Ranchero Rd Oak Hills CA',lat:34.38309,lng:-117.40124},
  {addr:'6125 S Fort Apache Rd Las Vegas NV',lat:36.08608,lng:-115.29757},
  {addr:'martial_arts_club',lat:45.37958,lng:-75.62272},
  {addr:'1000 Golf Course Rd SE Rio Rancho NM',lat:35.24144,lng:-106.677},
  {addr:'18500 W Interstate 40 Amarillo TX',lat:35.18754,lng:-101.94355},
  {addr:'1315 W Wilson St Borger TX',lat:35.66007,lng:-101.404},
  {addr:'3161 Curlew Rd Oldsmar FL',lat:28.04902,lng:-82.69826},
  {addr:'550 Pharr Rd NE Atlanta GA',lat:33.83707,lng:-84.37082},
  {addr:'9945 Jones Bridge Rd Johns Creek GA',lat:34.02252,lng:-84.2535},
  {addr:'2012 Cleveland Rd W Huron OH',lat:41.4083,lng:-82.58762},
  {addr:'11517 Clifton Blvd Cleveland OH',lat:41.4868,lng:-81.76676},
  {addr:'6070 W Craig Rd Las Vegas NV',lat:36.23928,lng:-115.22791},
  {addr:'312 Oak St Central Point OR',lat:42.37427,lng:-122.91423},
  {addr:'2190 S Loop 256 Palestine TX',lat:31.73324,lng:-95.6245},
  {addr:'151',lat:32.14456,lng:-95.31337},
  {addr:'6435 Old Jacksonville Hwy Tyler TX',lat:32.3013,lng:-95.32334},
  {addr:'618 Main St Lindale TX',lat:32.50864,lng:-95.40822},
  {addr:'1931 Southern Loop Shreveport LA',lat:32.35473,lng:-93.71789},
  {addr:'812 E Tunica Dr Marksville LA',lat:31.11556,lng:-92.06576},
  {addr:'24600 S Tamiami Trl Bonita Springs FL',lat:26.38609,lng:-81.809},
  {addr:'1542 E Sumner St Hartford WI',lat:43.31816,lng:-88.35139},
  {addr:'310 E Ann St Kaukauna WI',lat:44.26042,lng:-88.28454},
  {addr:'1300 Egg Harbor Rd Sturgeon Bay WI',lat:44.84751,lng:-87.36305},
  {addr:'855 Lagrange St South Haven MI',lat:42.39385,lng:-86.26852},
  {addr:'998 Sandy St Norristown PA',lat:40.11224,lng:-75.32808},
  {addr:'Langhorne PA US',lat:40.17618,lng:-74.92025},
  {addr:'45 S New York Rd Galloway Twp NJ',lat:39.479,lng:-74.45978},
  {addr:'939 Mountain Ave Berthoud CO',lat:40.30502,lng:-105.08716},
  {addr:'814 W Drake Rd Fort Collins CO',lat:40.55415,lng:-105.09132},
  {addr:'302 S College Ave Fort Collins CO',lat:40.58377,lng:-105.07654},
  {addr:'772 Mountain View Rd Rapid City SD',lat:44.07901,lng:-103.25034},
  {addr:'2122 Oklahoma Ave Woodward OK',lat:36.43372,lng:-99.40649},
  {addr:'14091 Baxter Dr Baxter MN',lat:46.35532,lng:-94.22536},
  {addr:'18850 Dodge St NW Elk River MN',lat:45.31304,lng:-93.5571},
  {addr:'14030 Bank St Becker MN',lat:45.39021,lng:-93.86978},
  {addr:'225 2nd Ave N Sauk Rapids MN',lat:45.59143,lng:-94.16754},
  {addr:'3540 Winnetka Ave N New Hope MN',lat:45.02109,lng:-93.37894},
  {addr:'2217 NE Central Ave Minneapolis MN',lat:45.0105,lng:-93.24694},
  {addr:'1200 S Pokegama Ave Grand Rapids MN',lat:47.21887,lng:-93.52859},
  {addr:'4865 Miller Trunk Hwy Hermantown MN',lat:46.8251,lng:-92.19126},
  {addr:'658 Eastern Blvd Clarksville IN',lat:38.29911,lng:-85.76177},
  {addr:'2119 Haslett Rd Meridian Twp MI',lat:42.74651,lng:-84.42676},
  {addr:'3137 Far Hills Ave Kettering OH',lat:39.70179,lng:-84.1702},
  {addr:'34 Lanes Mill Rd Brick NJ',lat:40.09418,lng:-74.14674},
  {addr:'5709 Main St Springfield OR',lat:44.04559,lng:-122.92867},
  {addr:'2500 N Silverbell Rd Tucson AZ',lat:32.2526,lng:-111.01444},
  {addr:'1244 E Colfax Ave Denver CO',lat:39.73973,lng:-104.97091},
  {addr:'22340 Salamo Rd West Linn OR',lat:45.36333,lng:-122.64661},
  {addr:'6713 NE 63rd St Vancouver WA',lat:45.66795,lng:-122.60159},
  {addr:'Jackson TN US',lat:35.61444,lng:-88.81774},
  {addr:'13081 S 1st St Milan TN',lat:35.88456,lng:-88.74708},
  {addr:'6250 Nesbitt Rd Fitchburg WI',lat:43.01098,lng:-89.4781},
  {addr:'825 N Wisconsin St Elkhorn WI',lat:42.68718,lng:-88.54167},
  {addr:'2585 Waukegan Rd Bannockburn IL',lat:42.19966,lng:-87.86257},
  {addr:'8901 W North Ave Wauwatosa WI',lat:43.06034,lng:-88.02406},
  {addr:'789 E Lancaster Ave Villanova PA',lat:40.03763,lng:-75.35174},
  {addr:'2240 N Scottsdale Rd Tempe AZ',lat:33.45396,lng:-111.92713},
  {addr:'13034 Eastlake Blvd El Paso TX',lat:31.69904,lng:-106.22905},
  {addr:'7929 Desiard St Monroe LA',lat:32.52622,lng:-92.04269},
  {addr:'711 Clinton Pkwy Clinton MS',lat:32.3457,lng:-90.32615},
  {addr:'2740 US-50 Grand Junction CO',lat:39.0423,lng:-108.55013},
  {addr:'2115 Vista Oeste NW Albuquerque NM',lat:35.10923,lng:-106.73064},
  {addr:'8520 Steilacoom Blvd SW Lakewood WA',lat:47.17916,lng:-122.55124},
  {addr:'900 Meridian Ave E Milton WA',lat:47.24893,lng:-122.29585},
  {addr:'3110 William Few Pkwy Evans GA',lat:33.57282,lng:-82.19159},
  {addr:'2132 Jackson Ave W Oxford MS',lat:34.36301,lng:-89.55953},
  {addr:'2419 E Wabash St Frankfort IN',lat:40.27877,lng:-86.48114},
  {addr:'1720 Western Ave Connersville IN',lat:39.65377,lng:-85.13869},
  {addr:'1832 Applewood Center Dr Anderson IN',lat:40.05548,lng:-85.65655},
  {addr:'5276 College Corner Pike Oxford OH',lat:39.51971,lng:-84.75856},
  {addr:'6077 Spring Ridge Pkwy Frederick MD',lat:39.40352,lng:-77.34784},
  {addr:'410 Meadow Creek Dr Westminster MD',lat:39.59003,lng:-77.01011},
  {addr:'vitamins_and_supplements',lat:49.69612,lng:-112.82236},
  {addr:'721 Hanover Pike Hampstead MD',lat:39.594,lng:-76.84578},
  {addr:'1117 E North 10th St Abilene TX',lat:32.45995,lng:-99.72399},
  {addr:'140 Garrett Morris Pkwy Mineral Wells TX',lat:32.80962,lng:-98.08531},
  {addr:'1108 S Main St Weatherford TX',lat:32.74677,lng:-97.79833},
  {addr:'411 W Agency Rd W Burlington IA',lat:40.81278,lng:-91.16037},
  {addr:'1320 N 11th St Clinton IA',lat:41.85201,lng:-90.21134},
  {addr:'800 N 8th St Clear Lake IA',lat:43.14198,lng:-93.37868},
  {addr:'1301 18th Ave NW Austin MN',lat:43.68279,lng:-92.98923},
  {addr:'1010 Hoffman Dr Owatonna MN',lat:44.09471,lng:-93.23332},
  {addr:'5107 W 98th St Bloomington MN',lat:44.82459,lng:-93.34709},
  {addr:'5125 Edina Industrial Blvd Edina MN',lat:44.86331,lng:-93.3544},
  {addr:'11104 Cedar Lake Rd Minnetonka MN',lat:44.95318,lng:-93.41934},
  {addr:'4725 Hiawatha Ave Minneapolis MN',lat:44.91769,lng:-93.21647},
  {addr:'10053 19 Port Richey FL',lat:28.27838,lng:-82.71865},
  {addr:'27325 Wesley Chapel Blvd Wesley Chapel FL',lat:28.23876,lng:-82.34048},
  {addr:'31182 Cortez Blvd Brooksville FL',lat:28.52314,lng:-82.30159},
  {addr:'Fruitland Park FL US',lat:28.86138,lng:-81.90647},
  {addr:'3867 E Main St St. Charles IL',lat:41.92142,lng:-88.27417},
  {addr:'1020 Summit St Elgin IL',lat:42.04641,lng:-88.2513},
  {addr:'1851 W Irving Park Rd Schaumburg IL',lat:41.99675,lng:-88.11679},
  {addr:'550 North Ave Glendale Heights IL',lat:41.90312,lng:-88.06608},
  {addr:'96 W Lake St Addison IL',lat:41.93471,lng:-87.99478},
  {addr:'Streamwood IL US',lat:42.02558,lng:-88.17841},
  {addr:'1127 Milwaukee Ave Riverwoods IL',lat:42.16041,lng:-87.91881},
  {addr:'21134 S La Grange Rd Frankfort IL',lat:41.49182,lng:-87.86807},
  {addr:'18232 Kedzie Ave Hazel Crest IL',lat:41.55821,lng:-87.69572},
  {addr:'9725 Traville Gateway Dr Rockville MD',lat:39.09097,lng:-77.20219},
  {addr:'6640 W Cactus Rd Glendale AZ',lat:33.59762,lng:-112.20097},
  {addr:'203 Tulaka Blvd Heber Springs AR',lat:35.51165,lng:-92.02675},
  {addr:'16054 US-280 Chelsea AL',lat:33.34928,lng:-86.62356},
  {addr:'11739 W Broad St Henrico VA',lat:37.65214,lng:-77.62099},
  {addr:'13609 Carrollton Blvd Carrollton VA',lat:36.95027,lng:-76.53184},
  {addr:'24 Hartford Rd Salem CT',lat:41.47853,lng:-72.26545},
  {addr:'188 Main St Farmington CT',lat:41.7123,lng:-72.8385},
  {addr:'188 Main St Farmington CT',lat:41.7123,lng:-72.8385},
  {addr:'89 West Rd Ellington CT',lat:41.87949,lng:-72.46281},
  {addr:'21195 Ih 35 Kyle TX',lat:29.98523,lng:-97.87239},
  {addr:'3721 10th St Great Bend KS',lat:38.36172,lng:-98.78922},
  {addr:'1607 Albert Pike Rd Hot Springs AR',lat:34.48978,lng:-93.08812},
  {addr:'221 W Columbia Ave Batesburg-Leesville SC',lat:33.91008,lng:-81.53338},
  {addr:'312 Bloomfield Ave Montclair NJ',lat:40.81132,lng:-74.21452},
  {addr:'430 Market St Elmwood Park NJ',lat:40.89856,lng:-74.11229},
  {addr:'2766 Rodeo Rd Los Angeles CA',lat:34.01924,lng:-118.32602},
  {addr:'3825 N Grimes St Hobbs NM',lat:32.74169,lng:-103.14499},
  {addr:'1654 Atlanta Hwy Auburn GA',lat:34.00949,lng:-83.8508},
  {addr:'217 E May St Winder GA',lat:33.98121,lng:-83.71117},
  {addr:'4050 Lexington Rd Athens GA',lat:33.93669,lng:-83.32191},
  {addr:'1560 Parkway Greenwood SC',lat:34.16806,lng:-82.15407},
  {addr:'1987 TN-72 Loudon TN',lat:35.71829,lng:-84.36412},
  {addr:'515 Union Ave Dover OH',lat:40.50735,lng:-81.46252},
  {addr:'1985 Lincoln Way White Oak PA',lat:40.3387,lng:-79.80806},
  {addr:'1718 William Flinn Hwy Shaler Twp PA',lat:40.53543,lng:-79.96133},
  {addr:'26536 Carmel Rancho Blvd Carmel-by-the-Sea CA',lat:36.54182,lng:-121.90641},
  {addr:'3400 Orcutt Rd Santa Maria CA',lat:34.89937,lng:-120.43644},
  {addr:'702 N Ventura Rd Oxnard CA',lat:34.20899,lng:-119.19411},
  {addr:'2700 E Thompson Blvd Ventura CA',lat:34.27227,lng:-119.26018},
  {addr:'1170 N Preston Rd Prosper TX',lat:33.249,lng:-96.78487},
  {addr:'1909 Highway 121 S Bonham TX',lat:33.56839,lng:-96.20022},
  {addr:'810 S Friendswood Dr Friendswood TX',lat:29.52482,lng:-95.19564},
  {addr:'115-117 E Pine St Warrensburg MO',lat:38.76356,lng:-93.73923},
  {addr:'1300 W Elm St Lebanon MO',lat:37.67995,lng:-92.65405},
  {addr:'312 E Nine Mile Rd Pensacola FL',lat:30.53421,lng:-87.26034},
  {addr:'8124 Blair Rd Mint Hill NC',lat:35.18108,lng:-80.64477},
  {addr:'6270 Bayfield Pkwy Concord NC',lat:35.41566,lng:-80.6796},
  {addr:'1630 Liberty Dr Thomasville NC',lat:35.85627,lng:-80.06882},
  {addr:'2563 Hawkins Ave Sanford NC',lat:35.51899,lng:-79.1806},
  {addr:'Oxford MI US',lat:42.82475,lng:-83.26466},
  {addr:'3736 Burgoyne Ave Hudson Falls NY',lat:43.31868,lng:-73.57038},
  {addr:'715 Cochrane Rd Morgan Hill CA',lat:37.15152,lng:-121.65638},
  {addr:'819 W Arapaho Rd Richardson TX',lat:32.96164,lng:-96.7488},
  {addr:'8809 W 95th St Overland Park KS',lat:38.95658,lng:-94.68792},
  {addr:'7620 Metcalf Ave Overland Park KS',lat:38.99028,lng:-94.66818},
  {addr:'301 NE Englewood Rd Kansas City MO',lat:39.19374,lng:-94.58003},
  {addr:'712 1st Ter Lansing KS',lat:39.23941,lng:-94.89878},
  {addr:'888 Haines Liberty MO',lat:39.25602,lng:-94.45089},
  {addr:'4758 N Congress Ave Boynton Beach FL',lat:26.57132,lng:-80.08962},
  {addr:'6901 Okeechobee Blvd West Palm Beach FL',lat:26.70803,lng:-80.15465},
  {addr:'27 E Hibiscus Blvd Melbourne FL',lat:28.08512,lng:-80.621},
  {addr:'5941 Bullard Ave New Orleans LA',lat:30.04302,lng:-89.95877},
  {addr:'134 S Main St Clover SC',lat:35.11064,lng:-81.22733},
  {addr:'3609 South Blvd Charlotte NC',lat:35.19237,lng:-80.87332},
  {addr:'45211 Cherry Hill Rd Canton MI',lat:42.30736,lng:-83.48537},
  {addr:'47980 Grand River Ave Novi MI',lat:42.49128,lng:-83.52209},
  {addr:'22078 Farmington Rd Farmington MI',lat:42.45411,lng:-83.3743},
  {addr:'141 S Milford Rd Milford MI',lat:42.58223,lng:-83.61064},
  {addr:'325 Route 100 Somers NY',lat:41.24662,lng:-73.75155},
  {addr:'84 Danbury Rd Wilton CT',lat:41.17148,lng:-73.41581},
  {addr:'8055 West Ave Castle Hills TX',lat:29.53471,lng:-98.52088},
  {addr:'4310 7th St Bay City TX',lat:28.98367,lng:-95.93897},
  {addr:'204 Norris Ave McCook NE',lat:40.19877,lng:-100.62598},
  {addr:'310 E 5th St North Platte NE',lat:41.13707,lng:-100.76035},
  {addr:'2380 8th Ave Plattsmouth NE',lat:41.0036,lng:-95.90683},
  {addr:'235 N Oakland Ave Oakland NE',lat:41.83494,lng:-96.46662},
  {addr:'6300 N Wickham Rd Melbourne FL',lat:28.21504,lng:-80.67458},
  {addr:'3041 S Dirksen Pkwy Springfield IL',lat:39.76216,lng:-89.61015},
  {addr:'22 E West Newell Rd Danville IL',lat:40.20421,lng:-87.63576},
  {addr:'444 S Main St Princeton IL',lat:41.37109,lng:-89.46514},
  {addr:'804 W Dakota St Spring Valley IL',lat:41.32805,lng:-89.21206},
  {addr:'1147 Oak St North Aurora IL',lat:41.80803,lng:-88.32668},
  {addr:'17400 N Village Main Blvd Lewes DE',lat:38.75407,lng:-75.17124},
  {addr:'Clinton MA US',lat:42.42125,lng:-71.68741},
  {addr:'20 Andrews Pkwy Devens MA',lat:42.54,lng:-71.61419},
  {addr:'1292 Hooksett Rd Hooksett NH',lat:43.05038,lng:-71.43898},
  {addr:'2593 Chino Hills Pkwy Chino Hills CA',lat:33.98453,lng:-117.746},
  {addr:'15709 Euclid Ave Chino CA',lat:33.96821,lng:-117.65087},
  {addr:'7160 Justin Rd Argyle TX',lat:33.11811,lng:-97.19906},
  {addr:'5050 Teasley Ln Denton TX',lat:33.14425,lng:-97.10581},
  {addr:'507 8th Ave SE Pipestone MN',lat:43.99532,lng:-96.30718},
  {addr:'213 N Roche St Knoxville IA',lat:41.32007,lng:-93.09978},
  {addr:'255 SW Brookside Dr Grimes IA',lat:41.68791,lng:-93.80367},
  {addr:'123 Boulevard Rd Keokuk IA',lat:40.41605,lng:-91.40161},
  {addr:'635 Arran Rd Crawfordville FL',lat:30.18833,lng:-84.40277},
  {addr:'540 State Road 13 St Johns FL',lat:30.10436,lng:-81.62685},
  {addr:'2603 Osborne Rd Saint Marys GA',lat:30.75124,lng:-81.57697},
  {addr:'109 Haddock Rd Kingsland GA',lat:30.78488,lng:-81.64657},
  {addr:'Maccorkle Ave Saint Albans WV',lat:38.38392,lng:-81.80238},
  {addr:'1284 Stafford Dr Princeton WV',lat:37.36164,lng:-81.09776},
  {addr:'345a Mall Rd Oak Hill WV',lat:38.00892,lng:-81.13286},
  {addr:'Elkins Junction WV US',lat:38.91364,lng:-79.86545},
  {addr:'4307 Yucan Dr Springfield IL',lat:39.75801,lng:-89.73294},
  {addr:'767 Nalles Mill Rd Culpeper VA',lat:38.47921,lng:-77.97639},
  {addr:'1025 S Main St Woodstock VA',lat:38.87817,lng:-78.5081},
  {addr:'14511 Lee Jackson Memorial Hwy Chantilly VA',lat:38.89657,lng:-77.43674},
  {addr:'18 Town Sq Lovettsville VA',lat:39.27543,lng:-77.63944},
  {addr:'6090 Rose Hill Dr Alexandria VA',lat:38.78563,lng:-77.1225},
  {addr:'15 College Hwy Southampton MA',lat:42.25201,lng:-72.69797},
  {addr:'458 Russell St Hadley MA',lat:42.36552,lng:-72.53641},
  {addr:'3215 Coffey Ln Santa Rosa CA',lat:38.46702,lng:-122.74613},
  {addr:'1023 Bridge St Colusa CA',lat:39.20416,lng:-122.00428},
  {addr:'11511 FM-1960 Huffman TX',lat:30.02274,lng:-95.09046},
  {addr:'850 S Loop 336 W Conroe TX',lat:30.29437,lng:-95.50267},
  {addr:'40 Riverside Sq Prairie du Chien WI',lat:43.02687,lng:-91.12741},
  {addr:'1105 Bench St Red Wing MN',lat:44.55427,lng:-92.56735},
  {addr:'611 Broadway Ave Wabasha MN',lat:44.37914,lng:-92.02896},
  {addr:'1220 Crossing Meadows Dr Onalaska WI',lat:43.86866,lng:-91.21362},
  {addr:'2683 Saint Johns Bluff Rd S Jacksonville FL',lat:30.2985,lng:-81.52533},
  {addr:'348 S 1st St Jesup GA',lat:31.60471,lng:-81.88807},
  {addr:'125 W Brazell St Reidsville GA',lat:32.08518,lng:-82.11923},
  {addr:'7878 E Ridge Rd Hobart IN',lat:41.55108,lng:-87.31355},
  {addr:'2412 W North Ave Chicago IL',lat:41.91059,lng:-87.68788},
  {addr:'7900 N Milwaukee Ave Niles IL',lat:42.0246,lng:-87.81483},
  {addr:'479 E Main St Southbridge MA',lat:42.06939,lng:-72.00875},
  {addr:'9500 Greenback Ln Folsom CA',lat:38.67638,lng:-121.19951},
  {addr:'665 E 400 S Springville UT',lat:40.16126,lng:-111.64031},
  {addr:'783 E Mill Rd Vineyard UT',lat:40.30886,lng:-111.73977},
  {addr:'7025 Highway 82 Glenwood Springs CO',lat:39.51764,lng:-107.31885},
  {addr:'1251 Arrowhead Plz Driggs ID',lat:43.74173,lng:-111.11254},
  {addr:'13004 E Sprague Ave Spokane Valley WA',lat:47.65678,lng:-117.23061},
  {addr:'1116 E Sherman Ave Coeur D\'Alene ID',lat:47.67343,lng:-116.77902},
  {addr:'370 E Kathleen Ave Coeur D Alene ID',lat:47.71534,lng:-116.78297},
  {addr:'1143 Stoneridge Dr Bozeman MT',lat:45.69112,lng:-111.06386},
  {addr:'1509 Main St Billings MT',lat:45.82641,lng:-108.47069},
  {addr:'2451 N High St Jackson MO',lat:37.40515,lng:-89.6553},
  {addr:'2016 Michigan St Sidney OH',lat:40.28789,lng:-84.18522},
  {addr:'23635 Airport Rd Coshocton OH',lat:40.29646,lng:-81.84824},
  {addr:'66 Benning St Lebanon NH',lat:43.63216,lng:-72.31408},
  {addr:'2025 Marinette Ave Marinette WI',lat:45.08536,lng:-87.65554},
  {addr:'277 N Highway 171 Lake Charles LA',lat:30.2719,lng:-93.1824},
  {addr:'214 S Thompson Ave Iowa LA',lat:30.23486,lng:-93.01359},
  {addr:'505 W Pont des Mouton Rd Lafayette LA',lat:30.27395,lng:-92.02388},
  {addr:'1340 Elm St Morgan City LA',lat:29.70895,lng:-91.20412},
  {addr:'7335 Jefferson Hwy Harahan LA',lat:29.93557,lng:-90.20256},
  {addr:'702 Lobdell Hwy Port Allen LA',lat:30.45706,lng:-91.24808},
  {addr:'121 Sunnyside Ave Granger WA',lat:46.34409,lng:-120.19461},
  {addr:'2305 W Dolarway Rd Ellensburg WA',lat:47.00376,lng:-120.5832},
  {addr:'619 N Stratford Rd Moses Lake WA',lat:47.13792,lng:-119.27847},
  {addr:'112 S Del Guzzi Dr Port Angeles WA',lat:48.10101,lng:-123.39461},
  {addr:'922 3rd St Sedro-Woolley WA',lat:48.50259,lng:-122.23783},
  {addr:'2075 Cecil Ashburn Dr SE Huntsville AL',lat:34.67181,lng:-86.53805},
  {addr:'1107 N Forest Ave Marion IN',lat:40.56761,lng:-85.67767},
  {addr:'496 S College Ave Rensselaer IN',lat:40.92845,lng:-87.15593},
  {addr:'59 Pine Lake Ave La Porte IN',lat:41.61491,lng:-86.72669},
  {addr:'4150 Grape Rd Mishawaka IN',lat:41.69789,lng:-86.18727},
  {addr:'712 W Lincoln Ave Goshen IN',lat:41.58598,lng:-85.84639},
  {addr:'Freeport IL US',lat:42.29669,lng:-89.62123},
  {addr:'11447 2nd St Roscoe IL',lat:42.42389,lng:-89.00622},
  {addr:'1100 W Wyomissing Blvd Reading PA',lat:40.32179,lng:-75.9552},
  {addr:'2859 Tunkhannock Hwy Dallas PA',lat:41.34778,lng:-75.95989},
  {addr:'201 Louviers Dr Newark DE',lat:39.7111,lng:-75.74251},
  {addr:'500 Orange St Redlands CA',lat:34.05983,lng:-117.18231},
  {addr:'911 W Foothill Blvd Rialto CA',lat:34.10592,lng:-117.38809},
  {addr:'13692 Apple Valley Rd Apple Valley CA',lat:34.49977,lng:-117.24335},
  {addr:'3699 AZ-95 Bullhead City AZ',lat:35.05158,lng:-114.59145},
  {addr:'2920 Bicentennial Pkwy Henderson NV',lat:35.94113,lng:-115.11757},
  {addr:'1510 W Horizon Ridge Pkwy Henderson NV',lat:36.01908,lng:-115.05344},
  {addr:'720 St Michaels Dr Santa Fe NM',lat:35.65777,lng:-105.9612},
  {addr:'909 23rd St Canyon TX',lat:34.97442,lng:-101.91928},
  {addr:'817 E 1st St Dumas TX',lat:35.86484,lng:-101.96255},
  {addr:'6945 Austin Bluffs Pkwy Colorado Springs CO',lat:38.93227,lng:-104.74187},
  {addr:'2402 James L Redman Pkwy Plant City FL',lat:27.98889,lng:-82.12149},
  {addr:'444 Havendale Blvd Auburndale FL',lat:28.05183,lng:-81.77679},
  {addr:'670 N Main St Alpharetta GA',lat:34.09265,lng:-84.28608},
  {addr:'301 W High St Orrville OH',lat:40.84362,lng:-81.7671},
  {addr:'265 N State Route 2 New Martinsville WV',lat:39.67329,lng:-80.85741},
  {addr:'1505 Siskiyou Blvd Ashland OR',lat:42.18382,lng:-122.68834},
  {addr:'17900 Airline Hwy Prairieville LA',lat:30.33919,lng:-90.98879},
  {addr:'1205 Village Walk Covington LA',lat:30.47902,lng:-90.09213},
  {addr:'2950 S John Redditt Dr Lufkin TX',lat:31.30728,lng:-94.73274},
  {addr:'3801 North St Nacogdoches TX',lat:31.63943,lng:-94.65384},
  {addr:'639 Hurst St Center TX',lat:31.79655,lng:-94.19024},
  {addr:'417 Apache Dr McComb MS',lat:31.2518,lng:-90.48012},
  {addr:'1151 S Sumter Blvd North Port FL',lat:27.07028,lng:-82.20877},
  {addr:'200 Maddox Simpson Pkwy Lebanon TN',lat:36.17345,lng:-86.29904},
  {addr:'W175N11162 Stonewood Dr Germantown WI',lat:43.22043,lng:-88.12572},
  {addr:'5879 S Packard Ave Cudahy WI',lat:42.9379,lng:-87.86194},
  {addr:'1224 W Main St Fremont MI',lat:43.46674,lng:-85.96575},
  {addr:'1031 Chestnut St Emmaus PA',lat:40.52934,lng:-75.50542},
  {addr:'344 N Main St Lanoka Harbor NJ',lat:39.86321,lng:-74.17243},
  {addr:'2445 CA-46 Wasco CA',lat:35.60146,lng:-119.35298},
  {addr:'1107 Eagle Dr Loveland CO',lat:40.38113,lng:-105.09863},
  {addr:'1159 Main St Windsor CO',lat:40.4786,lng:-104.91651},
  {addr:'4855 W 10th St Greeley CO',lat:40.42291,lng:-104.71685},
  {addr:'211 W 30th Ave Pampa TX',lat:35.5713,lng:-100.96687},
  {addr:'2304 E Gore Blvd Lawton OK',lat:34.60884,lng:-98.36584},
  {addr:'14142 Northdale Blvd Rogers MN',lat:45.21078,lng:-93.55508},
  {addr:'304 19th Ave N Princeton MN',lat:45.57385,lng:-93.60106},
  {addr:'2421 Coon Rapids Blvd NW Coon Rapids MN',lat:45.16671,lng:-93.32952},
  {addr:'925 Main St S Pine City MN',lat:45.81861,lng:-92.97054},
  {addr:'192 Frankfort Rd Shelbyville KY',lat:38.20835,lng:-85.20435},
  {addr:'1807 N Lincoln St Greensburg IN',lat:39.35417,lng:-85.48095},
  {addr:'1920 Declaration Dr Independence KY',lat:38.93163,lng:-84.54815},
  {addr:'1851 44th St SW Wyoming MI',lat:42.88542,lng:-85.71038},
  {addr:'728 Munson Ave Traverse City MI',lat:44.75441,lng:-85.57433},
  {addr:'1600 E Main St Cottage Grove OR',lat:43.7975,lng:-123.05103},
  {addr:'1313 Main St Philomath OR',lat:44.54026,lng:-123.36746},
  {addr:'2760 Pacific Blvd SE Albany OR',lat:44.63799,lng:-123.07098},
  {addr:'740 Main St Dallas OR',lat:44.92206,lng:-123.31651},
  {addr:'671 S Main St Lebanon OR',lat:44.5394,lng:-122.90702},
  {addr:'600 E Columbia River Hwy Clatskanie OR',lat:46.1019,lng:-123.19759},
  {addr:'116 E Geneva Sq Lake Geneva WI',lat:42.6065,lng:-88.42481},
  {addr:'7704 E Doubletree Ranch Rd Scottsdale AZ',lat:33.56501,lng:-111.91498},
  {addr:'7679 E Pinnacle Peak Rd Scottsdale AZ',lat:33.6986,lng:-111.91375},
  {addr:'2927 Sudderth Dr Ruidoso NM',lat:33.32854,lng:-105.66335},
  {addr:'5600 Cypress St West Monroe LA',lat:32.50658,lng:-92.13075},
  {addr:'407 Depot St Delhi LA',lat:32.45686,lng:-91.4968},
  {addr:'401 Washington Ave N Orting WA',lat:47.10051,lng:-122.21053},
  {addr:'431 St James Ave Goose Creek SC',lat:33.02483,lng:-80.05598},
  {addr:'907 N Fraser St Georgetown SC',lat:33.38427,lng:-79.28774},
  {addr:'1301 Sunset Dr Grenada MS',lat:33.77482,lng:-89.82491},
  {addr:'1850 2nd St Highland Park IL',lat:42.18599,lng:-87.80168},
  {addr:'1696 S Ohio St Martinsville IN',lat:39.41179,lng:-86.42348},
  {addr:'1070 W Main St Plainfield IN',lat:39.69839,lng:-86.41758},
  {addr:'47 S Pennsylvania St Indianapolis IN',lat:39.76584,lng:-86.156},
  {addr:'pharmacy',lat:43.72596,lng:-79.29605},
  {addr:'Indianapolis IN US',lat:39.76833,lng:-86.15835},
  {addr:'341 W Jefferson St Tipton IN',lat:40.28205,lng:-86.04528},
  {addr:'2935 S Washington St Kokomo IN',lat:40.45164,lng:-86.13078},
  {addr:'40 York Rd Towson MD',lat:39.42802,lng:-76.61997},
  {addr:'2315 Belair Rd Fallston MD',lat:39.4923,lng:-76.39295},
  {addr:'3117 Cape Horn Rd Red Lion PA',lat:39.92,lng:-76.63},
  {addr:'829 Bowman St Lebanon PA',lat:40.34401,lng:-76.39573},
  {addr:'24290 El Toro Rd Laguna Woods CA',lat:33.61114,lng:-117.7233},
  {addr:'260 N El Camino Real Encinitas CA',lat:33.06591,lng:-117.26337},
  {addr:'2802 W Stan Schlueter Loop Killeen TX',lat:31.08399,lng:-97.77969},
  {addr:'1016 W Main St Gun Barrel City TX',lat:32.33204,lng:-96.13136},
  {addr:'201 S Palestine St Athens TX',lat:32.20311,lng:-95.85339},
  {addr:'1231 Lake Ave Storm Lake IA',lat:42.65299,lng:-95.2007},
  {addr:'700 Us-69 Huxley IA',lat:41.89928,lng:-93.60438},
  {addr:'220 E Maple St Springfield MN',lat:44.24582,lng:-94.97269},
  {addr:'600 S Riverfront Dr Mankato MN',lat:44.16239,lng:-94.00956},
  {addr:'1620 17th St NW Faribault MN',lat:44.309,lng:-93.29174},
  {addr:'321 Main St Elko New Market MN',lat:44.57299,lng:-93.35343},
  {addr:'2910 Lyndale Ave S Minneapolis MN',lat:44.94972,lng:-93.28838},
  {addr:'2718 SE University Ave Minneapolis MN',lat:44.98338,lng:-93.24628},
  {addr:'4251 Mariner Blvd Spring Hill FL',lat:28.49272,lng:-82.54068},
  {addr:'1271 Rickert Dr Naperville IL',lat:41.74843,lng:-88.17029},
  {addr:'7516 S Cass Ave Darien IL',lat:41.75122,lng:-87.97584},
  {addr:'219 Main St Roselle IL',lat:41.98292,lng:-88.07574},
  {addr:'Biesterfield Rd Elk Grove Village IL',lat:42.00665,lng:-88.04543},
  {addr:'819 N Quentin Rd Palatine IL',lat:42.12412,lng:-88.063},
  {addr:'50 Chestnut St Rochester NY',lat:43.15604,lng:-77.60274},
  {addr:'1072 W Chandler Blvd Chandler AZ',lat:33.30646,lng:-111.86074},
  {addr:'2100 W Hudson Rd Rogers AR',lat:36.35507,lng:-94.14628},
  {addr:'115 Industrial Park Rd Harrison AR',lat:36.25158,lng:-93.12294},
  {addr:'5923 John F Kennedy Blvd North Little Rock AR',lat:34.80945,lng:-92.24751},
  {addr:'45 Airport Rd West Point MS',lat:33.58511,lng:-88.66258},
  {addr:'1650 Douglas Ave Brewton AL',lat:31.13538,lng:-87.06862},
  {addr:'3177 Linden Dr Bristol VA',lat:36.63018,lng:-82.12381},
  {addr:'1934 Bypass Rd Winchester KY',lat:37.98752,lng:-84.20739},
  {addr:'11224 Patterson Ave Richmond VA',lat:37.59213,lng:-77.53311},
  {addr:'237 Carmichael Way Chesapeake VA',lat:36.65964,lng:-76.23455},
  {addr:'7084 Hayes Shopping Ct Hayes VA',lat:37.29419,lng:-76.51301},
  {addr:'441 Long Hill Rd Groton CT',lat:41.35475,lng:-72.06133},
  {addr:'5 Bank St Granby CT',lat:41.95336,lng:-72.78499},
  {addr:'99-84 Kauhale St Honolulu HI',lat:21.37832,lng:-157.9345},
  {addr:'180 Broadway San Diego CA',lat:32.80777,lng:-116.9607},
  {addr:'535 W Washington St San Diego CA',lat:32.74979,lng:-117.16815},
  {addr:'1650 Round Rock Ave Round Rock TX',lat:30.51258,lng:-97.69999},
  {addr:'1150 Satellite Vw Round Rock TX',lat:30.56607,lng:-97.66303},
  {addr:'305 Limestone Ter Jarrell TX',lat:30.80951,lng:-97.61021},
  {addr:'2203 Central Ave Dodge City KS',lat:37.77318,lng:-100.01701},
  {addr:'1800 E Jackson St Hugo OK',lat:34.00064,lng:-95.48151},
  {addr:'608 Martin Luther King Blvd Malvern AR',lat:34.3755,lng:-92.82598},
  {addr:'6969 Taft St Hollywood FL',lat:26.02448,lng:-80.22717},
  {addr:'111 Jack White Dr Kingsport TN',lat:36.54563,lng:-82.51943},
  {addr:'1787 S Lake Dr Lexington SC',lat:33.91274,lng:-81.22602},
  {addr:'116 Point Plz Butler PA',lat:40.87691,lng:-79.95158},
  {addr:'74 Market St Warren PA',lat:41.84307,lng:-79.1437},
  {addr:'901 Fairmount Ave Jamestown NY',lat:42.09699,lng:-79.28914},
  {addr:'4010 Page Ave Leoni Twp MI',lat:42.23772,lng:-84.34312},
  {addr:'2744 Jackson Ave Ann Arbor MI',lat:42.28238,lng:-83.78647},
  {addr:'7718 McPherson Rd Laredo TX',lat:27.57495,lng:-99.47392},
  {addr:'1626 E Griffin Pkwy Mission TX',lat:26.22623,lng:-98.29915},
  {addr:'2820 NW 122nd St Oklahoma City OK',lat:35.59427,lng:-97.56496},
  {addr:'216 S Main St Sapulpa OK',lat:35.99611,lng:-96.11414},
  {addr:'1735 Buford Hwy Cumming GA',lat:34.16396,lng:-84.11454},
  {addr:'676 Fairview Rd Simpsonville SC',lat:34.70824,lng:-82.25754},
  {addr:'8901 Lincoln Hwy North Huntingdon Twp PA',lat:40.32006,lng:-79.69139},
  {addr:'1312 Pittsburgh St Cheswick PA',lat:40.54118,lng:-79.80171},
  {addr:'881 Hills Plz Ebensburg PA',lat:40.46949,lng:-78.75954},
  {addr:'144 W Los Angeles Ave Moorpark CA',lat:34.27909,lng:-118.8832},
  {addr:'11 Oak Creek Dr Kaufman TX',lat:32.5753,lng:-96.31358},
  {addr:'1860 S Independence Pkwy McKinney TX',lat:33.18549,lng:-96.7504},
  {addr:'17034 University Blvd Sugar Land TX',lat:29.55384,lng:-95.62084},
  {addr:'602 N Franklin St Cuba MO',lat:38.06879,lng:-91.40487},
  {addr:'250 S Service Rd W Sullivan MO',lat:38.2048,lng:-91.17751},
  {addr:'3 W Nine Mile Rd Pensacola FL',lat:30.5316,lng:-87.27348},
  {addr:'1415 Tallahassee Hwy Bainbridge GA',lat:30.88679,lng:-84.56501},
  {addr:'2079 25 Mile Rd Shelby Twp MI',lat:42.69789,lng:-83.09343},
  {addr:'24040 Harper Ave St Clair Shores MI',lat:42.47186,lng:-82.90517},
  {addr:'3715 Patriot Way Wilmington NC',lat:34.17459,lng:-77.89316},
  {addr:'140 Donahue St Sausalito CA',lat:37.8722,lng:-122.51101},
  {addr:'319-N E Battlefield Rd Springfield MO',lat:37.15999,lng:-93.29243},
  {addr:'620 S 130th St Bonner Springs KS',lat:39.08571,lng:-94.88197},
  {addr:'1010 S',lat:39.37805,lng:-94.58315},
  {addr:'959 N Jesse James Rd Excelsior Springs MO',lat:39.35038,lng:-94.23504},
  {addr:'1515 Palm Bay Rd NE Melbourne FL',lat:28.0352,lng:-80.62708},
  {addr:'2808 Devine St Columbia SC',lat:33.99801,lng:-81.00302},
  {addr:'2049 Celanese Rd Rock Hill SC',lat:34.97632,lng:-81.00708},
  {addr:'601 N Polk St Pineville NC',lat:35.09267,lng:-80.88581},
  {addr:'11780 Belleville Rd Belleville MI',lat:42.21538,lng:-83.48706},
  {addr:'20758 Pontiac Trl South Lyon MI',lat:42.4494,lng:-83.65063},
  {addr:'15970 Middlebelt Rd Livonia MI',lat:42.40479,lng:-83.33472},
  {addr:'3144 12 Mile Rd Berkley MI',lat:42.50313,lng:-83.19154},
  {addr:'32340 N Campbell Rd Madison Heights MI',lat:42.52963,lng:-83.12539},
  {addr:'99 Clowes Ave Goshen NY',lat:41.39761,lng:-74.33449},
  {addr:'1838 Black Rock Tpke Fairfield CT',lat:41.18039,lng:-73.24659},
  {addr:'9902 Potranco Rd San Antonio TX',lat:29.43561,lng:-98.68655},
  {addr:'849 Junction Hwy Kerrville TX',lat:30.05695,lng:-99.16046},
  {addr:'24165 W I-10 San Antonio TX',lat:29.66587,lng:-98.62971},
  {addr:'16535 Huebner Rd San Antonio TX',lat:29.5923,lng:-98.5293},
  {addr:'1556 S 11th St Nebraska City NE',lat:40.6618,lng:-95.86025},
  {addr:'1027 Jones St Omaha NE',lat:41.25329,lng:-95.9297},
  {addr:'1137 N Broadway Council Bluffs IA',lat:41.27142,lng:-95.83634},
  {addr:'3761 S Nova Rd Port Orange FL',lat:29.1313,lng:-81.00602},
  {addr:'260 Cypress Edge Dr Palm Coast FL',lat:29.55155,lng:-81.2225},
  {addr:'512 E Jasper St Paris IL',lat:39.60361,lng:-87.68867},
  {addr:'330 Eagle Dr Rochelle IL',lat:41.93262,lng:-89.05299},
  {addr:'2151 Wicker Ave Schererville IN',lat:41.49889,lng:-87.47152},
  {addr:'1232 State St Lemont IL',lat:41.65501,lng:-87.99989},
  {addr:'32 Indian Rock Rd Windham NH',lat:42.80489,lng:-71.29647},
  {addr:'4305 E',lat:32.46087,lng:-97.72015},
  {addr:'1714 8th Ave Fort Worth TX',lat:32.72568,lng:-97.34381},
  {addr:'1490 Valley Ridge Blvd Lewisville TX',lat:33.0633,lng:-97.03445},
  {addr:'802 E McCart St Krum TX',lat:33.25857,lng:-97.22929},
  {addr:'2410 FM-663 Midlothian TX',lat:32.45741,lng:-96.99618},
  {addr:'1450 W Pleasant Run Rd Lancaster TX',lat:32.60426,lng:-96.78362},
  {addr:'603 E Platte Clay Way Cameron MO',lat:39.75937,lng:-94.23243},
  {addr:'7450 Bridgewood Blvd West Des Moines IA',lat:41.56773,lng:-93.81168},
  {addr:'1241 W Morton Ave Jacksonville IL',lat:39.72129,lng:-90.25154},
  {addr:'5707 Maccorkle Ave SE Charleston WV',lat:38.31155,lng:-81.57025},
  {addr:'534 E Main St Jackson OH',lat:39.04499,lng:-82.63011},
  {addr:'5924 Seminole Trl Barboursville VA',lat:38.19451,lng:-78.39367},
  {addr:'4276 Plank Rd Fredericksburg VA',lat:38.29563,lng:-77.51406},
  {addr:'9133 Andrew Dr Manassas Park VA',lat:38.75937,lng:-77.43577},
  {addr:'5089 Business Center Dr Fairfield CA',lat:38.21582,lng:-122.14323},
  {addr:'3025 Alamo Dr Vacaville CA',lat:38.33607,lng:-121.95549},
  {addr:'9692 Elk Grove Florin Rd Elk Grove CA',lat:38.40624,lng:-121.37143},
  {addr:'9533 FM-1488 Magnolia TX',lat:30.21865,lng:-95.74078},
  {addr:'18535 FM 1488 Rd Magnolia TX',lat:30.2125,lng:-95.75166},
  {addr:'15110 FM-2100 Crosby TX',lat:29.90456,lng:-95.06351},
  {addr:'1059 Grand Ave St Paul MN',lat:44.94019,lng:-93.145},
  {addr:'322 Main St Blackshear GA',lat:31.30171,lng:-82.23756},
  {addr:'816 College Dr Barnesville GA',lat:33.03888,lng:-84.15331},
  {addr:'beauty_and_spa',lat:51.20237,lng:4.40547},
  {addr:'McDonough GA US',lat:33.44734,lng:-84.14686},
  {addr:'2103 Veterans Blvd Dublin GA',lat:32.54416,lng:-82.95319},
  {addr:'324 N Michigan Ave Chicago IL',lat:41.88269,lng:-87.62452},
  {addr:'5417 N Broadway Chicago IL',lat:41.98058,lng:-87.65971},
  {addr:'70 Worcester Rd Webster MA',lat:42.07027,lng:-71.86558},
  {addr:'55 Sandy Bottom Rd Coventry RI',lat:41.68773,lng:-71.56096},
  {addr:'2509 Warwick Ave Warwick RI',lat:41.70823,lng:-71.39732},
  {addr:'576 Metacom Ave Bristol RI',lat:41.69403,lng:-71.26345},
  {addr:'614 Main St Falmouth MA',lat:41.55274,lng:-70.60596},
  {addr:'880 Sterling Pkwy Lincoln CA',lat:38.87077,lng:-121.29646},
  {addr:'1803 W 1800 N Clinton UT',lat:41.13942,lng:-112.06024},
  {addr:'410 Uinta Dr Green River WY',lat:41.51531,lng:-109.4712},
  {addr:'8901 E Trent Ave Millwood WA',lat:47.68169,lng:-117.28515},
  {addr:'602 Front St N Barnesville MN',lat:46.65884,lng:-96.41993},
  {addr:'126 Western Ave Augusta ME',lat:44.31138,lng:-69.79184},
  {addr:'51 N Brown St Rhinelander WI',lat:45.63842,lng:-89.41288},
  {addr:'4517 Johnston St Lafayette LA',lat:30.1926,lng:-92.05961},
  {addr:'127 Laura Dr Thibodaux LA',lat:29.80132,lng:-90.81983},
  {addr:'304 W Seattle Ave Moxee WA',lat:46.55557,lng:-120.38879},
  {addr:'5905 Portal Way Ferndale WA',lat:48.85585,lng:-122.58962},
  {addr:'2603 Bickford Ave Snohomish WA',lat:47.94237,lng:-122.10778},
  {addr:'10701 S Walton Rd Island City OR',lat:45.33196,lng:-118.0563},
  {addr:'10511 W Aero Rd Spokane WA',lat:47.58916,lng:-117.56064},
  {addr:'3721 New Macland Rd Powder Springs GA',lat:33.86436,lng:-84.67415},
  {addr:'1375 Peachtree St NE Atlanta GA',lat:33.79251,lng:-84.38582},
  {addr:'2340 Towne Lake Pkwy Woodstock GA',lat:34.11313,lng:-84.55255},
  {addr:'110 Bluffs Pkwy Canton GA',lat:34.25767,lng:-84.47488},
  {addr:'219 Aukerman St Eaton OH',lat:39.74625,lng:-84.62962},
  {addr:'3600 S Chandler Dr Muncie IN',lat:40.15992,lng:-85.36559},
  {addr:'2520 Walton Blvd Warsaw IN',lat:41.27125,lng:-85.85346},
  {addr:'2010 S 11th St Niles MI',lat:41.78959,lng:-86.24656},
  {addr:'233 N Grandstaff Dr Auburn IN',lat:41.36811,lng:-85.07209},
  {addr:'205 W Harcourt Rd Angola IN',lat:41.65712,lng:-85.00091},
  {addr:'1862 S West Ave Freeport IL',lat:42.27459,lng:-89.63434},
  {addr:'506 N Elida St Winnebago IL',lat:42.27335,lng:-89.24241},
  {addr:'5479 Pottsville Pike Leesport PA',lat:40.44577,lng:-75.95789},
  {addr:'91 Wilmington W Chester Pike Chadds Ford PA',lat:39.86841,lng:-75.5444},
  {addr:'1502 West Chester Pike West Chester PA',lat:39.96528,lng:-75.52578},
  {addr:'1154 N Riverside Ave Rialto CA',lat:34.12058,lng:-117.37052},
  {addr:'Hesperia CA US',lat:34.42204,lng:-117.30469},
  {addr:'36891 Cook St Palm Desert CA',lat:33.78107,lng:-116.3565},
  {addr:'328 E Crossroads Blvd Saratoga Springs UT',lat:40.38751,lng:-111.90644},
  {addr:'8332 301 Parrish FL',lat:27.5821,lng:-82.42549},
  {addr:'11700 Oakhurst Rd Largo FL',lat:27.8795,lng:-82.83245},
  {addr:'701 Cleveland St Clearwater FL',lat:27.96555,lng:-82.79673},
  {addr:'1471 Main St Dunedin FL',lat:28.01896,lng:-82.76468},
  {addr:'10875 Bloomingdale Ave Riverview FL',lat:27.89366,lng:-82.3344},
  {addr:'48 Martha Layne Collins Blvd Cold Spring KY',lat:39.02645,lng:-84.45364},
  {addr:'2615 Peachtree Industrial Blvd Duluth GA',lat:34.02388,lng:-84.13947},
  {addr:'4060 Atlanta Hwy Loganville GA',lat:33.84697,lng:-83.91112},
  {addr:'2355 N Telegraph Rd Monroe MI',lat:41.95583,lng:-83.39642},
  {addr:'35147 Center Ridge Rd North Ridgeville OH',lat:41.39283,lng:-82.00809},
  {addr:'2700 Balls Ferry Rd Anderson CA',lat:40.45627,lng:-122.28244},
  {addr:'1201 Penny Ln Fernley NV',lat:39.60703,lng:-119.22288},
  {addr:'2125 W Williams Ave Fallon NV',lat:39.47489,lng:-118.77733},
  {addr:'13711 Coursey Blvd Baton Rouge LA',lat:30.41006,lng:-91.03521},
  {addr:'240 Range 12 Blvd Denham Springs LA',lat:30.45148,lng:-90.9587},
  {addr:'319 W Tena St Jacksonville TX',lat:31.94926,lng:-95.26731},
  {addr:'17968 FM 2493 Flint TX',lat:32.2209,lng:-95.352},
  {addr:'603 W Upshur Ave Gladewater TX',lat:32.53896,lng:-94.94717},
  {addr:'6259 Westport Ave Shreveport LA',lat:32.4428,lng:-93.91144},
  {addr:'5795 N Market St Shreveport LA',lat:32.57916,lng:-93.79683},
  {addr:'130 Del Prado Blvd Cape Coral FL',lat:26.64984,lng:-81.94086},
  {addr:'8309 Lockwood Ridge Rd Sarasota FL',lat:27.38836,lng:-82.50557},
  {addr:'24001 Peachland Blvd Port Charlotte FL',lat:27.01698,lng:-82.13002},
  {addr:'6800 Gulfport Blvd S St Petersburg FL',lat:27.75576,lng:-82.72244},
  {addr:'900 Central Ave Saint Petersburg FL',lat:27.77094,lng:-82.64698},
  {addr:'20 25th St NW Cleveland TN',lat:35.17872,lng:-84.86479},
  {addr:'1069 W Fond du Lac St Ripon WI',lat:43.85206,lng:-88.85789},
  {addr:'542 Walton Dr Plymouth WI',lat:43.75396,lng:-87.945},
  {addr:'860 Fox Point Plz Neenah WI',lat:44.17543,lng:-88.48404},
  {addr:'450 N Military Ave Green Bay WI',lat:44.53492,lng:-88.05489},
  {addr:'977 Butternut Dr Holland MI',lat:42.82797,lng:-86.1352},
  {addr:'2337 Macarthur Rd Whitehall PA',lat:40.64092,lng:-75.48963},
  {addr:'9165 E Northfield Blvd Denver CO',lat:39.78602,lng:-104.88173},
  {addr:'1700 Broadway Scottsbluff NE',lat:41.86343,lng:-103.66302},
  {addr:'903 Hilligoss Blvd SE Fosston MN',lat:47.57248,lng:-95.75167},
  {addr:'16445 Cr-30 Maple Grove MN',lat:45.12548,lng:-93.48804},
  {addr:'2701 39th Ave NE St Anthony MN',lat:45.03849,lng:-93.22381},
  {addr:'2680 Rice St Little Canada MN',lat:45.00934,lng:-93.10589},
  {addr:'901 Forest Ave E Mora MN',lat:45.87642,lng:-93.28415},
  {addr:'144 W 3rd St New Richmond WI',lat:45.12044,lng:-92.53828},
  {addr:'4264 North Cypress Ln Bloomington IN',lat:39.21409,lng:-86.59031},
  {addr:'1565 N National Rd Columbus IN',lat:39.21587,lng:-85.88244},
  {addr:'5406 Antle Dr Louisville KY',lat:38.08606,lng:-85.66514},
  {addr:'1107 Market St Charlestown IN',lat:38.45454,lng:-85.67025},
  {addr:'6101-A Kalamazoo Ave SE Kentwood MI',lat:42.88219,lng:-85.626},
  {addr:'916 N West Ave Jackson MI',lat:42.26045,lng:-84.42419},
  {addr:'1027 S Main St Centerville OH',lat:39.61338,lng:-84.16033},
  {addr:'6254 Wilmington Pike Dayton OH',lat:39.73566,lng:-84.16202},
  {addr:'1831 Avalon St Klamath Falls OR',lat:42.2119,lng:-121.75353},
  {addr:'1288 SW Simpson Ave Bend OR',lat:44.04809,lng:-121.33021},
  {addr:'1573 N Linder Rd Kuna ID',lat:43.50363,lng:-116.41477},
  {addr:'6582 S Federal Way Boise ID',lat:43.54207,lng:-116.15312},
  {addr:'2621 S 10th Ave Caldwell ID',lat:43.64673,lng:-116.69319},
  {addr:'1746 W State St Boise ID',lat:43.62566,lng:-116.21072},
  {addr:'350 S Eagle Rd Eagle ID',lat:43.6918,lng:-116.35235},
  {addr:'1500 W Littleton Blvd Littleton CO',lat:39.61234,lng:-105.00622},
  {addr:'112 N 20th Ave Cornelius OR',lat:45.52129,lng:-123.04748},
  {addr:'897 NE 25th Ave Hillsboro OR',lat:45.53045,lng:-122.95702},
  {addr:'116 E Jackson St Bolivar TN',lat:35.25691,lng:-88.98761},
  {addr:'1626 N Spring St Beaver Dam WI',lat:43.47519,lng:-88.82442},
  {addr:'309 Barstow St Horicon WI',lat:43.44773,lng:-88.63615},
  {addr:'2304 18th St Kenosha WI',lat:42.62435,lng:-87.83698},
  {addr:'2144 E Moreland Blvd Waukesha WI',lat:43.02942,lng:-88.18633},
  {addr:'N35 W23770 Capitol Dr Pewaukee WI',lat:43.08436,lng:-88.2205},
  {addr:'6016 Main St Mays Landing NJ',lat:39.45254,lng:-74.72878},
  {addr:'1239 E McKellips Rd Mesa AZ',lat:33.44935,lng:-111.80393},
  {addr:'2230 N Zaragoza Rd El Paso TX',lat:31.77411,lng:-106.25458},
  {addr:'1223 Goodwin Rd Ruston LA',lat:32.5423,lng:-92.6318},
  {addr:'9000 US-165 Sterlington LA',lat:32.68337,lng:-92.04682},
  {addr:'6718 Old Canton Rd Ridgeland MS',lat:32.40776,lng:-90.10621},
  {addr:'42407 N Vision Way Phoenix AZ',lat:33.8698,lng:-112.15088},
  {addr:'2510 Main St NE Los Lunas NM',lat:34.80524,lng:-106.72381},
  {addr:'2222 California Ave SW Seattle WA',lat:47.58355,lng:-122.38623},
  {addr:'107 E Robinson Ave Grovetown GA',lat:33.45023,lng:-82.197},
  {addr:'341 Furys Ferry Rd Augusta GA',lat:33.51496,lng:-82.05943},
  {addr:'5 W Rigby St Manning SC',lat:33.69668,lng:-80.21092},
  {addr:'3856 S Kings Hwy Myrtle Beach SC',lat:33.65627,lng:-78.93471},
  {addr:'1570 W Oak St Zionsville IN',lat:39.95014,lng:-86.28197},
  {addr:'10027 E Washington St Indianapolis IN',lat:39.77484,lng:-85.98954},
  {addr:'6935 Lake Plaza Dr Indianapolis IN',lat:39.88166,lng:-86.06716},
  {addr:'4003 E Market St Logansport IN',lat:40.75684,lng:-86.31102},
  {addr:'1713 S Memorial Dr New Castle IN',lat:39.91522,lng:-85.38605},
  {addr:'625 W Main St Palmyra PA',lat:40.30316,lng:-76.60524},
  {addr:'1104 State Highway 16 S Graham TX',lat:33.09707,lng:-98.58992},
  {addr:'560 E Central Texas Expy Harker Heights TX',lat:31.07538,lng:-97.65438},
  {addr:'635 N Robinson Dr Robinson TX',lat:31.50361,lng:-97.12629},
  {addr:'2115 W Washington St Stephenville TX',lat:32.21101,lng:-98.22538},
  {addr:'1100 N Trinity St Whitney TX',lat:31.95885,lng:-97.32063},
  {addr:'200 N 15th St Corsicana TX',lat:32.08391,lng:-96.46428},
  {addr:'1259 N Peachtree Pkwy Peachtree City GA',lat:33.44114,lng:-84.59058},
  {addr:'1254 S Pinellas Ave Tarpon Springs FL',lat:28.14578,lng:-82.75661},
  {addr:'402 S Pinellas Ave Tarpon Springs FL',lat:28.14302,lng:-82.75694},
  {addr:'17765 Gunn Hwy Odessa FL',lat:28.12969,lng:-82.57452},
  {addr:'1041 Bruce B Downs Blvd Wesley Chapel FL',lat:28.17158,lng:-82.35445},
  {addr:'7341 Gall Blvd Zephyrhills FL',lat:28.26685,lng:-82.18831},
  {addr:'133 W Roosevelt Rd Villa Park IL',lat:41.86037,lng:-87.97726},
  {addr:'3256 Kirchoff Rd Rolling Meadows IL',lat:42.0785,lng:-88.02055},
  {addr:'1429 E Palatine Rd Arlington Heights IL',lat:42.10973,lng:-87.97549},
  {addr:'17823 80th Ave Tinley Park IL',lat:41.56665,lng:-87.8124},
  {addr:'18345 S Halsted St Glenwood IL',lat:41.53894,lng:-87.63588},
  {addr:'3939 State Route 281 Cortland NY',lat:42.65191,lng:-76.18414},
  {addr:'1065 E Riggs Rd Chandler AZ',lat:33.21821,lng:-111.8226},
  {addr:'4855 E Warner Rd Phoenix AZ',lat:33.33037,lng:-111.97845},
  {addr:'3220 E Baseline Rd Phoenix AZ',lat:33.37891,lng:-112.01101},
  {addr:'1151 S Rogers St Clarksville AR',lat:35.4582,lng:-93.46164},
  {addr:'5313 AR-5 Bryant AR',lat:34.62269,lng:-92.50323},
  {addr:'26 Broad St Alexander City AL',lat:32.94534,lng:-85.95399},
  {addr:'11971 Liberty Pkwy Vestavia Hills AL',lat:33.47381,lng:-86.69521},
  {addr:'5605 W Friendly Ave Greensboro NC',lat:36.0888,lng:-79.88551},
  {addr:'7721 Beechmont Ave Cincinnati OH',lat:39.07247,lng:-84.3436},
  {addr:'515 Loveland Madeira Rd Loveland OH',lat:39.26459,lng:-84.26737},
  {addr:'11403 Windsor Blvd Windsor VA',lat:36.80467,lng:-76.72792},
  {addr:'1501 Cedar Rd Chesapeake VA',lat:36.72448,lng:-76.29669},
  {addr:'968 Laskin Rd Virginia Beach VA',lat:36.85779,lng:-75.9899},
  {addr:'16 Towne Centre Way Hampton VA',lat:37.06356,lng:-76.4254},
  {addr:'5304 George Washington Memorial Hwy Yorktown VA',lat:37.15839,lng:-76.46081},
  {addr:'1434 Rolkin Ct Charlottesville VA',lat:38.02947,lng:-78.44113},
  {addr:'840 waine\'e St Lahaina HI',lat:20.87627,lng:-156.67786},
  {addr:'2322 Proctor Valley Rd Chula Vista CA',lat:32.66152,lng:-116.97039},
  {addr:'3407 Guadalupe St Austin TX',lat:30.30057,lng:-97.73924},
  {addr:'6911 FM-620 Austin TX',lat:30.40225,lng:-97.85375},
  {addr:'2525 W Anderson Ln Austin TX',lat:30.35548,lng:-97.73486},
  {addr:'217 W 7th Ave Augusta KS',lat:37.67927,lng:-96.98096},
  {addr:'2205 N Broadway St Poteau OK',lat:35.0636,lng:-94.62099},
  {addr:'1007 S Mt Olive St Siloam Springs AR',lat:36.17414,lng:-94.54139},
  {addr:'4645 Fulton Dr NW Jackson Twp OH',lat:40.86047,lng:-81.48076},
  {addr:'2676 Easton St NE Canton OH',lat:40.87497,lng:-81.36342},
  {addr:'409 Cedar Dr Portland TX',lat:27.89904,lng:-97.30965},
  {addr:'7019 W Hefner Rd Oklahoma City OK',lat:35.58015,lng:-97.63683},
  {addr:'58 E 15th St Edmond OK',lat:35.63767,lng:-97.48104},
  {addr:'216 S Main St Sapulpa OK',lat:35.99611,lng:-96.11414},
  {addr:'3802 S 113th West Ave Sand Springs OK',lat:36.10323,lng:-96.1189},
  {addr:'379 Old Greenville Hwy Clemson SC',lat:34.6848,lng:-82.81609},
  {addr:'1011 S Pendleton St Easley SC',lat:34.81301,lng:-82.60204},
  {addr:'3614 US-411 Madisonville TN',lat:35.51021,lng:-84.36886},
  {addr:'4603 Library Rd Bethel Park PA',lat:40.35043,lng:-80.02316},
  {addr:'life_coach',lat:51.10944,lng:4.00895},
  {addr:'Murrieta CA US',lat:33.56083,lng:-117.21066},
  {addr:'510 Canal St King City CA',lat:36.205,lng:-121.1315},
  {addr:'3505 E Park Blvd Plano TX',lat:33.03111,lng:-96.66623},
  {addr:'2 Embry Dr Desloge MO',lat:37.8769,lng:-90.52765},
  {addr:'2450 Taylor Rd Wildwood MO',lat:38.58058,lng:-90.62717},
  {addr:'9120 Airport Blvd Mobile AL',lat:30.68065,lng:-88.19559},
  {addr:'339 Racetrack Rd NW Fort Walton Beach FL',lat:30.44874,lng:-86.63087},
  {addr:'1548 US-49 Magee MS',lat:31.86553,lng:-89.73485},
  {addr:'534 N Church Ave Louisville MS',lat:33.1442,lng:-89.07556},
  {addr:'858 Brawley School Rd Mooresville NC',lat:35.57612,lng:-80.88918},
  {addr:'1610 Oakhurst Commons Dr Charlotte NC',lat:35.19391,lng:-80.78146},
  {addr:'128 Brucewood Rd Southern Pines NC',lat:35.17243,lng:-79.42213},
  {addr:'2103 Grace Park Dr Morrisville NC',lat:35.82003,lng:-78.84616},
  {addr:'1 Buffalo St Hamburg NY',lat:42.71619,lng:-78.82915},
  {addr:'boot_camp',lat:42.49564,lng:-83.90084},
  {addr:'3135 Niagara Falls Blvd Amherst NY',lat:43.04048,lng:-78.82032},
  {addr:'6347 Jarvis Ave Newark CA',lat:37.54851,lng:-122.05113},
  {addr:'2138 N Josey Ln Carrollton TX',lat:32.97143,lng:-96.88977},
  {addr:'3501 Custer Pkwy Richardson TX',lat:32.99929,lng:-96.73035},
  {addr:'5219 Broadway Blvd Garland TX',lat:32.85231,lng:-96.59895},
  {addr:'13154 State Line Rd Leawood KS',lat:38.89026,lng:-94.60806},
  {addr:'7000 NW 83rd St Kansas City MO',lat:39.24427,lng:-94.66009},
  {addr:'5941 Weddington Rd Wesley Chapel NC',lat:35.00121,lng:-80.69954},
  {addr:'8501 N Lilley Rd Canton MI',lat:42.34954,lng:-83.46059},
  {addr:'5643 E 13 Mile Rd Warren MI',lat:42.52039,lng:-83.06842},
  {addr:'62 Galloway Rd Warwick NY',lat:41.2506,lng:-74.35295},
  {addr:'26869 Bouquet Canyon Rd Santa Clarita CA',lat:34.43389,lng:-118.52818},
  {addr:'2509 19th St Hondo TX',lat:29.34613,lng:-99.15565},
  {addr:'8202 N Loop 1604 W San Antonio TX',lat:29.57232,lng:-98.64709},
  {addr:'404 W Main St Stockdale TX',lat:29.23532,lng:-97.96307},
  {addr:'810 E 56th St Kearney NE',lat:40.729,lng:-99.07114},
  {addr:'6710 Woodland Blvd Hickman NE',lat:40.63118,lng:-96.63568},
  {addr:'2415 E 23rd Ave S Fremont NE',lat:41.45092,lng:-96.46867},
  {addr:'11863 S 216th St Gretna NE',lat:41.13044,lng:-96.25297},
  {addr:'1207 S Locust St Glenwood IA',lat:41.03727,lng:-95.74819},
  {addr:'1844 Washington St Blair NE',lat:41.54404,lng:-96.1405},
  {addr:'1920 E Commercial Ave Lowell IN',lat:41.28985,lng:-87.39319},
  {addr:'12513 W 159th St Homer Glen IL',lat:41.59967,lng:-87.92312},
  {addr:'38627 Benro Dr Delmar DE',lat:38.45659,lng:-75.55585},
  {addr:'462 Main St Melrose MA',lat:42.45455,lng:-71.06607},
  {addr:'536 Main St Groton MA',lat:42.62319,lng:-71.58796},
  {addr:'9 E Foothill Blvd Arcadia CA',lat:34.15106,lng:-118.03122},
  {addr:'617 N Broadway St Joshua TX',lat:32.48399,lng:-97.37827},
  {addr:'5000 Western Center Blvd Haltom City TX',lat:32.86074,lng:-97.27678},
  {addr:'132 E Ovilla Rd Red Oak TX',lat:32.53279,lng:-96.81208},
  {addr:'111 N Main St Canton SD',lat:43.30106,lng:-96.59285},
  {addr:'905 E Spruce St Mitchell SD',lat:43.69376,lng:-98.01221},
  {addr:'819 Broadway St Pella IA',lat:41.40735,lng:-92.91863},
  {addr:'1818 Fawcett Pkwy Nevada IA',lat:42.01217,lng:-93.43577},
  {addr:'2328 Avenue L Fort Madison IA',lat:40.62707,lng:-91.33876},
  {addr:'521 Westbury Dr Iowa City IA',lat:41.66762,lng:-91.48223},
  {addr:'6615 Mahan Dr Tallahassee FL',lat:30.47977,lng:-84.16702},
  {addr:'2467 Faye Rd Jacksonville FL',lat:30.4377,lng:-81.58208},
  {addr:'2800 Osborne Rd St Marys GA',lat:30.74223,lng:-81.553},
  {addr:'4645 Gallia St New Boston OH',lat:38.75377,lng:-82.91945},
  {addr:'45 Market St Zion Crossroads VA',lat:37.97834,lng:-78.21067},
  {addr:'7501 Graham St Spotsylvania VA',lat:38.20497,lng:-77.59236},
  {addr:'9529 Braddock Rd Fairfax VA',lat:38.81768,lng:-77.2748},
  {addr:'1070 Iyannough Rd Hyannis MA',lat:41.67433,lng:-70.30364},
  {addr:'fitness_trainer',lat:24.92242,lng:67.07274},
  {addr:'10002 Shops Way Northborough MA',lat:42.28575,lng:-71.66935},
  {addr:'501 Nagog Park Acton MA',lat:42.52566,lng:-71.4301},
  {addr:'475 Hancock St Quincy MA',lat:42.27085,lng:-71.02406},
  {addr:'500 W Napa St Sonoma CA',lat:38.29407,lng:-122.46841},
  {addr:'1900 N Lincoln St Dixon CA',lat:38.4655,lng:-121.83208},
  {addr:'10530 Twin Cities Rd Galt CA',lat:38.2904,lng:-121.29985},
  {addr:'9420 College Park Dr #20 The Woodlands TX',lat:30.22939,lng:-95.50928},
  {addr:'660 Iowa St Dubuque IA',lat:42.50017,lng:-90.66482},
  {addr:'827 High Point Dr NE Byron MN',lat:44.03,lng:-92.63136},
  {addr:'4181 31st Ave NW Rochester MN',lat:44.06668,lng:-92.50889},
  {addr:'210 E Main St Arcadia WI',lat:44.25222,lng:-91.49757},
  {addr:'162 S Eau Claire St Mondovi WI',lat:44.56716,lng:-91.67048},
  {addr:'112 5th Ave S La Crosse WI',lat:43.88337,lng:-91.23071},
  {addr:'1221 W 4th St Adel GA',lat:31.13425,lng:-83.4406},
  {addr:'1020 S Pierce St Alma GA',lat:31.54168,lng:-82.4622},
  {addr:'124 E Jarman St Hazlehurst GA',lat:31.86425,lng:-82.58587},
  {addr:'108 W China St Glennville GA',lat:31.93701,lng:-81.92533},
  {addr:'435 Elma G Miles Pkwy Hinesville GA',lat:31.84213,lng:-81.59967},
  {addr:'158 N Main St Uxbridge MA',lat:42.08203,lng:-71.63953},
  {addr:'106 Main St Medway MA',lat:42.15139,lng:-71.41476},
  {addr:'25 Washington St Canton MA',lat:42.20496,lng:-71.11949},
  {addr:'1 Chace Rd East Freetown MA',lat:41.76991,lng:-70.95603},
  {addr:'3103 Cranberry Hwy East Wareham MA',lat:41.76003,lng:-70.67172},
  {addr:'3 W Crawford St Deer Park WA',lat:47.95411,lng:-117.47935},
  {addr:'102 4th Ave SE Watford City ND',lat:47.79977,lng:-103.26545},
  {addr:'321 S Main St Aberdeen SD',lat:45.46128,lng:-98.48781},
  {addr:'1651 Wheatland Rd Wahpeton ND',lat:46.28677,lng:-96.61993},
  {addr:'1820 Tiny Town Rd Clarksville TN',lat:36.62779,lng:-87.35836},
  {addr:'1207 Frank Scott Pkwy E O\'Fallon IL',lat:38.57061,lng:-89.93605},
  {addr:'616B S 42nd St Mount Vernon IL',lat:38.3071,lng:-88.94218},
  {addr:'1785 N Bechtle Ave Springfield OH',lat:39.94939,lng:-83.83275},
  {addr:'926 N High St Worthington OH',lat:40.09338,lng:-83.0177},
  {addr:'6047 Gender Rd Canal Winchester OH',lat:39.8569,lng:-82.83195},
  {addr:'1301 Lincoln St Rhinelander WI',lat:45.63344,lng:-89.3936},
  {addr:'1078 S Stephenson Ave Iron Mountain MI',lat:45.81362,lng:-88.06227},
  {addr:'1516 US-190 Eunice LA',lat:30.49504,lng:-92.44801},
  {addr:'115 Derek Plaza Dr Carencro LA',lat:30.32055,lng:-92.0401},
  {addr:'1536 S Union St Opelousas LA',lat:30.51844,lng:-92.08267},
  {addr:'3228 S Burnside Ave Gonzales LA',lat:30.20943,lng:-90.92068},
  {addr:'4882 LA-1 Raceland LA',lat:29.69187,lng:-90.55054},
  {addr:'607 Belle Terre Blvd Laplace LA',lat:30.09041,lng:-90.50463},
  {addr:'1811 Rousseau St New Orleans LA',lat:29.92798,lng:-90.06868},
  {addr:'220 W 1st St Wapato WA',lat:46.44789,lng:-120.4229},
  {addr:'218 E Yakima Ave Yakima WA',lat:46.55545,lng:-120.38352},
  {addr:'4875 Floyd Rd SW Mableton GA',lat:33.83515,lng:-84.57444},
  {addr:'4210 Main St Jasper TN',lat:35.07338,lng:-85.62916},
  {addr:'228 E Market St Celina OH',lat:40.54906,lng:-84.56367},
  {addr:'757 Indian Boundary Rd Chesterton IN',lat:41.61696,lng:-87.03825},
  {addr:'317 Hauenstein Rd Huntington IN',lat:40.8949,lng:-85.51599},
  {addr:'408 W Main St North Manchester IN',lat:40.9994,lng:-85.77524},
  {addr:'5984 W Jefferson Blvd Fort Wayne IN',lat:41.06093,lng:-85.21864},
  {addr:'462 W Plaza Dr Columbia City IN',lat:41.17051,lng:-85.49381},
  {addr:'6520 E State Blvd Fort Wayne IN',lat:41.10047,lng:-85.05702},
  {addr:'67555 E Palm Canyon Dr Cathedral City CA',lat:33.7887,lng:-116.48374},
  {addr:'500 E Windmill Ln Las Vegas NV',lat:36.04295,lng:-115.15276},
  {addr:'Santa Fe NM US',lat:35.68761,lng:-105.93846},
  {addr:'195 East Rd Los Alamos NM',lat:35.8811,lng:-106.28574},
  {addr:'501 W Brandon Blvd Brandon FL',lat:27.93765,lng:-82.29323},
  {addr:'8424 W Hillsborough Ave Tampa FL',lat:27.99597,lng:-82.49966},
  {addr:'9225 N 56th St Temple Terrace FL',lat:28.03368,lng:-82.39338},
  {addr:'9420 Willeo Rd Roswell GA',lat:34.01022,lng:-84.37456},
  {addr:'1267 N Telegraph Rd Monroe MI',lat:41.93887,lng:-83.4064},
  {addr:'pharmacy',lat:43.72596,lng:-79.29605},
  {addr:'21849 Lorain Rd Cleveland OH',lat:41.44873,lng:-81.82473},
  {addr:'1624 E Perry St Port Clinton OH',lat:41.51436,lng:-82.92058},
  {addr:'550 W Pioneer Blvd Mesquite NV',lat:36.81081,lng:-114.08156},
  {addr:'1100 Canyon View Dr Santa Clara UT',lat:37.13249,lng:-113.64098},
  {addr:'1500 Great Basin Blvd Ely NV',lat:39.24704,lng:-114.87047},
  {addr:'4784 Caughlin Pkwy Reno NV',lat:39.48328,lng:-119.85463},
  {addr:'150 N Bartlett St Medford OR',lat:42.32829,lng:-122.87246},
  {addr:'25550 Juban Rd Denham Springs LA',lat:30.43742,lng:-90.91336},
  {addr:'sporting_goods',lat:44.80185,lng:10.32936},
  {addr:'208 Avenue G Kentwood LA',lat:30.93675,lng:-90.50802},
  {addr:'82205 Orange St Folsom LA',lat:38.67102,lng:-121.17913},
  {addr:'3869 State Highway 64 W Tyler TX',lat:32.36047,lng:-95.3862},
  {addr:'702 W Main St Hallsville TX',lat:32.51055,lng:-94.59254},
  {addr:'9861 Bernwood Place Dr Fort Myers FL',lat:26.59864,lng:-81.81177},
  {addr:'400 Downs Blvd Franklin TN',lat:35.9084,lng:-86.88382},
  {addr:'1932 Almaville Rd Smyrna TN',lat:35.93057,lng:-86.53407},
  {addr:'1545 Nashville Pike Gallatin TN',lat:36.35898,lng:-86.49863},
  {addr:'56098 S Main St Mattawan MI',lat:42.21484,lng:-85.78538},
  {addr:'1027 S Beacon Blvd Grand Haven MI',lat:43.05141,lng:-86.22054},
  {addr:'1029 W County Line Rd Hatboro PA',lat:40.20124,lng:-75.12026},
  {addr:'300 E Colorado St Glendale CA',lat:34.14259,lng:-118.255},
  {addr:'5120 Greenbriar Rd Wichita Falls TX',lat:33.85309,lng:-98.50022},
  {addr:'220 S Main St Perryton TX',lat:36.39768,lng:-100.80321},
  {addr:'4081 Cedar St Monticello MN',lat:45.28756,lng:-93.8028},
  {addr:'4190 Vinewood Ln N Plymouth MN',lat:45.03156,lng:-93.44734},
  {addr:'1460 133rd Ln NE Ham Lake MN',lat:45.21243,lng:-93.23169},
  {addr:'14643 Mercantile Dr N Hugo MN',lat:45.16262,lng:-93.01615},
  {addr:'1200 SE 4th Ave Grand Rapids MN',lat:47.21901,lng:-93.52308},
  {addr:'291 N Hubbards Ln Louisville KY',lat:38.25949,lng:-85.63711},
  {addr:'6400 Crestwood Sta Crestwood KY',lat:38.33907,lng:-85.46791},
  {addr:'6074 Limaburg Rd Burlington KY',lat:39.01797,lng:-84.68754},
  {addr:'2101 Plett Rd Cadillac MI',lat:44.27885,lng:-85.39732},
  {addr:'1350 Galloping Hill Rd Union NJ',lat:40.67867,lng:-74.27022},
  {addr:'671 Main St Lebanon OR',lat:44.5394,lng:-122.90702},
  {addr:'5065 River Rd N Keizer OR',lat:44.99778,lng:-123.02675},
  {addr:'16487 Bluewood Pl La Pine OR',lat:43.67583,lng:-121.50026},
  {addr:'2926 E Greenhurst Rd Nampa ID',lat:43.54749,lng:-116.53421},
  {addr:'3897 Evergreen Pkwy Evergreen CO',lat:39.65138,lng:-105.34423},
  {addr:'2585 S Lewis Way Lakewood CO',lat:39.66995,lng:-105.11345},
  {addr:'703 Mcclaine St Silverton OR',lat:45.0053,lng:-122.7931},
  {addr:'2600 Humes Rd Janesville WI',lat:42.71881,lng:-88.99094},
  {addr:'301 E Campus Mall Madison WI',lat:43.07224,lng:-89.39888},
  {addr:'2300',lat:42.91843,lng:-89.24946},
  {addr:'308 Washington St Fort Atkinson WI',lat:42.93087,lng:-88.83995},
  {addr:'804 West St Watertown WI',lat:43.18962,lng:-88.73862},
  {addr:'474 Orchard St Antioch IL',lat:42.47834,lng:-88.1004},
  {addr:'2088 Milwaukee Ave Burlington WI',lat:42.67997,lng:-88.27772},
  {addr:'2229 S 108th St West Allis WI',lat:43.00377,lng:-88.04782},
  {addr:'18 Broadway Pemberton Twp NJ',lat:39.9758,lng:-74.58142},
  {addr:'1570 Egypt Rd Upper Providence PA',lat:40.13298,lng:-75.45403},
  {addr:'5094 N Hayden Rd Scottsdale AZ',lat:33.51065,lng:-111.90956},
  {addr:'949 N Val Vista Dr Gilbert AZ',lat:33.36767,lng:-111.7553},
  {addr:'12040 N Thornydale Rd Marana AZ',lat:32.42537,lng:-111.04384},
  {addr:'7937 N Oracle Rd Tucson AZ',lat:32.35028,lng:-110.97709},
  {addr:'2250 US-60 Miami AZ',lat:33.40431,lng:-110.86029},
  {addr:'10910 Montana Ave El Paso TX',lat:31.79917,lng:-106.32181},
  {addr:'1300 Hamilton Rd Alamogordo NM',lat:32.87432,lng:-105.96083},
  {addr:'2419 N 7th St West Monroe LA',lat:32.52333,lng:-92.14808},
  {addr:'3190 Willow Creek Rd Prescott AZ',lat:34.59871,lng:-112.45775},
  {addr:'105 W Aztec Blvd Aztec NM',lat:36.82669,lng:-107.99408},
  {addr:'9550 Sage Rd SW Albuquerque NM',lat:35.05529,lng:-106.73811},
  {addr:'1614 SW Dash Point Rd Federal Way WA',lat:47.32388,lng:-122.35619},
  {addr:'64 Rainier Ave S Renton WA',lat:47.48426,lng:-122.21597},
  {addr:'1700 E Madison St Seattle WA',lat:47.61109,lng:-122.32096},
  {addr:'4497 Columbia Rd Augusta GA',lat:33.4479,lng:-81.93142},
  {addr:'3293 Maybank Hwy Johns Island SC',lat:32.73143,lng:-80.06118},
  {addr:'736 Mink Ave Murrells Inlet SC',lat:33.56632,lng:-79.03654},
  {addr:'50 N State Road 135 Bargersville IN',lat:39.49733,lng:-86.1579},
  {addr:'2310 N Lebanon St Lebanon IN',lat:40.06753,lng:-86.4732},
  {addr:'914 N Main St Monticello IN',lat:40.75628,lng:-86.76616},
  {addr:'5002 Honeygo Center Dr Perry Hall MD',lat:39.40507,lng:-76.44335},
  {addr:'221 N Prince St Lancaster PA',lat:40.04133,lng:-76.30832},
  {addr:'921 E Main St Mt Joy PA',lat:40.10988,lng:-76.47968},
  {addr:'601 W Munising Ave Munising MI',lat:46.4148,lng:-86.66194},
  {addr:'1302 Main St Ramona CA',lat:33.03923,lng:-116.87343},
  {addr:'10750 Barker Cypress Rd Cypress TX',lat:29.99014,lng:-95.67814},
  {addr:'15210 Spring-Cypress Rd Cypress TX',lat:29.97504,lng:-95.68143},
  {addr:'1009 E 4th St Lampasas TX',lat:31.06582,lng:-98.17212},
  {addr:'3010 E Highway 190 Copperas Cove TX',lat:31.11943,lng:-97.86225},
  {addr:'701 Williams Rd Salado TX',lat:30.95773,lng:-97.54053},
  {addr:'1005 E Milam St Mexia TX',lat:31.68465,lng:-96.47374},
  {addr:'1733 30th St Rock Island IL',lat:41.49397,lng:-90.55714},
  {addr:'508 2nd St Jackson MN',lat:43.62176,lng:-94.98757},
  {addr:'1100 W Frontage Rd Owatonna MN',lat:44.09501,lng:-93.26843},
  {addr:'17811 Kenwood Trl Lakeville MN',lat:44.69128,lng:-93.28376},
  {addr:'4451 W 76th St Edina MN',lat:44.86485,lng:-93.33458},
  {addr:'13720 Little Rd Hudson FL',lat:28.35659,lng:-82.66599},
  {addr:'14223 Powell Rd Spring Hill FL',lat:28.49202,lng:-82.48795},
  {addr:'14540 7th St Dade City FL',lat:28.36932,lng:-82.18898},
  {addr:'2570 E Highway 50 Clermont FL',lat:28.54671,lng:-81.72328},
  {addr:'14131 W Colonial Dr Winter Garden FL',lat:28.55263,lng:-81.59375},
  {addr:'2261 Maple Ave Downers Grove IL',lat:41.78459,lng:-88.03819},
  {addr:'2153 Randall Rd Carpentersville IL',lat:42.11866,lng:-88.33501},
  {addr:'9130 Piscataway Rd Clinton MD',lat:38.76439,lng:-76.90147},
  {addr:'18319 Leaman Farm Rd Germantown MD',lat:39.15917,lng:-77.27808},
  {addr:'3135 E Indian School Rd Phoenix AZ',lat:33.49513,lng:-112.01441},
  {addr:'108 W Edgewood Dr Friendswood TX',lat:29.53334,lng:-95.20634},
  {addr:'7058 W Sunset Ave Springdale AR',lat:36.17697,lng:-94.2087},
  {addr:'106 N Bloomington St Lowell AR',lat:36.25563,lng:-94.13768},
  {addr:'20 Bruce St Morrilton AR',lat:35.17109,lng:-92.71868},
  {addr:'47 S Broadview St Greenbrier AR',lat:35.2317,lng:-92.38806},
  {addr:'815 Malcolm Ave Newport AR',lat:35.60643,lng:-91.26995},
  {addr:'203 Military Rd Marion AR',lat:35.21404,lng:-90.20063},
  {addr:'1517 Glenn School Rd Durham NC',lat:36.02728,lng:-78.84177},
  {addr:'1464 Mt Pleasant Rd Chesapeake VA',lat:36.71562,lng:-76.1883},
  {addr:'1274 N Great Neck Rd Virginia Beach VA',lat:36.87367,lng:-76.03982},
  {addr:'190 Main St Deep River CT',lat:41.38369,lng:-72.43527},
  {addr:'200 Silver St Agawam MA',lat:42.06201,lng:-72.63353},
  {addr:'314 Main St Smithville TX',lat:30.00864,lng:-97.15938},
  {addr:'105 Wildwood Dr Georgetown TX',lat:30.6835,lng:-97.72159},
  {addr:'304 E Travis St La Grange TX',lat:29.9067,lng:-96.87433},
  {addr:'1800 E Jackson St Hugo OK',lat:34.00064,lng:-95.48151},
  {addr:'1514 Fayetteville Rd Van Buren AR',lat:35.45749,lng:-94.35647},
  {addr:'6315 W Wedington Dr Fayetteville AR',lat:36.07863,lng:-94.25191},
  {addr:'1863 Hendersonville Rd Asheville NC',lat:35.50144,lng:-82.52433},
  {addr:'805 Patton Ave Asheville NC',lat:35.5882,lng:-82.58587},
  {addr:'Canton OH US',lat:40.79855,lng:-81.37495},
  {addr:'9950 Johnnycake Ridge Rd Painesville OH',lat:41.70489,lng:-81.24136},
  {addr:'203 Hampton Ave Punxsutawney PA',lat:40.94547,lng:-78.96773},
  {addr:'3601 W Main St Durant OK',lat:33.99846,lng:-96.41089},
  {addr:'800 N Hinckley St Holdenville OK',lat:35.0741,lng:-96.40601},
  {addr:'7140 NW 23rd St Bethany OK',lat:35.49328,lng:-97.63757},
  {addr:'2209 SW 104th St Oklahoma City OK',lat:35.3633,lng:-97.55321},
  {addr:'6450 S Elm Pl Broken Arrow OK',lat:35.9895,lng:-95.79746},
  {addr:'8016 Cumming Hwy Canton GA',lat:34.23622,lng:-84.45198},
  {addr:'1654 Buford Hwy Cumming GA',lat:34.17675,lng:-84.12984},
  {addr:'3190 Atlanta Highway 1 Athens GA',lat:33.94152,lng:-83.4512},
  {addr:'100 E Washington St Greenville SC',lat:34.85011,lng:-82.39766},
  {addr:'2288 Brodhead Rd Aliquippa PA',lat:40.61421,lng:-80.28516},
  {addr:'921 Freeport Rd Pittsburgh PA',lat:40.48828,lng:-79.88747},
  {addr:'111 Allegheny Ave Oakmont PA',lat:40.51288,lng:-79.84382},
  {addr:'405 S Main St Old Forge PA',lat:41.36925,lng:-75.73691},
  {addr:'2950 Johnson Dr Ventura CA',lat:34.24804,lng:-119.19493},
  {addr:'6921 Independence Pkwy Plano TX',lat:33.07102,lng:-96.75048},
  {addr:'385 N Henry Hynds Expy Van Alstyne TX',lat:33.42347,lng:-96.58888},
  {addr:'3220 W Edgewood Dr Jefferson City MO',lat:38.57105,lng:-92.21355},
  {addr:'1729 W Broadway Columbia MO',lat:38.95604,lng:-92.36442},
  {addr:'14557 Manchester Rd Ballwin MO',lat:38.59373,lng:-90.52464},
  {addr:'9745 Manchester Rd Saint Louis MO',lat:38.61424,lng:-90.31382},
  {addr:'21862 AL-59 Robertsdale AL',lat:30.54317,lng:-87.70823},
  {addr:'100 S Alcaniz St Pensacola FL',lat:30.41215,lng:-87.20962},
  {addr:'319 Faith Rd Salisbury NC',lat:35.65389,lng:-80.45828},
  {addr:'186 S Washington St Oxford MI',lat:42.81878,lng:-83.25941},
  {addr:'8753 Monroe Rd Durand MI',lat:42.92174,lng:-83.99092},
  {addr:'622 N State Rd Davison MI',lat:43.03551,lng:-83.51646},
  {addr:'700 S Main St Lapeer MI',lat:43.04123,lng:-83.32094},
  {addr:'1847 S Cedar St Imlay City MI',lat:43.01117,lng:-83.06978},
  {addr:'1847 N Van Dyke Rd Imlay City MI',lat:43.08949,lng:-83.07389},
  {addr:'27653 23 Mile Rd Chesterfield MI',lat:42.67476,lng:-82.83157},
  {addr:'755 1st St Gilroy CA',lat:37.01387,lng:-121.58444},
  {addr:'2380 Firewheel Pkwy Garland TX',lat:32.93597,lng:-96.60163},
  {addr:'833 N Main St Nixa MO',lat:37.05502,lng:-93.29442},
  {addr:'100 E Kansas St Lansing KS',lat:39.24936,lng:-94.89993},
  {addr:'347 Main St Platte City MO',lat:39.37017,lng:-94.78032},
  {addr:'701 Orange Ave Fort Pierce FL',lat:27.44688,lng:-80.32907},
  {addr:'3201 E Judge Perez Dr Meraux LA',lat:29.93732,lng:-89.929},
  {addr:'715 University Village Dr Blythewood SC',lat:34.21553,lng:-80.9866},
  {addr:'916 E Liberty St York SC',lat:34.98571,lng:-81.21861},
  {addr:'10844 Providence Rd Charlotte NC',lat:35.06139,lng:-80.77307},
  {addr:'37592 W 12 Mile Rd Farmington Hills MI',lat:42.49747,lng:-83.41896},
  {addr:'26334 Ford Rd Dearborn Heights MI',lat:42.32753,lng:-83.2983},
  {addr:'149 N Perry St Pontiac MI',lat:42.641,lng:-83.29233},
  {addr:'505 Schutt Rd Middletown NY',lat:41.44967,lng:-74.3839},
  {addr:'144 W Los Angeles Ave Moorpark CA',lat:34.27909,lng:-118.8832},
  {addr:'2941 Cochran St Simi Valley CA',lat:34.27974,lng:-118.73973},
  {addr:'804 N Oak St Pearsall TX',lat:28.89812,lng:-99.09295},
  {addr:'4200 McCullough Ave San Antonio TX',lat:29.46918,lng:-98.49162},
  {addr:'20079 Stone Oak Pkwy San Antonio TX',lat:29.64246,lng:-98.48802},
  {addr:'1420 E Main St Fredericksburg TX',lat:30.25837,lng:-98.85166},
  {addr:'131 Business Park Dr Kenedy TX',lat:28.83514,lng:-97.86526},
  {addr:'3820 Roy Richard Dr Schertz TX',lat:29.58651,lng:-98.2678},
  {addr:'3111 TPC Pkwy San Antonio TX',lat:29.65398,lng:-98.44183},
  {addr:'7301 S 27th St Lincoln NE',lat:40.73726,lng:-96.68263},
  {addr:'333 E 23rd St Columbus NE',lat:41.43866,lng:-97.36051},
  {addr:'104 N Main St West Point NE',lat:41.84037,lng:-96.71205},
  {addr:'2425 S Hiawassee Rd Orlando FL',lat:28.51694,lng:-81.48387},
  {addr:'958 Orange Ave Winter Park FL',lat:28.59005,lng:-81.35949},
  {addr:'1538 Harrison St Titusville FL',lat:28.58584,lng:-80.82023},
  {addr:'2117 Court St Pekin IL',lat:40.54257,lng:-89.5968},
  {addr:'2733 Columbus St Ottawa IL',lat:41.37031,lng:-88.83582},
  {addr:'107 1st Ave Rock Falls IL',lat:41.78279,lng:-89.69194},
  {addr:'2579 Sycamore Rd Dekalb IL',lat:41.95674,lng:-88.72139},
  {addr:'8119 Taft St Merrillville IN',lat:41.46999,lng:-87.36492},
  {addr:'1311 Butterfield Rd Aurora IL',lat:41.81258,lng:-88.28348},
  {addr:'672 Old Mill Rd Millersville MD',lat:39.11854,lng:-76.63259},
  {addr:'123 New Hampshire # 101a Amherst NH',lat:42.80671,lng:-71.57048},
  {addr:'2688 N Santiago Blvd Orange CA',lat:33.8346,lng:-117.83379},
  {addr:'4720 Riverwalk Pkwy Riverside CA',lat:33.91491,lng:-117.49252},
  {addr:'200 S Oakridge Dr Hudson Oaks TX',lat:32.75346,lng:-97.71252},
  {addr:'9500 Ray White Rd Fort Worth TX',lat:32.91194,lng:-97.27194},
  {addr:'3212 E 10th St Sioux Falls SD',lat:43.54679,lng:-96.68579},
  {addr:'2350 Dakota Ave S Huron SD',lat:44.33836,lng:-98.21526},
  {addr:'507 8th Ave SE Pipestone MN',lat:43.99532,lng:-96.30718},
  {addr:'720 22nd Ave S Brookings SD',lat:44.29878,lng:-96.77053},
  {addr:'852 N Quincy Ave Ottumwa IA',lat:41.01223,lng:-92.43738},
  {addr:'2734 E Pinetree Blvd Thomasville GA',lat:30.85215,lng:-83.95009},
  {addr:'3143 N Ashley St Valdosta GA',lat:30.87701,lng:-83.29065},
  {addr:'7 Liberty Plz Hurricane WV',lat:38.45912,lng:-81.93299},
  {addr:'12379 James Madison Hwy Orange VA',lat:38.23362,lng:-78.11197},
  {addr:'19942 Fisher Ave Poolesville MD',lat:39.14535,lng:-77.4167},
  {addr:'8636 Richmond Hwy Alexandria VA',lat:38.79262,lng:-77.05674},
  {addr:'227 Turnpike Rd Westborough MA',lat:42.28612,lng:-71.63576},
  {addr:'4421 Gateway Park Blvd Sacramento CA',lat:38.65289,lng:-121.50283},
  {addr:'455 Watt Ave Sacramento CA',lat:38.57312,lng:-121.38311},
  {addr:'756 S Plaza Dr Mendota Heights MN',lat:44.88054,lng:-93.1239},
  {addr:'136 S Walnut St La Crescent MN',lat:43.82776,lng:-91.30394},
  {addr:'112 N Central Ave Marshfield WI',lat:44.6679,lng:-90.17265},
  {addr:'8936 Lake Otis Pkwy Anchorage AK',lat:61.13954,lng:-149.83503},
  {addr:'202 E 4th St Ocilla GA',lat:31.59299,lng:-83.23704},
  {addr:'1715 Knight Ave Waycross GA',lat:31.20751,lng:-82.3346},
  {addr:'4920 Flat Shoals Pkwy Decatur GA',lat:33.68115,lng:-84.22675},
  {addr:'7963 Fayetteville Rd Garner NC',lat:35.71911,lng:-78.65438},
  {addr:'4500 Falls Of Neuse Rd Raleigh NC',lat:35.84413,lng:-78.61131},
  {addr:'619 Southbridge St Auburn MA',lat:42.1875,lng:-71.85071},
  {addr:'1577 Atwood Ave Johnston RI',lat:41.82848,lng:-71.50015},
  {addr:'1452 Broncos Hwy Burrillville RI',lat:41.96756,lng:-71.64347},
  {addr:'25 Washington St Easton MA',lat:42.08803,lng:-71.09238},
  {addr:'key_and_locksmith',lat:39.02351,lng:-86.93772},
  {addr:'17 Berdon Way Fairhaven MA',lat:41.63981,lng:-70.88333},
  {addr:'9711 Village Center Dr Granite Bay CA',lat:38.72317,lng:-121.20948},
  {addr:'11310 Prospect Dr Jackson CA',lat:38.37129,lng:-120.80006},
  {addr:'2629 N Carson St Carson City NV',lat:39.18418,lng:-119.76738},
  {addr:'665 E 400 S Springville UT',lat:40.16107,lng:-111.62255},
  {addr:'11117 N Alpine Hwy Highland UT',lat:40.43294,lng:-111.78551},
  {addr:'2441 Foothill Blvd Rock Springs WY',lat:41.58122,lng:-109.26415},
  {addr:'Post Falls ID US',lat:47.71101,lng:-116.94809},
  {addr:'2724 Montana Ave Billings MT',lat:45.78125,lng:-108.50454},
  {addr:'117 E Main St Sidney MT',lat:47.71508,lng:-104.15684},
  {addr:'233 Harvard Dr Edwardsville IL',lat:38.792,lng:-89.95311},
  {addr:'222 S Red Bank Rd Evansville IN',lat:37.97473,lng:-87.63638},
  {addr:'1813 Willow St Vincennes IN',lat:38.66357,lng:-87.53309},
  {addr:'1637 Scioto St Urbana OH',lat:40.10346,lng:-83.72009},
  {addr:'6505-6515 Perimeter Dr Dublin OH',lat:40.10729,lng:-83.17333},
  {addr:'4 Troy Rd Delaware OH',lat:40.30661,lng:-83.09024},
  {addr:'51 Western Ave Fairfield ME',lat:44.59172,lng:-69.60491},
  {addr:'185 Branham Ln San Jose CA',lat:37.26697,lng:-121.83404},
  {addr:'1067 N Main St Vidor TX',lat:30.12911,lng:-94.01474},
  {addr:'4740 Nelson Rd Lake Charles LA',lat:30.1712,lng:-93.25058},
  {addr:'1401 The Blvd Rayne LA',lat:30.25016,lng:-92.26985},
  {addr:'4900 Canal St New Orleans LA',lat:29.97988,lng:-90.109},
  {addr:'2141 Caton St New Orleans LA',lat:29.99903,lng:-90.06072},
  {addr:'425 S Elm St Toppenish WA',lat:46.37399,lng:-120.32106},
  {addr:'201 S 1st St Selah WA',lat:46.65169,lng:-120.52993},
  {addr:'111 17th St Lynden WA',lat:48.94006,lng:-122.46927},
  {addr:'70 Taylor Rd Huntsville AL',lat:34.64294,lng:-86.48425},
  {addr:'1334 15th St SE Demotte IN',lat:41.18797,lng:-87.18119},
  {addr:'49 E Carleton Rd Hillsdale MI',lat:41.92321,lng:-84.63131},
  {addr:'301 6th Ave W Monroe WI',lat:42.60807,lng:-89.66687},
  {addr:'1663 N Alpine Rd Rockford IL',lat:42.28608,lng:-89.02921},
  {addr:'305 Southtowne Dr Belvidere IL',lat:42.24228,lng:-88.84244},
  {addr:'1601 Kermit St Plainview TX',lat:34.20757,lng:-101.75059},
  {addr:'3600 S Osage St Amarillo TX',lat:35.16396,lng:-101.81311},
  {addr:'742 Highway 198 Payson UT',lat:40.04453,lng:-111.72884},
  {addr:'225 E Main St Grantsville UT',lat:40.60029,lng:-112.4567},
  {addr:'4055 Tyrone Blvd N Saint Petersburg FL',lat:27.78401,lng:-82.71827},
  {addr:'5395 E Bay Dr Clearwater FL',lat:28.01259,lng:-82.74621},
  {addr:'30210',lat:28.01454,lng:-82.73664},
  {addr:'679 Alderman Rd Palm Harbor FL',lat:28.09349,lng:-82.76777},
  {addr:'4942 Ridgemoor Blvd Palm Harbor FL',lat:28.09961,lng:-82.69159},
  {addr:'11252 Boyette Rd Riverview FL',lat:27.85359,lng:-82.31324},
  {addr:'8465 Holcomb Bridge Rd Johns Creek GA',lat:33.98688,lng:-84.26867},
  {addr:'3153 Sugarloaf Pkwy Lawrenceville GA',lat:33.92138,lng:-84.00858},
  {addr:'1067 Pray Blvd Waterville OH',lat:41.51357,lng:-83.74729},
  {addr:'7590 Oak Point Rd Amherst OH',lat:41.41361,lng:-82.23943},
  {addr:'3714 Center Rd Brunswick OH',lat:41.2366,lng:-81.81985},
  {addr:'7484 Broadview Rd Parma OH',lat:41.36206,lng:-81.6847},
  {addr:'5635 E Charleston Blvd Las Vegas NV',lat:36.15889,lng:-115.05074},
  {addr:'6520 E Lake Mead Blvd Las Vegas NV',lat:36.19577,lng:-115.02893},
  {addr:'250 Red Cliffs Dr St George UT',lat:37.11034,lng:-113.55356},
  {addr:'3325 Placer St Redding CA',lat:40.57544,lng:-122.41473},
  {addr:'29526 S Frost Rd Livingston LA',lat:30.49225,lng:-90.74835},
  {addr:'4974 Stonewall Frierson Rd Stonewall LA',lat:32.28227,lng:-93.81744},
  {addr:'1101 Stone St Kilgore TX',lat:32.3926,lng:-94.8674},
  {addr:'1011 Wal St Longview TX',lat:32.54626,lng:-94.72928},
  {addr:'2208 Memorial Dr Alexandria LA',lat:31.27997,lng:-92.45257},
  {addr:'914 Pershing Hwy Jonesboro LA',lat:32.26019,lng:-92.72334},
  {addr:'7550 Mission Hills Dr Naples FL',lat:26.2461,lng:-81.69047},
  {addr:'1276 S Tamiami Trl Osprey FL',lat:27.17819,lng:-82.48163},
  {addr:'1058 N Tamiami Trl Sarasota FL',lat:27.21742,lng:-82.49021},
  {addr:'1309 E Oak St Arcadia FL',lat:27.2195,lng:-81.87213},
  {addr:'2310 Lebanon Pike Nashville TN',lat:36.16885,lng:-86.685},
  {addr:'4009 N Oakland Ave Shorewood WI',lat:43.08951,lng:-87.88765},
  {addr:'922 E Main St Winneconne WI',lat:44.1129,lng:-88.69435},
  {addr:'409 Forest St Wausau WI',lat:44.95663,lng:-89.62645},
  {addr:'1506 20th St Two Rivers WI',lat:44.15178,lng:-87.56859},
  {addr:'1401 Dreshertown Rd Dresher PA',lat:40.14303,lng:-75.16756},
  {addr:'680 Quintana Rd Morro Bay CA',lat:35.36857,lng:-120.84454},
  {addr:'4872 Thompson Pkwy Johnstown CO',lat:40.40558,lng:-104.98083},
  {addr:'1750 Broad St Milliken CO',lat:40.33027,lng:-104.86367},
  {addr:'6414 NW Cache Rd Lawton OK',lat:34.62335,lng:-98.47156},
  {addr:'272 65th St NE Rugby ND',lat:48.35482,lng:-99.98795},
  {addr:'310 Highway 2 E Devils Lake ND',lat:48.10089,lng:-98.8474},
  {addr:'1432 Lake St S Forest Lake MN',lat:45.27953,lng:-92.98498},
  {addr:'113 S Main St Cambridge MN',lat:45.57238,lng:-93.22452},
  {addr:'459 Keene Centre Dr Nicholasville KY',lat:37.89646,lng:-84.58603},
  {addr:'269 N Main St Monroe OH',lat:39.44794,lng:-84.35704},
  {addr:'920 Hamilton St Somerset NJ',lat:40.48722,lng:-74.48319},
  {addr:'11001 E Arapahoe Pl Centennial CO',lat:39.59447,lng:-104.86008},
  {addr:'5458 S Parker Rd Aurora CO',lat:39.61627,lng:-104.81664},
  {addr:'30480 SW Boones Ferry Rd Wilsonville OR',lat:45.30012,lng:-122.773},
  {addr:'16555 SW 12th St Sherwood OR',lat:45.36478,lng:-122.84732},
  {addr:'1500 Military St S Hamilton AL',lat:34.12299,lng:-87.99149},
  {addr:'1601 Darby Dr Florence AL',lat:34.82037,lng:-87.65719},
  {addr:'1874 Slaughter Rd Madison AL',lat:34.75282,lng:-86.71448},
  {addr:'1139 W Main St Whitewater WI',lat:42.83446,lng:-88.75099},
  {addr:'737 University Row Madison WI',lat:43.07589,lng:-89.46968},
  {addr:'3130 Village Square Dr Hartland WI',lat:43.10199,lng:-88.36583},
  {addr:'2205 N Calhoun Rd Brookfield WI',lat:43.05949,lng:-88.12593},
  {addr:'1050 E Philadelphia Ave Gilbertsville PA',lat:40.32504,lng:-75.62003},
  {addr:'3800 N Mesa St El Paso TX',lat:31.78741,lng:-106.50652},
  {addr:'115 N Roadrunner Pkwy Las Cruces NM',lat:32.32715,lng:-106.73807},
  {addr:'1300 S Main St Roswell NM',lat:33.37922,lng:-104.52414},
  {addr:'2799 US-49 Florence MS',lat:32.15844,lng:-90.12742},
  {addr:'628 S Pearson Rd Pearl MS',lat:32.26166,lng:-90.13283},
  {addr:'2309 Oliver Rd Monroe LA',lat:32.53723,lng:-92.10586},
  {addr:'6715 E 2nd St Prescott Valley AZ',lat:34.57944,lng:-112.34864},
  {addr:'4917 E Main St Farmington NM',lat:36.76702,lng:-108.14855},
  {addr:'4212 Coal Ave SE Albuquerque NM',lat:35.07533,lng:-106.59781},
  {addr:'44 Traders Way Pooler GA',lat:32.13727,lng:-81.25583},
  {addr:'113 Willbrook Blvd Pawleys Island SC',lat:33.48361,lng:-79.0985},
  {addr:'124 E Northfield Dr Brownsburg IN',lat:39.85801,lng:-86.38954},
  {addr:'5510 Lafayette Rd Indianapolis IN',lat:39.85164,lng:-86.26323},
  {addr:'13860 E 96th St Fishers IN',lat:39.92792,lng:-85.91664},
  {addr:'1921 Melody Ln Greenfield IN',lat:39.80812,lng:-85.76792},
  {addr:'3430 Sweet Air Rd Phoenix MD',lat:39.51694,lng:-76.55725},
  {addr:'1 Newport Dr Forest Hill MD',lat:39.57766,lng:-76.38567},
  {addr:'21441 Brookhurst St Huntington Beach CA',lat:33.65118,lng:-117.95342},
  {addr:'Katy TX US',lat:29.78579,lng:-95.8244},
  {addr:'20873 Eva St Montgomery TX',lat:30.38709,lng:-95.69404},
  {addr:'4471 Sunset Dr San Angelo TX',lat:31.43612,lng:-100.50223},
  {addr:'213 Mill Creek Dr Salado TX',lat:30.95599,lng:-97.53215},
  {addr:'501 7th Ave Marion IA',lat:42.03303,lng:-91.60471},
  {addr:'504 Grand Ave Spencer IA',lat:43.14254,lng:-95.14466},
  {addr:'1521 2nd Ave N Fort Dodge IA',lat:42.50824,lng:-94.17735},
  {addr:'525 S Grade Rd SW Hutchinson MN',lat:44.87838,lng:-94.37696},
  {addr:'724 Vista Blvd Waconia MN',lat:44.84782,lng:-93.77261},
  {addr:'20700 Chippendale Ave W Farmington MN',lat:44.64814,lng:-93.13579},
  {addr:'111 Washington Ave N Minneapolis MN',lat:44.98309,lng:-93.27083},
  {addr:'10475 County Line Rd Spring Hill FL',lat:28.43388,lng:-82.54313},
  {addr:'345 E Highland Blvd Inverness FL',lat:28.83214,lng:-82.3271},
  {addr:'510 Highway 466 Lady Lake FL',lat:28.91577,lng:-81.93221},
  {addr:'10 W State St Geneva IL',lat:41.88722,lng:-88.30317},
  {addr:'849 Elmhurst Rd Des Plaines IL',lat:42.03587,lng:-87.93908},
  {addr:'1560 Hopkins Rd Williamsville NY',lat:42.97948,lng:-78.73951},
  {addr:'1925 Washington Ave Houston TX',lat:29.76766,lng:-95.37815},
  {addr:'2005 N Arkansas Ave Russellville AR',lat:35.30096,lng:-93.1383},
  {addr:'120 John Harden Dr Jacksonville AR',lat:34.86905,lng:-92.12794},
  {addr:'8125 Decker Ln Montgomery AL',lat:32.37785,lng:-86.15612},
  {addr:'5408 Summerville Rd Phenix City AL',lat:32.52137,lng:-85.02824},
  {addr:'1617 Glidewell Dr Burlington NC',lat:36.06772,lng:-79.51525},
  {addr:'469 Eastern Byp Richmond KY',lat:37.73406,lng:-84.29852},
  {addr:'1051 Claypool Hill Mall Rd Cedar Bluff VA',lat:37.0669,lng:-81.75896},
  {addr:'5300 Kempsriver Dr Virginia Beach VA',lat:36.80326,lng:-76.17433},
  {addr:'50 Main St Old Saybrook CT',lat:41.29611,lng:-72.37642},
  {addr:'238 Tolland Tpke Manchester CT',lat:41.80964,lng:-72.51504},
  {addr:'95 South Rd Somers CT',lat:41.97915,lng:-72.44522},
  {addr:'898 W 11th St Elgin TX',lat:30.34761,lng:-97.38289},
  {addr:'2650 Gattis School Rd Round Rock TX',lat:30.49675,lng:-97.64668},
  {addr:'106 W Lake Dr Taylor TX',lat:30.58329,lng:-97.41135},
  {addr:'6872 Highway 6 S Houston TX',lat:29.72353,lng:-95.64414},
  {addr:'12918 E 86th St N Owasso OK',lat:36.2765,lng:-95.82886},
  {addr:'2127 N Summit St Arkansas City KS',lat:37.08621,lng:-97.04113},
  {addr:'5583 Bobby Hicks Hwy Johnson City TN',lat:36.42371,lng:-82.46364},
  {addr:'6442 S Raccoon Rd Canfield OH',lat:41.02558,lng:-80.73704},
  {addr:'695 Anderson Ave Cliffside Park NJ',lat:40.82825,lng:-73.98721},
  {addr:'300 Pacific Coast Hwy Hermosa Beach CA',lat:33.85715,lng:-118.39064},
  {addr:'2602 S Gregg St Big Spring TX',lat:32.2276,lng:-101.47089},
  {addr:'2100 FM-802 Brownsville TX',lat:25.95097,lng:-97.48566},
  {addr:'1211 W Grand Ave Chickasha OK',lat:35.02948,lng:-97.94833},
  {addr:'811 SW 19th St Moore OK',lat:35.31973,lng:-97.50516},
  {addr:'2127 SW 74th St Oklahoma City OK',lat:35.39095,lng:-97.54847},
  {addr:'710 Cypress Gardens Blvd Winter Haven FL',lat:28.00293,lng:-81.71735},
  {addr:'2153 E Main St Duncan SC',lat:34.93568,lng:-82.13435},
  {addr:'1004 Tabor Rd Morris Plains NJ',lat:40.84936,lng:-74.47333},
  {addr:'1280 E Vista Way Vista CA',lat:33.22506,lng:-117.22618},
  {addr:'1234 E Mission Rd San Marcos CA',lat:33.13728,lng:-117.13154},
  {addr:'81801 Indio Blvd Indio CA',lat:33.73395,lng:-116.24267},
  {addr:'fitness_trainer',lat:24.92242,lng:67.07274},
  {addr:'180 Mary Ave Nipomo CA',lat:35.03375,lng:-120.48568},
  {addr:'4800 Joe Ramsey Blvd E Greenville TX',lat:33.12617,lng:-96.12911},
  {addr:'1909 N State Highway 121 Bonham TX',lat:33.58502,lng:-96.1925},
  {addr:'2875 James Blvd Poplar Bluff MO',lat:36.78882,lng:-90.4328},
  {addr:'7 Dillon Plaza Dr High Ridge MO',lat:38.47827,lng:-90.52092},
  {addr:'1240 Bryan Rd O Fallon MO',lat:38.78689,lng:-90.7362},
  {addr:'969 Hall St Wiggins MS',lat:30.84569,lng:-89.14164},
  {addr:'4805 Highway 90 Pace FL',lat:30.6038,lng:-87.13945},
  {addr:'856 N Tyndall Pkwy Callaway FL',lat:30.16379,lng:-85.5903},
  {addr:'1207 Kildaire Farm Rd Cary NC',lat:35.76384,lng:-78.7818},
  {addr:'3603 S Baldwin Rd Lake Orion MI',lat:42.72758,lng:-83.30694},
  {addr:'10293 S Saginaw Rd Grand Blanc MI',lat:42.88222,lng:-83.59786},
  {addr:'16336 26 Mile Rd Macomb MI',lat:42.71604,lng:-82.9635},
  {addr:'2819 Midway Rd SE Bolivia NC',lat:33.97565,lng:-78.13178},
  {addr:'1594 N Sanborn Rd Salinas CA',lat:36.69393,lng:-121.59537},
  {addr:'380 N US-175 Seagoville TX',lat:32.64424,lng:-96.51823},
  {addr:'2741 E Belt Line Rd Carrollton TX',lat:32.95412,lng:-96.85681},
  {addr:'904 Audelia Rd Richardson TX',lat:32.93721,lng:-96.71939},
  {addr:'203 Laurence Dr Heath TX',lat:32.83668,lng:-96.47519},
  {addr:'913 W Foxwood Dr Raymore MO',lat:38.81219,lng:-94.47827},
  {addr:'3504 SW Market St Lee\'s Summit MO',lat:38.85784,lng:-94.37605},
  {addr:'620 130th St Bonner Springs KS',lat:39.11579,lng:-94.88173},
  {addr:'Kansas City MO US',lat:39.1001,lng:-94.57814},
  {addr:'802 SE Becker Rd Port St Lucie FL',lat:27.21101,lng:-80.32713},
  {addr:'614 Blue Meadow Rd Bay St Louis MS',lat:30.31839,lng:-89.34844},
  {addr:'1121 Broad St Sumter SC',lat:33.95395,lng:-80.37424},
  {addr:'1121 Broad St Sumter SC',lat:33.95395,lng:-80.37424},
  {addr:'837 E Roosevelt Blvd Monroe NC',lat:34.97377,lng:-80.51811},
  {addr:'5409 Potter Rd Stallings NC',lat:35.0716,lng:-80.69921},
  {addr:'15040 Idlewild Rd Stallings NC',lat:35.12351,lng:-80.65422},
  {addr:'951 Strickland Bridge Rd Fayetteville NC',lat:35.03935,lng:-78.99739},
  {addr:'9500 Chilson Commons Cir Hamburg Twp MI',lat:42.46336,lng:-83.83331},
  {addr:'761 S Wayne Rd Westland MI',lat:42.30531,lng:-83.3884},
  {addr:'57066 10 Mile Rd South Lyon MI',lat:42.46111,lng:-83.64189},
  {addr:'10293 S Saginaw Rd Grand Blanc MI',lat:42.88222,lng:-83.59786},
  {addr:'5728 Clarkston Rd Clarkston MI',lat:42.7399,lng:-83.41442},
  {addr:'1320 E Houston St Beeville TX',lat:28.3944,lng:-97.76279},
  {addr:'106 W Huntington St Beeville TX',lat:28.4135,lng:-97.7546},
  {addr:'534 10th St Floresville TX',lat:29.1556,lng:-98.16652},
  {addr:'300 Tiney Browning Blvd Port Lavaca TX',lat:28.63248,lng:-96.62864},
  {addr:'2407 N Richmond Rd Wharton TX',lat:29.33303,lng:-96.09428},
  {addr:'18670 TX-46 Bulverde TX',lat:29.79787,lng:-98.40383},
  {addr:'481 4th St David City NE',lat:41.25366,lng:-97.13029},
  {addr:'690 W 16th St Schuyler NE',lat:41.45269,lng:-97.06688},
  {addr:'614 Main St Pender NE',lat:42.11397,lng:-96.71027},
  {addr:'740 E Sioux Ave Pierre SD',lat:44.36232,lng:-100.34484},
  {addr:'519 1/2 N Main St Redfield SD',lat:44.87888,lng:-98.5185},
  {addr:'2509 Fox Run Pkwy Yankton SD',lat:42.89822,lng:-97.39889},
  {addr:'838 E Cherry St Vermillion SD',lat:42.78708,lng:-96.91802},
  {addr:'9679 W Colonial Dr Ocoee FL',lat:28.55179,lng:-81.5311},
  {addr:'pharmacy',lat:43.72596,lng:-79.29605},
  {addr:'Rockledge FL US',lat:28.33083,lng:-80.73492},
  {addr:'1382 Howland Blvd Deltona FL',lat:28.90417,lng:-81.17165},
  {addr:'1035 Shooting Park Rd Peru IL',lat:41.3386,lng:-89.11904},
  {addr:'2019 Ridge Rd Minooka IL',lat:41.47682,lng:-88.27206},
  {addr:'800 W Laraway Rd New Lenox IL',lat:41.48278,lng:-87.98035},
  {addr:'10845 Maple Ln St John IN',lat:41.42225,lng:-87.44731},
  {addr:'10645 Broadway Crown Point IN',lat:41.42482,lng:-87.33534},
  {addr:'68 E Schoolhouse Rd Yorkville IL',lat:41.63391,lng:-88.44807},
  {addr:'1923 W Galena Blvd Aurora IL',lat:41.76565,lng:-88.36242},
  {addr:'420 Summit Dr Lockport IL',lat:41.59208,lng:-88.04026},
  {addr:'2641 Green River Rd Corona CA',lat:33.87122,lng:-117.62124},
  {addr:'4270 Riverwalk Pkwy Riverside CA',lat:33.90509,lng:-117.49484},
  {addr:'181 Avondale Haslet Rd Haslet TX',lat:32.96955,lng:-97.35383},
  {addr:'1212 N US-377 Roanoke TX',lat:32.99181,lng:-97.23434},
  {addr:'8300 Precinct Line Rd Colleyville TX',lat:32.9045,lng:-97.18573},
  {addr:'1407 N Marion Rd Sioux Falls SD',lat:43.56281,lng:-96.79115},
  {addr:'1620 S Burr St Mitchell SD',lat:43.69513,lng:-98.01445},
  {addr:'4490 E University Ave Pleasant Hill IA',lat:41.60132,lng:-93.52559},
  {addr:'407 W Bridge Rd Polk City IA',lat:41.76487,lng:-93.71774},
  {addr:'414 S 17th St Ames IA',lat:42.0066,lng:-93.61463},
  {addr:'2002 N Baltimore St Kirksville MO',lat:40.21221,lng:-92.58085},
  {addr:'458 IA-1 W Iowa City IA',lat:41.6293,lng:-91.57524},
  {addr:'3219 Apalachee Pkwy Tallahassee FL',lat:30.42713,lng:-84.22121},
  {addr:'537 Commerce Dr Bluefield VA',lat:37.24043,lng:-81.2523},
  {addr:'1500 Grand Central Ave Vienna WV',lat:39.3268,lng:-81.54868},
  {addr:'10350 Bristow Center Dr Bristow VA',lat:38.73328,lng:-77.55161},
  {addr:'721A W Potomac St Brunswick MD',lat:39.3147,lng:-77.63591},
  {addr:'309 Pond St Ashland MA',lat:42.24101,lng:-71.43159},
  {addr:'111 Lenox St Norwood MA',lat:42.19239,lng:-71.19787},
  {addr:'2885 Santa Rosa Ave Santa Rosa CA',lat:38.40709,lng:-122.71544},
  {addr:'1007 E Bidwell St Folsom CA',lat:38.67075,lng:-121.17776},
  {addr:'1205 Southview Blvd South St Paul MN',lat:44.88887,lng:-93.04897},
  {addr:'1700 Suburban Ave St Paul MN',lat:44.95097,lng:-93.02735},
  {addr:'99 20th St NE Stewartville MN',lat:43.87063,lng:-92.48671},
  {addr:'1629 Broadway Ave N Rochester MN',lat:44.04,lng:-92.46168},
  {addr:'1701 Ward Ave Hudson WI',lat:44.9646,lng:-92.73471},
  {addr:'114 Spring St River Falls WI',lat:44.85514,lng:-92.62699},
  {addr:'1660 Commerce Ct River Falls WI',lat:44.87664,lng:-92.62508},
  {addr:'1700 Stout St Menomonie WI',lat:44.89787,lng:-91.93167},
  {addr:'81 S Valdosta Rd Lakeland GA',lat:31.03507,lng:-83.07294},
  {addr:'618 S Harris St Sandersville GA',lat:32.9807,lng:-82.81111},
  {addr:'1647 W Chicago Ave Chicago IL',lat:41.89577,lng:-87.66916},
  {addr:'160 River Rd Lisbon CT',lat:41.58624,lng:-71.98905},
  {addr:'577 Greenwich Ave Warwick RI',lat:41.71933,lng:-71.46461},
  {addr:'690 Depot St North Easton MA',lat:42.02316,lng:-71.11732},
  {addr:'100 N Main St Carver MA',lat:41.91457,lng:-70.80273},
  {addr:'138 Industrial Park Rd Plymouth MA',lat:41.95665,lng:-70.70504},
  {addr:'13769 Mono Way Sonora CA',lat:37.9743,lng:-120.3702},
  {addr:'3599 N Los Coyotes Diagonal Long Beach CA',lat:33.82193,lng:-118.1067},
  {addr:'652 W Price River Dr Price UT',lat:39.59943,lng:-110.82129},
  {addr:'1265 Parkway Dr Blackfoot ID',lat:43.19628,lng:-112.35901},
  {addr:'2141 W Broadway St Idaho Falls ID',lat:43.49627,lng:-112.07391},
  {addr:'39 W Bates Rd Driggs ID',lat:43.72302,lng:-111.11814},
  {addr:'520 W Main St Laurel MT',lat:45.66773,lng:-108.77837},
  {addr:'605 24th St W Billings MT',lat:45.7765,lng:-108.57503},
  {addr:'305 20th Ave SW Minot ND',lat:48.21058,lng:-101.29738},
  {addr:'1100 N Broadway Minot ND',lat:48.25801,lng:-101.29591},
  {addr:'2945 N 11th St Bismarck ND',lat:46.8385,lng:-100.77536},
  {addr:'555 W Lincoln Trail Blvd Radcliff KY',lat:37.83735,lng:-85.94737},
  {addr:'154 Mcmahan Blvd Marion OH',lat:40.58191,lng:-83.08148},
  {addr:'180 Waterman Dr South Portland ME',lat:43.63682,lng:-70.25447},
  {addr:'130 N Pansy St Ishpeming MI',lat:46.48791,lng:-87.71653},
  {addr:'1700 Chemin Metairie Pkwy Youngsville LA',lat:30.0845,lng:-91.98925},
  {addr:'1625 Barataria Blvd Marrero LA',lat:29.88221,lng:-90.09834},
  {addr:'58010 Main St Plaquemine LA',lat:30.29078,lng:-91.2374},
  {addr:'515 Grant Rd East Wenatchee WA',lat:47.40688,lng:-120.2809},
  {addr:'102 Thain Rd Lewiston ID',lat:46.39078,lng:-116.99074},
  {addr:'3595 Canton Rd Marietta GA',lat:34.03878,lng:-84.52897},
  {addr:'790 Euharlee Rd SW Cartersville GA',lat:34.14688,lng:-84.83279},
  {addr:'322 N Bittersweet Rd Mishawaka IN',lat:41.66379,lng:-86.1093},
  {addr:'8475 US-33 Churubusco IN',lat:41.2403,lng:-85.32992},
  {addr:'1505 B W Dupont Rd Fort Wayne IN',lat:41.17755,lng:-85.1827},
  {addr:'1624 Nuttman Ave Decatur IN',lat:40.83249,lng:-84.94213},
  {addr:'1120 S Main St Bryan OH',lat:41.46516,lng:-84.55092},
  {addr:'355 S Willowbrook Rd Coldwater MI',lat:41.93361,lng:-84.97107},
  {addr:'2315 W Court St Janesville WI',lat:42.67916,lng:-89.04861},
  {addr:'3701 Vestal Pkwy E Vestal NY',lat:42.09775,lng:-75.98423},
  {addr:'1812 Marsh Rd Wilmington DE',lat:39.80381,lng:-75.50423},
  {addr:'3537 W Chester Pike Newtown Square PA',lat:39.98596,lng:-75.39547},
  {addr:'4371 Phelan Rd Phelan CA',lat:34.4263,lng:-117.56662},
  {addr:'5809 Juan Tabo Blvd NE Albuquerque NM',lat:35.14711,lng:-106.52525},
  {addr:'4405 Jager Dr NE Rio Rancho NM',lat:35.32662,lng:-106.57558},
  {addr:'1650 7th St Las Vegas NM',lat:35.60884,lng:-105.22342},
  {addr:'2340 Legacy Cir Elizabeth CO',lat:39.36027,lng:-104.61939},
  {addr:'7620 66th St N Pinellas Park FL',lat:27.8402,lng:-82.72863},
  {addr:'145 E Van Fleet Dr Bartow FL',lat:27.90392,lng:-81.84301},
  {addr:'1318 State Road 60 Lake Wales FL',lat:27.89661,lng:-81.59385},
  {addr:'1322 S Providence Center Dr Cedar City UT',lat:37.65238,lng:-113.08533},
  {addr:'3564 Lone Pine Rd Medford OR',lat:42.34457,lng:-122.82399},
  {addr:'44200 LA-445 Robert LA',lat:30.50147,lng:-90.34389},
  {addr:'623 W Panola St Carthage TX',lat:32.15703,lng:-94.34824},
  {addr:'202 W',lat:32.52489,lng:-94.87559},
  {addr:'100 Kate St Longview TX',lat:32.53447,lng:-94.7894},
  {addr:'1185 S Broadway St Sulphur Springs TX',lat:33.11982,lng:-95.59632},
  {addr:'668 S Jefferson Ave Mt Pleasant TX',lat:33.13485,lng:-94.96817},
  {addr:'108 Loop 59 Atlanta TX',lat:33.11437,lng:-94.18161},
  {addr:'13040 Livingston Rd Naples FL',lat:26.1608,lng:-81.7508},
  {addr:'712 N Ellington Pkwy Lewisburg TN',lat:35.46107,lng:-86.78225},
  {addr:'2395 New Salem Hwy Murfreesboro TN',lat:35.81315,lng:-86.4442},
  {addr:'7048 City Center Way Fairview TN',lat:35.97454,lng:-87.13034},
  {addr:'1360 W Mequon Rd Mequon WI',lat:43.22111,lng:-87.92523},
  {addr:'155 N Sweetwater Blvd Port Washington WI',lat:43.38882,lng:-87.90746},
  {addr:'2170 N Farwell Ave Milwaukee WI',lat:43.05888,lng:-87.88652},
  {addr:'1111 N Shawano St New London WI',lat:44.40843,lng:-88.74159},
  {addr:'325 Waneka Pkwy Lafayette CO',lat:39.98822,lng:-105.09495},
  {addr:'5338 NW Cache Rd Lawton OK',lat:34.62336,lng:-98.46236},
  {addr:'2013 Jaycee Ln Clinton OK',lat:35.50479,lng:-98.97952},
  {addr:'6450 Wedgwood Rd N Maple Grove MN',lat:45.073,lng:-93.44871},
  {addr:'200 Gilbert Ave Park Rapids MN',lat:46.92096,lng:-95.0551},
  {addr:'1918 Newton St Jasper IN',lat:38.40581,lng:-86.93708},
  {addr:'840 E Tipton St Seymour IN',lat:38.95804,lng:-85.87741},
  {addr:'796 White St Scottsburg IN',lat:38.69518,lng:-85.78096},
  {addr:'1027 N Main St Centerville OH',lat:39.62669,lng:-84.15908},
  {addr:'65 Division Ave Eugene OR',lat:44.10054,lng:-123.12744},
  {addr:'2197 Olympic St Springfield OR',lat:44.05922,lng:-122.99299},
  {addr:'80 E Ustick Rd Meridian ID',lat:43.63406,lng:-116.39311},
  {addr:'2247 Country Club Rd Woodburn OR',lat:45.15286,lng:-122.87404},
  {addr:'118 Brown St Silverton OR',lat:45.00532,lng:-122.79259},
  {addr:'1171 McVey Ave Lake Oswego OR',lat:45.40671,lng:-122.67645},
  {addr:'8502 SW Terwilliger Blvd Portland OR',lat:45.46321,lng:-122.68472},
  {addr:'515 Harrison Ave Centralia WA',lat:46.72207,lng:-122.97045},
  {addr:'821 Brown School Rd Evansville WI',lat:42.7789,lng:-89.26841},
  {addr:'1420 E Geneva St Delavan WI',lat:42.62765,lng:-88.62698},
  {addr:'2352 Montana Ave Sun Prairie WI',lat:43.17427,lng:-89.24914},
  {addr:'7115 Durand Ave Sturtevant WI',lat:42.69831,lng:-87.91804},
  {addr:'7759 Racine Ave',lat:42.90381,lng:-88.15325},
  {addr:'15437 W National Ave New Berlin WI',lat:42.97532,lng:-88.1058},
  {addr:'12505 W Bluemound Rd Brookfield WI',lat:43.03611,lng:-88.07075},
  {addr:'200 N Route 73 Berlin NJ',lat:39.80495,lng:-74.93165},
  {addr:'100b W Main St Trappe PA',lat:40.19739,lng:-75.47281},
  {addr:'18413 N Cave Creek Rd Phoenix AZ',lat:33.65333,lng:-112.03076},
  {addr:'101 Village Ct El Paso TX',lat:31.839,lng:-106.5732},
  {addr:'2155 MS-18 Brandon MS',lat:32.25674,lng:-89.99789},
  {addr:'1006 Sterlington Hwy Farmerville LA',lat:32.77053,lng:-92.3951},
  {addr:'1130 Oliver Rd Monroe LA',lat:32.52407,lng:-92.10452},
  {addr:'2620 Williamson Pl Dupont WA',lat:47.10733,lng:-122.62377},
  {addr:'14312 Meridian E Puyallup WA',lat:47.14728,lng:-122.29297},
  {addr:'205 Grandview Dr Summerville SC',lat:33.02635,lng:-80.16451},
  {addr:'10592 Dunbarton Blvd Barnwell SC',lat:33.24292,lng:-81.37899},
  {addr:'3471 Belle Terre Blvd Myrtle Beach SC',lat:33.73242,lng:-78.94899},
  {addr:'997 E County Line Rd Greenwood IN',lat:39.63573,lng:-86.11276},
  {addr:'3230 Daugherty Dr Lafayette IN',lat:40.36949,lng:-86.8576},
  {addr:'280 S Locust St Oxford OH',lat:39.50692,lng:-84.74949},
  {addr:'479 W Penn Ave Cleona PA',lat:40.33605,lng:-76.48329},
  {addr:'1000 E Broadway St Sweetwater TX',lat:32.47432,lng:-100.39785},
  {addr:'701 Williams Rd Salado TX Salado TX',lat:30.95773,lng:-97.54053},
  {addr:'200 W Ennis Ave Ennis TX',lat:32.34269,lng:-96.6071},
  {addr:'2508 Central Ave Estherville IA',lat:43.39835,lng:-94.81027},
  {addr:'687 S Taft Ave Mason City IA',lat:43.1456,lng:-93.2401},
  {addr:'1400 Madison Ave Mankato MN',lat:44.16912,lng:-93.97188},
  {addr:'1985 Silver Bell Rd Eagan MN',lat:44.81922,lng:-93.20559},
  {addr:'1408 N Dale Mabry Hwy Lutz FL',lat:28.15307,lng:-82.48965},
  {addr:'338 E North Ave Lombard IL',lat:41.9044,lng:-88.02801},
  {addr:'1245 W Dundee Rd Arlington Heights IL',lat:42.13912,lng:-87.99053},
  {addr:'7475 W Twin Peaks Rd Tucson AZ',lat:32.3742,lng:-111.12511},
  {addr:'1420 E Chandler Blvd Phoenix AZ',lat:33.30529,lng:-112.05296},
  {addr:'N 67TH Ave Phoenix AZ',lat:33.72407,lng:-112.20302},
  {addr:'8703 Broadway St Pearland TX',lat:29.55949,lng:-95.35467},
  {addr:'417 S Main St Searcy AR',lat:35.24587,lng:-91.73651},
  {addr:'3050 Harrison St Batesville AR',lat:35.76444,lng:-91.61604},
  {addr:'935 Alabama St Columbus MS',lat:33.49335,lng:-88.36615},
  {addr:'628B Glover Ave Enterprise AL',lat:31.32047,lng:-85.84134},
  {addr:'322 Main St Trussville AL',lat:33.61867,lng:-86.6129},
  {addr:'7600 Schomburg Rd Columbus GA',lat:32.55756,lng:-84.90463},
  {addr:'Raleigh NC US',lat:35.7804,lng:-78.6391},
  {addr:'121 Sherron Rd Durham NC',lat:35.97431,lng:-78.7937},
  {addr:'7101 Forest Hill Ave Richmond VA',lat:37.53444,lng:-77.52581},
  {addr:'5251 John Tyler Hwy Williamsburg VA',lat:37.25705,lng:-76.73856},
  {addr:'7386 Harbour Towne Pkwy Suffolk VA',lat:36.87536,lng:-76.4371},
  {addr:'3310 Berlin Tpke Newington CT',lat:41.65742,lng:-72.72385},
  {addr:'563 Farrington Hwy Kapolei HI',lat:21.33431,lng:-158.08743},
  {addr:'26 Hoolai St Kailua HI',lat:21.39473,lng:-157.74434},
  {addr:'840 Wainee St Lahaina HI',lat:20.877,lng:-156.67836},
  {addr:'701 Island Ave San Diego CA',lat:32.71019,lng:-117.158},
  {addr:'1917 Dutton Dr San Marcos TX',lat:29.86416,lng:-97.95957},
  {addr:'7300 RM-2222 Austin TX',lat:30.36992,lng:-97.80219},
  {addr:'1700 Grand Avenue Pkwy Pflugerville TX',lat:30.46631,lng:-97.64432},
  {addr:'5290 N A W Grimes Blvd Round Rock TX',lat:30.53391,lng:-97.65214},
  {addr:'1741 S Muskogee Ave Tahlequah OK',lat:35.89338,lng:-94.97705},
  {addr:'1283-1285 N University Dr Coral Springs FL',lat:26.23322,lng:-80.25318},
  {addr:'1115 N Charles G Seivers Blvd Clinton TN',lat:36.11773,lng:-84.11552},
  {addr:'2150 E State St Hermitage PA',lat:41.23327,lng:-80.47005},
  {addr:'25 Williamson Rd Greenville PA',lat:41.41013,lng:-80.35691},
  {addr:'2921 W 26th St Erie PA',lat:42.08734,lng:-80.1386},
  {addr:'4000 E Anaheim St Long Beach CA',lat:33.78247,lng:-118.14575},
  {addr:'1501 8th St Odessa TX',lat:31.85953,lng:-102.35309},
  {addr:'3515 FM-120 Denison TX',lat:33.76083,lng:-96.59014},
  {addr:'1726 S Division St Guthrie OK',lat:35.86146,lng:-97.4253},
  {addr:'1601 N Kickapoo Ave Shawnee OK',lat:35.36949,lng:-96.92864},
  {addr:'960 Lee St Jefferson GA',lat:34.11074,lng:-83.58695},
  {addr:'5135 Tuscarawas St W Canton OH',lat:40.79988,lng:-81.39682},
  {addr:'855 S Main Ave Fallbrook CA',lat:33.37615,lng:-117.25262},
  {addr:'La Quinta CA US',lat:33.67747,lng:-116.29588},
  {addr:'2950 Johnson Dr Ventura CA',lat:34.24804,lng:-119.19493},
  {addr:'8745 Gary Burns Dr Frisco TX',lat:33.14898,lng:-96.80709},
  {addr:'770 US-377 Pilot Point TX',lat:33.40292,lng:-96.9434},
  {addr:'2450 E Prosper Trl Prosper TX',lat:33.24823,lng:-96.82967},
  {addr:'17034 University Blvd Sugar Land TX',lat:29.57992,lng:-95.6478},
  {addr:'210 S Thornton St Richmond MO',lat:39.27747,lng:-93.97693},
  {addr:'1651 Gibson St West Plains MO',lat:36.74321,lng:-91.87498},
  {addr:'759 Market St Farmington MO',lat:37.79161,lng:-90.43771},
  {addr:'3385 Schillinger Rd N Semmes AL',lat:30.76421,lng:-88.22549},
  {addr:'112 Wilkesboro Blvd NE Lenoir NC',lat:35.92723,lng:-81.49953},
  {addr:'49045 Van Dyke Ave Shelby Twp MI',lat:42.65543,lng:-83.03356},
  {addr:'60 West Ave Saratoga Springs NY',lat:43.08114,lng:-73.80357},
  {addr:'399 Lighthouse Ave Monterey CA',lat:36.61121,lng:-121.90013},
  {addr:'120 General Stilwell Dr Marina CA',lat:36.66543,lng:-121.81046},
  {addr:'950 S Carrier Pkwy Grand Prairie TX',lat:32.73438,lng:-97.01475},
  {addr:'13150 Senlac Dr Farmers Branch TX',lat:32.92196,lng:-96.90903},
  {addr:'3709 Old Denton Rd Carrollton TX',lat:33.01217,lng:-96.91244},
  {addr:'1012 E',lat:32.74308,lng:-96.44244},
  {addr:'1251 W Harold St Olathe KS',lat:38.89734,lng:-94.83682},
  {addr:'10940 Parallel Pkwy Kansas City KS',lat:39.1287,lng:-94.83303},
  {addr:'15904 E 23rd St S Independence MO',lat:39.07831,lng:-94.38897},
  {addr:'8126 LA-23 Belle Chasse LA',lat:29.85907,lng:-89.98982},
  {addr:'11107 Broad River Rd Irmo SC',lat:34.09919,lng:-81.17612},
  {addr:'1636 Sardis Rd N Charlotte NC',lat:35.13825,lng:-80.73679},
  {addr:'1145 N Leroy St Fenton MI',lat:42.8073,lng:-83.70699},
  {addr:'735 Griswold St Detroit MI',lat:42.33112,lng:-83.04818},
  {addr:'2129 W South Blvd Troy MI',lat:42.62187,lng:-83.1723},
  {addr:'1 E Main St Elmsford NY',lat:41.05501,lng:-73.81957},
  {addr:'60 Washington Ave Pleasantville NY',lat:41.13636,lng:-73.792},
  {addr:'3540 SH 16 S Bandera TX',lat:29.74104,lng:-99.02808},
  {addr:'San Antonio TX US',lat:29.4246,lng:-98.49514},
  {addr:'3801 Houston Hwy Victoria TX',lat:28.81627,lng:-96.96443},
  {addr:'8202 North Loop 1604 East San Antonio TX',lat:29.60931,lng:-98.49251},
  {addr:'15505 Ruggles St Omaha NE',lat:41.29594,lng:-96.1576},
  {addr:'2215 N 90th St Omaha NE',lat:41.27822,lng:-96.05205},
  {addr:'15605 Bennington Rd Bennington NE',lat:41.36452,lng:-96.15859},
  {addr:'4700 Morningside Ave Sioux City IA',lat:42.46968,lng:-96.34624},
  {addr:'4446 Curry Ford Rd Orlando FL',lat:28.52438,lng:-81.33048},
  {addr:'2283 E Semoran Blvd Apopka FL',lat:28.67505,lng:-81.46865},
  {addr:'4010 US-1 St Augustine FL',lat:29.81863,lng:-81.32285},
  {addr:'716 N Logan St Lincoln IL',lat:40.15343,lng:-89.35947},
  {addr:'822 Country Square Plz Hebron IN',lat:41.33204,lng:-87.20214},
  {addr:'35 E Park Ave Sugar Grove IL',lat:41.77515,lng:-88.44089},
  {addr:'599 Jimmy Dr Smyrna DE',lat:39.28439,lng:-75.59531},
  {addr:'315 Middlesex Rd Tyngsborough MA',lat:42.68377,lng:-71.428},
  {addr:'3C Lopez Rd Wilmington MA',lat:42.56169,lng:-71.1524},
  {addr:'1140 W Bardin Rd Arlington TX',lat:32.67062,lng:-97.13296},
  {addr:'217 N FM 156 Justin TX',lat:33.07409,lng:-97.29575},
  {addr:'100 N Laura St Jacksonville FL',lat:30.32752,lng:-81.65937},
  {addr:'100 Founders Way Strasburg VA',lat:39.00346,lng:-78.34238},
  {addr:'70 Riverton Commons Dr Front Royal VA',lat:38.96329,lng:-78.18836},
  {addr:'8224 Spruce St Manassas VA',lat:38.78279,lng:-77.44949},
  {addr:'5941 Centreville Crest Ln Centreville VA',lat:38.8363,lng:-77.43501},
  {addr:'35 Turkey Hill Rd Belchertown MA',lat:42.26602,lng:-72.41778},
  {addr:'771 Boston Post Rd E Marlborough MA',lat:42.34947,lng:-71.49931},
  {addr:'19 Temple St Framingham MA',lat:42.29756,lng:-71.44787},
  {addr:'968 Gravenstein Hwy S Sebastopol CA',lat:38.39154,lng:-122.81807},
  {addr:'792 S Cloverdale Blvd Cloverdale CA',lat:38.80398,lng:-123.01625},
  {addr:'6350 Folsom Blvd Sacramento CA',lat:38.55468,lng:-121.4287},
  {addr:'3759 FM-1488 Conroe TX',lat:30.23008,lng:-95.50657},
  {addr:'1523 Rayford Rd Spring TX',lat:30.12568,lng:-95.41975},
  {addr:'910 Pine Market Ave Montgomery TX',lat:30.28295,lng:-95.57046},
  {addr:'111 Weir Dr Woodbury MN',lat:44.94673,lng:-92.96258},
  {addr:'204 1st Ave SE Oelwein IA',lat:42.67526,lng:-91.91213},
  {addr:'3514 Mormon Coulee Rd La Crosse WI',lat:43.77987,lng:-91.22592},
  {addr:'2101 W Wisconsin St Sparta WI',lat:43.93874,lng:-90.83325},
  {addr:'3074 Mountain View Dr Anchorage AK',lat:61.22039,lng:-149.81827},
  {addr:'1310 S Madison Ave Douglas GA',lat:31.49234,lng:-82.84992},
  {addr:'Atlanta GA US',lat:33.75447,lng:-84.38982},
  {addr:'4022 N Rockwell St Chicago IL',lat:41.95486,lng:-87.69336},
  {addr:'5060 New Centre Dr Wilmington NC',lat:34.23877,lng:-77.87661},
  {addr:'4913 Bridges St Morehead City NC',lat:34.73582,lng:-76.78796},
  {addr:'2128 Wayne Memorial Dr Goldsboro NC',lat:35.39743,lng:-77.96456},
  {addr:'3309 Rogers Rd Wake Forest NC',lat:35.95075,lng:-78.51553},
  {addr:'91 Point Judith Rd Narragansett RI',lat:41.43056,lng:-71.48103},
  {addr:'446 Putnam Pike Smithfield RI',lat:41.86846,lng:-71.53282},
  {addr:'5 State Rd North Dartmouth MA',lat:41.63787,lng:-70.96711},
  {addr:'681 Falmouth Rd Mashpee MA',lat:41.61004,lng:-70.49137},
  {addr:'225 Bedford St East Bridgewater MA',lat:42.0268,lng:-70.95964},
  {addr:'12130 New Airport Rd Auburn CA',lat:38.95014,lng:-121.07953},
  {addr:'562 Sutton Way Grass Valley CA',lat:39.23279,lng:-121.03851},
  {addr:'40050 CA-49 Oakhurst CA',lat:37.33646,lng:-119.6642},
  {addr:'2920 Westminster Blvd Seal Beach CA',lat:33.75908,lng:-118.08042},
  {addr:'5100 Orangethorpe Ave La Palma CA',lat:33.85868,lng:-118.03905},
  {addr:'23505 E Appleway Ave Liberty Lake WA',lat:47.67771,lng:-117.08937},
  {addr:'120 1/2 W Cavour Ave Fergus Falls MN',lat:46.28454,lng:-96.07694},
  {addr:'2016 Michigan St Sidney OH',lat:40.28789,lng:-84.18522},
  {addr:'8959 Sr-66 Defiance OH',lat:41.31267,lng:-84.36072},
  {addr:'217 Woodstock Ave Rutland VT',lat:43.61935,lng:-72.95578},
  {addr:'1364 Congress St Portland ME',lat:43.65823,lng:-70.29629},
  {addr:'91 Auburn St Portland ME',lat:43.70287,lng:-70.28824},
  {addr:'48 E Stephenson Ave Gwinn MI',lat:46.27763,lng:-87.42642},
  {addr:'400 River St Ontonagon MI',lat:46.87201,lng:-89.31644},
  {addr:'4102 Buffalo Gap Rd Abilene TX',lat:32.40367,lng:-99.75731},
];
let gymsVisible = true;
let gymMarkers = [];
let gymMarkersAdded = false;
let currentLocationMarker = null;

try {
  const saved = localStorage.getItem('roadTripStops');
  if (saved) {
    stops = JSON.parse(saved);
    nextId = Math.max(...stops.map(s => s.id)) + 1;
  }
  
  const savedInterests = localStorage.getItem('roadTripInterests');
  if (savedInterests) {
    interests = JSON.parse(savedInterests);
    nextInterestId = interests.length > 0 ? Math.max(...interests.map(i => i.id)) + 1 : 1;
  }
  
  const savedMapName = localStorage.getItem('roadTripMapName');
  if (savedMapName) {
    mapName = savedMapName;
  }
} catch(e) { console.error('Load error:', e); }

function saveToStorage() {
  try {
    localStorage.setItem('roadTripStops', JSON.stringify(stops));
    localStorage.setItem('roadTripInterests', JSON.stringify(interests));
    localStorage.setItem('roadTripMapName', mapName);
  } catch(e) { console.error('Save error:', e); }
}

const map = L.map('map', { center:[38.0,-100.0], zoom:5 });
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution:'¬© OpenStreetMap',
  maxZoom:19
}).addTo(map);

let routeLine = null;
let routeStops = []; // Array of stops for multi-stop routing
let selectingRouteStop = false;
let ratingTargetId = null, rInterest = 0, rVisited = 0;
let notesTargetId = null;
let markers = {}; // Changed from const to let so we can reassign

function interestColor(val) {
  if (!val) return 'rgba(163,177,138,0.3)';
  const t = (val - 1) / 9; // 0 to 1 scale
  
  // Red (low) ‚Üí Yellow (mid) ‚Üí Green (high)
  if (t < 0.5) {
    // Red to Yellow (ratings 1-5)
    const local = t / 0.5;
    const r = 255;
    const g = Math.round(local * 255); // 0 to 255
    const b = 0;
    return `rgb(${r},${g},${b})`;
  } else {
    // Yellow to Green (ratings 6-10)
    const local = (t - 0.5) / 0.5;
    const r = Math.round(255 - local * 255); // 255 to 0
    const g = Math.round(200 + local * 55); // 200 to 255 (keep bright)
    const b = 0;
    return `rgb(${r},${g},${b})`;
  }
}

function visitedColor(val) {
  if (!val) return 'rgba(163,177,138,0.3)';
  return interestColor(val);
}

function starsDisplay(val, color) {
  if (!val) return '<span style="color:#999">‚Äî</span>';
  const filled = '‚òÖ'.repeat(Math.round(val / 2));
  const empty  = '‚òÜ'.repeat(5 - Math.round(val / 2));
  return `<span style="color:${color}">${filled}${empty}</span> <span style="color:#999;font-size:.65rem;">${val}/10</span>`;
}

function updateQuickStats() {
  const total = stops.length;
  const visited = stops.filter(s => s.visited).length;
  document.getElementById('stat-total').textContent = total;
  document.getElementById('stat-visited').textContent = visited;
}

function buildSidebarItem(stop) {
  const item = document.createElement('div');
  item.className = 'stop-item';
  item.id = `sidebar-item-${stop.id}`;
  item.dataset.name = stop.name.toLowerCase();
  item.dataset.state = (stop.sub || '').toLowerCase();
  const ic = interestColor(stop.interest);
  const vc = visitedColor(stop.visited);
  item.innerHTML = `
    <div class="stop-icon-box" style="background:#f5f5f5;">${stop.emoji}</div>
    <div class="stop-info">
      <h3>${stop.name}</h3>
      <p>${stop.sub}</p>
      <div class="stop-ratings">
        <div class="rating-row">
          <span class="rating-lbl">Want</span>
          <div class="rating-bar-track" onclick="openRatingModal(${stop.id})" title="Rate">
            <div class="rating-bar-fill" style="width:${stop.interest ? stop.interest*10 : 0}%;background:${ic};"></div>
          </div>
          <span class="rating-val" style="color:${ic};">${stop.interest ?? '‚Äì'}</span>
        </div>
        <div class="rating-row">
          <span class="rating-lbl">Visit</span>
          <div class="rating-bar-track" onclick="openRatingModal(${stop.id})" title="Rate">
            <div class="rating-bar-fill" style="width:${stop.visited ? stop.visited*10 : 0}%;background:${vc};"></div>
          </div>
          <span class="rating-val" style="color:${vc};">${stop.visited ?? '‚Äì'}</span>
        </div>
      </div>
    </div>
    <button class="edit-btn" onclick="event.stopPropagation(); openEditModal(${stop.id});">‚öôÔ∏è</button>
    <button class="notes-btn ${stop.notes ? 'has-notes' : ''}" onclick="event.stopPropagation(); openNotesModal(${stop.id});">üìù</button>
  `;
  item.addEventListener('click', (e) => {
    if (e.target.closest('.rating-bar-track') || e.target.closest('.notes-btn') || e.target.closest('.edit-btn')) return;
    if (selectingRouteStop) {
      addStopToRoute(stop);
    } else {
      map.setView([stop.lat, stop.lng], 10);
      markers[stop.id].openPopup();
      document.querySelectorAll('.stop-item').forEach(el => el.classList.remove('active'));
      item.classList.add('active');
    }
  });
  return item;
}

function refreshSidebarItem(stop) {
  const old = document.getElementById(`sidebar-item-${stop.id}`);
  if (old) old.replaceWith(buildSidebarItem(stop));
}

function makeIcon(stop) {
  // Prioritize visit rating for ring color, fallback to want rating
  const ratingValue = stop.visited || stop.interest;
  const ringColor = stop.visited ? visitedColor(stop.visited) : interestColor(stop.interest);
  
  // Add checkmark badge if visited
  const visitedBadge = stop.visited ? '<div class="visited-badge">‚úì</div>' : '';
  
  return L.divIcon({
    className:'',
    html:`<div class="map-pin">
            <div class="pin-bubble" style="background:#f5f5f5;">
              ${stop.emoji}
              <div class="pin-ring" style="border-color:${ringColor};"></div>
              ${visitedBadge}
            </div>
            <div class="pin-tail" style="background:${ringColor};"></div>
          </div>`,
    iconSize:[38,48], iconAnchor:[19,48], popupAnchor:[0,-50]
  });
}

function buildPopup(stop) {
  const ic = interestColor(stop.interest);
  const vc = visitedColor(stop.visited);
  return `
    <div class="pu-head" style="background:var(--fern);position:relative;">
      <span class="pu-emoji">${stop.emoji}</span>
      <div><div>${stop.name}</div><div class="pu-sub">${stop.sub}</div></div>
      <button onclick="openEditModal(${stop.id}); map.closePopup();" style="position:absolute;top:8px;right:8px;background:none;border:none;color:var(--dust-grey);cursor:pointer;font-size:1.1rem;padding:4px;line-height:1;opacity:0.8;transition:opacity 0.2s;" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.8'" title="Settings">‚öôÔ∏è</button>
    </div>
    <div class="pu-body">
      ${stop.desc}
      <div class="note">${stop.note}</div>
      <div style="display:flex;gap:6px;margin:10px 0 8px 0;">
        <button class="pu-rate-btn" onclick="findNearestGym(${stop.lat}, ${stop.lng}, '${stop.name.replace(/'/g, "\\'")}'); map.closePopup();" style="flex:1;font-size:.8rem;padding:6px;" title="Route to Nearest Gym">üèãÔ∏è Gym</button>
        <button class="pu-rate-btn" onclick="openNotesModal(${stop.id}); map.closePopup();" style="flex:1;font-size:.8rem;padding:6px;">üìù Notes</button>
      </div>
      <div class="pu-ratings">
        <div class="pu-rating-row">Want: ${starsDisplay(stop.interest, ic)}</div>
        <div class="pu-rating-row">Visit: ${starsDisplay(stop.visited, vc)}</div>
      </div>
      <button class="pu-rate-btn" onclick="openRatingModal(${stop.id}); map.closePopup();">‚úèÔ∏è Rate</button>
    </div>
  `;
}

function addMarkerToMap(stop) {
  const marker = L.marker([stop.lat, stop.lng], { icon: makeIcon(stop) }).addTo(map);
  marker.bindPopup(buildPopup(stop));
  marker.on('click', () => {
    if (selectingRouteStop) {
      addStopToRoute(stop);
    }
  });
  markers[stop.id] = marker;
}

function refreshMarker(stop) {
  if (markers[stop.id]) {
    markers[stop.id].setIcon(makeIcon(stop));
    markers[stop.id].setPopupContent(buildPopup(stop));
  }
}

function renderStops() {
  document.getElementById('stop-list').innerHTML = '';
  
  if (currentTab === 'interests') {
    // Show interests instead of stops
    interests.forEach(interest => {
      const item = document.createElement('div');
      item.className = 'stop-item';
      item.dataset.name = (interest.name || '').toLowerCase();
      item.dataset.state = (interest.state || '').toLowerCase();
      item.innerHTML = `
        <div class="stop-icon-box" style="background:#ff8a3c;color:#fff;">üìå</div>
        <div class="stop-info">
          <h3>${interest.name}</h3>
          <p>${interest.state ? interest.state + ' ‚Ä¢ ' : ''}${interest.desc || 'No description'}</p>
        </div>
        <button class="edit-btn" onclick="event.stopPropagation(); openInterestModal(${interest.id});">‚öôÔ∏è</button>
        <button class="notes-btn ${interest.notes ? 'has-notes' : ''}" onclick="event.stopPropagation(); openInterestNotesModal(${interest.id});">üìù</button>
      `;
      item.addEventListener('click', () => {
        map.setView([interest.lat, interest.lng], 12);
        if (interestMarkers[interest.id]) {
          interestMarkers[interest.id].openPopup();
        }
      });
      document.getElementById('stop-list').appendChild(item);
    });
    
    // Hide stop markers, show interest markers
    Object.values(markers).forEach(m => map.removeLayer(m));
    updateInterestVisibility();
    return;
  }
  
  // Normal stop rendering
  let filtered = stops;
  
  if (currentTab === 'visited') {
    filtered = stops.filter(s => s.visited);
    Object.values(markers).forEach(m => map.removeLayer(m));
    filtered.forEach(s => map.addLayer(markers[s.id]));
  } else if (currentTab === 'unvisited') {
    filtered = stops.filter(s => !s.visited);
    Object.values(markers).forEach(m => map.removeLayer(m));
    filtered.forEach(s => map.addLayer(markers[s.id]));
  } else {
    Object.values(markers).forEach(m => map.addLayer(m));
  }
  
  const sort = document.getElementById('sort-select').value;
  if (sort === 'alpha') filtered.sort((a,b) => a.name.localeCompare(b.name));
  else if (sort === 'interest-high') filtered.sort((a,b) => (b.interest||0) - (a.interest||0));
  else if (sort === 'interest-low') filtered.sort((a,b) => (a.interest||0) - (b.interest||0));
  else if (sort === 'visited-high') filtered.sort((a,b) => (b.visited||0) - (a.visited||0));
  else if (sort === 'visited-low') filtered.sort((a,b) => (a.visited||0) - (b.visited||0));
  
  filtered.forEach(stop => {
    document.getElementById('stop-list').appendChild(buildSidebarItem(stop));
  });
  updateQuickStats();
}

function renderAll() {
  stops.forEach(stop => addMarkerToMap(stop));
  renderStops();
}

// Gyms
function addGyms() {
  if (gymMarkersAdded) return;
  gymMarkersAdded = true;
  GYMS_DATA.forEach(gym => {
    const icon = L.divIcon({
      className: '',
      html: '<div class="gym-marker">üèãÔ∏è</div>',
      iconSize: [14, 14],
      iconAnchor: [7, 7]
    });
    const marker = L.marker([gym.lat, gym.lng], { icon });
    
    // Enhanced popup with add to route option
    const popupContent = `
      <div style="padding:8px;font-size:.75rem;">
        <strong>Anytime Fitness</strong><br>
        ${gym.addr}
        <button onclick="addGymToRoute('${gym.addr.replace(/'/g, "\\'")}', ${gym.lat}, ${gym.lng})" 
                style="width:100%;margin-top:6px;padding:4px;background:var(--hunter-green);color:var(--dust-grey);border:none;border-radius:3px;cursor:pointer;font-size:.7rem;">
          + Add to Route
        </button>
      </div>
    `;
    marker.bindPopup(popupContent);
    
    gymMarkers.push(marker);
  });
  updateGymVisibility();
}

function updateGymVisibility() {
  const zoom = map.getZoom();
  if (gymsVisible && zoom >= 8) {
    gymMarkers.forEach(m => { if (!map.hasLayer(m)) map.addLayer(m); });
  } else {
    gymMarkers.forEach(m => { if (map.hasLayer(m)) map.removeLayer(m); });
  }
}

function toggleGyms() {
  gymsVisible = !gymsVisible;
  document.getElementById('gym-toggle').classList.toggle('active', gymsVisible);
  updateGymVisibility();
}

map.on('zoomend', updateGymVisibility);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INTEREST POINTS SYSTEM - SIMPLIFIED
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let interestMarkers = {};
let interestMarkersAdded = false;
let pendingInterestLatLng = null;

// Simple map click - no complex popups, just works
map.on('click', function(e) {
  // Don't trigger if clicking on markers or in route selection mode
  if (selectingRouteStop) return;
  
  // Check if clicking on an existing popup
  const clickedOnPopup = e.originalEvent.target.closest('.leaflet-popup');
  if (clickedOnPopup) return;
  
  // Check if any location/interest popup is open
  const openPopup = document.querySelector('.leaflet-popup');
  if (openPopup) {
    map.closePopup();
    return;
  }
  
  // Store coordinates
  pendingInterestLatLng = e.latlng;
  
  // Show localized confirmation popup
  const popup = document.getElementById('interest-confirm-local');
  const point = map.latLngToContainerPoint(e.latlng);
  popup.style.left = (point.x + 10) + 'px';
  popup.style.top = (point.y + 10) + 'px';
  popup.style.display = 'block';
  
  // Add click-outside to close (after small delay)
  setTimeout(() => {
    document.addEventListener('click', closeInterestConfirmOnClickOutside);
  }, 100);
});

function closeInterestConfirmOnClickOutside(e) {
  const popup = document.getElementById('interest-confirm-local');
  if (!popup.contains(e.target)) {
    cancelInterestCreation();
  }
}

function confirmInterestCreation() {
  document.getElementById('interest-confirm-local').style.display = 'none';
  document.removeEventListener('click', closeInterestConfirmOnClickOutside);
  if (pendingInterestLatLng) {
    openInterestModal(null, pendingInterestLatLng.lat, pendingInterestLatLng.lng);
  }
}

function cancelInterestCreation() {
  document.getElementById('interest-confirm-local').style.display = 'none';
  document.removeEventListener('click', closeInterestConfirmOnClickOutside);
  pendingInterestLatLng = null;
}

function openInterestModal(interestId = null, lat = null, lng = null) {
  if (interestId !== null) {
    // Editing existing interest
    const interest = interests.find(i => i.id === interestId);
    if (!interest) return;
    
    editingInterestId = interestId;
    document.getElementById('interest-modal-title').textContent = 'üìå Edit Interest Point';
    document.getElementById('interest-name').value = interest.name;
    document.getElementById('interest-desc').value = interest.desc || '';
    document.getElementById('interest-notes').value = interest.notes || '';
    document.getElementById('interest-delete-btn').style.display = 'inline-block';
  } else {
    // Creating new interest
    editingInterestId = null;
    document.getElementById('interest-modal-title').textContent = 'üìå Add Interest Point';
    document.getElementById('interest-name').value = '';
    document.getElementById('interest-desc').value = '';
    document.getElementById('interest-notes').value = '';
    document.getElementById('interest-delete-btn').style.display = 'none';
    
    // Store lat/lng for new interest
    if (lat !== null && lng !== null) {
      pendingInterestLatLng = { lat, lng };
    }
  }
  
  document.getElementById('interest-modal').classList.add('open');
}

function closeInterestModal() {
  document.getElementById('interest-modal').classList.remove('open');
  pendingInterestLatLng = null;
  editingInterestId = null;
}

// State detection from coordinates with improved accuracy
function getStateFromCoords(lat, lng) {
  // Updated state bounds with more accurate coordinates [minLat, minLng, maxLat, maxLng]
  const states = [
    { name: 'Alabama', abbr: 'AL', bounds: [30.22, -88.47, 35.01, -84.89] },
    { name: 'Alaska', abbr: 'AK', bounds: [51.21, -179.15, 71.39, -129.98] },
    { name: 'Arizona', abbr: 'AZ', bounds: [31.33, -114.82, 37.00, -109.05] },
    { name: 'Arkansas', abbr: 'AR', bounds: [33.00, -94.62, 36.50, -89.64] },
    { name: 'California', abbr: 'CA', bounds: [32.53, -124.48, 42.01, -114.13] },
    { name: 'Colorado', abbr: 'CO', bounds: [36.99, -109.06, 41.00, -102.04] },
    { name: 'Connecticut', abbr: 'CT', bounds: [40.98, -73.73, 42.05, -71.79] },
    { name: 'Delaware', abbr: 'DE', bounds: [38.45, -75.79, 39.84, -75.05] },
    { name: 'Florida', abbr: 'FL', bounds: [24.52, -87.63, 31.00, -80.03] },
    { name: 'Georgia', abbr: 'GA', bounds: [30.36, -85.61, 35.00, -80.84] },
    { name: 'Hawaii', abbr: 'HI', bounds: [18.91, -160.25, 22.23, -154.81] },
    { name: 'Idaho', abbr: 'ID', bounds: [42.00, -117.24, 49.00, -111.04] },
    { name: 'Illinois', abbr: 'IL', bounds: [37.00, -91.51, 42.51, -87.49] },
    { name: 'Indiana', abbr: 'IN', bounds: [37.77, -88.10, 41.76, -84.78] },
    { name: 'Iowa', abbr: 'IA', bounds: [40.38, -96.64, 43.50, -90.14] },
    { name: 'Kansas', abbr: 'KS', bounds: [37.00, -102.05, 40.00, -94.59] },
    { name: 'Kentucky', abbr: 'KY', bounds: [36.50, -89.57, 39.15, -81.96] },
    { name: 'Louisiana', abbr: 'LA', bounds: [28.93, -94.04, 33.02, -88.82] },
    { name: 'Maine', abbr: 'ME', bounds: [43.06, -71.08, 47.46, -66.95] },
    { name: 'Maryland', abbr: 'MD', bounds: [37.91, -79.49, 39.72, -75.05] },
    { name: 'Massachusetts', abbr: 'MA', bounds: [41.24, -73.51, 42.89, -69.93] },
    { name: 'Michigan', abbr: 'MI', bounds: [41.70, -90.42, 48.31, -82.42] },
    { name: 'Minnesota', abbr: 'MN', bounds: [43.50, -97.24, 49.38, -89.49] },
    { name: 'Mississippi', abbr: 'MS', bounds: [30.17, -91.65, 35.01, -88.10] },
    { name: 'Missouri', abbr: 'MO', bounds: [35.99, -95.77, 40.61, -89.10] },
    { name: 'Montana', abbr: 'MT', bounds: [44.36, -116.05, 49.00, -104.04] },
    { name: 'Nebraska', abbr: 'NE', bounds: [40.00, -104.05, 43.00, -95.31] },
    { name: 'Nevada', abbr: 'NV', bounds: [35.00, -120.01, 42.00, -114.04] },
    { name: 'New Hampshire', abbr: 'NH', bounds: [42.70, -72.56, 45.31, -70.61] },
    { name: 'New Jersey', abbr: 'NJ', bounds: [38.93, -75.56, 41.36, -73.89] },
    { name: 'New Mexico', abbr: 'NM', bounds: [31.33, -109.05, 37.00, -103.00] },
    { name: 'New York', abbr: 'NY', bounds: [40.50, -79.76, 45.02, -71.86] },
    { name: 'North Carolina', abbr: 'NC', bounds: [33.84, -84.32, 36.59, -75.46] },
    { name: 'North Dakota', abbr: 'ND', bounds: [45.93, -104.05, 49.00, -96.55] },
    { name: 'Ohio', abbr: 'OH', bounds: [38.40, -84.82, 42.32, -80.52] },
    { name: 'Oklahoma', abbr: 'OK', bounds: [33.62, -103.00, 37.00, -94.43] },
    { name: 'Oregon', abbr: 'OR', bounds: [42.00, -124.57, 46.29, -116.46] },
    { name: 'Pennsylvania', abbr: 'PA', bounds: [39.72, -80.52, 42.27, -74.69] },
    { name: 'Rhode Island', abbr: 'RI', bounds: [41.15, -71.91, 42.02, -71.12] },
    { name: 'South Carolina', abbr: 'SC', bounds: [32.03, -83.35, 35.22, -78.54] },
    { name: 'South Dakota', abbr: 'SD', bounds: [42.48, -104.06, 45.94, -96.44] },
    { name: 'Tennessee', abbr: 'TN', bounds: [34.98, -90.31, 36.68, -81.65] },
    { name: 'Texas', abbr: 'TX', bounds: [25.84, -106.65, 36.50, -93.51] },
    { name: 'Utah', abbr: 'UT', bounds: [37.00, -114.05, 42.00, -109.04] },
    { name: 'Vermont', abbr: 'VT', bounds: [42.73, -73.44, 45.02, -71.50] },
    { name: 'Virginia', abbr: 'VA', bounds: [36.54, -83.68, 39.47, -75.24] },
    { name: 'Washington', abbr: 'WA', bounds: [45.54, -124.85, 49.00, -116.92] },
    { name: 'West Virginia', abbr: 'WV', bounds: [37.20, -82.64, 40.64, -77.72] },
    { name: 'Wisconsin', abbr: 'WI', bounds: [42.49, -92.89, 47.31, -86.25] },
    { name: 'Wyoming', abbr: 'WY', bounds: [41.00, -111.06, 45.01, -104.05] }
  ];
  
  console.log(`Detecting state for coordinates: ${lat}, ${lng}`);
  
  for (const state of states) {
    const [minLat, minLng, maxLat, maxLng] = state.bounds;
    if (lat >= minLat && lat <= maxLat && lng >= minLng && lng <= maxLng) {
      console.log(`Detected state: ${state.abbr} (${state.name})`);
      return state.abbr;
    }
  }
  
  console.log('No state detected, defaulting to USA');
  return 'USA';
}

function openInterestNotesModal(interestId) {
  const interest = interests.find(i => i.id === interestId);
  if (!interest) return;
  
  // Use same notes modal but set it up for interest
  document.getElementById('notes-modal-title').textContent = 'Interest Notes';
  document.getElementById('notes-modal-sub').textContent = interest.name;
  document.getElementById('notes-textarea').value = interest.notes || '';
  document.getElementById('notes-modal').classList.add('open');
  
  // Store which interest we're editing notes for
  window.currentInterestNotesId = interestId;
}

function saveInterest() {
  const name = document.getElementById('interest-name').value.trim();
  const desc = document.getElementById('interest-desc').value.trim();
  const notes = document.getElementById('interest-notes').value.trim();
  
  if (!name) {
    alert('Name is required');
    return;
  }
  
  if (editingInterestId !== null) {
    // Update existing interest
    const interest = interests.find(i => i.id === editingInterestId);
    if (interest) {
      interest.name = name;
      interest.desc = desc;
      interest.notes = notes;
      
      // Update marker
      if (interestMarkers[interest.id]) {
        interestMarkers[interest.id].setPopupContent(buildInterestPopup(interest));
      }
    }
  } else {
    // Create new interest
    if (!pendingInterestLatLng) {
      alert('Location error');
      return;
    }
    
    const state = getStateFromCoords(pendingInterestLatLng.lat, pendingInterestLatLng.lng);
    
    const newInterest = {
      id: nextInterestId++,
      name,
      desc,
      notes,
      lat: pendingInterestLatLng.lat,
      lng: pendingInterestLatLng.lng,
      state
    };
    
    interests.push(newInterest);
    addInterestMarker(newInterest);
  }
  
  closeInterestModal();
  saveToStorage();
  renderStops(); // Re-render to update interests tab if active
}

function deleteInterest() {
  if (!confirm('Delete this interest point?')) return;
  
  const index = interests.findIndex(i => i.id === editingInterestId);
  if (index !== -1) {
    // Remove marker from map
    if (interestMarkers[editingInterestId]) {
      map.removeLayer(interestMarkers[editingInterestId]);
      delete interestMarkers[editingInterestId];
    }
    
    // Remove from array
    interests.splice(index, 1);
  }
  
  closeInterestModal();
  saveToStorage();
  renderStops();
}

function buildInterestPopup(interest) {
  return `
    <div class="pu-head" style="background:#ff8a3c;">
      <span class="pu-emoji">üìå</span>
      <div><div>${interest.name}</div></div>
    </div>
    <div class="pu-body">
      ${interest.desc || 'No description'}
      <div style="display:flex;gap:6px;margin-top:8px;">
        <button class="pu-rate-btn" onclick="openInterestModal(${interest.id}); map.closePopup();" style="flex:1;font-size:.8rem;padding:6px;">‚úèÔ∏è Edit</button>
        <button class="pu-rate-btn" onclick="openInterestNotesModal(${interest.id}); map.closePopup();" style="flex:1;font-size:.8rem;padding:6px;">üìù Notes</button>
      </div>
    </div>
  `;
}

function addInterestMarker(interest) {
  const icon = L.divIcon({
    className: '',
    html: '<div class="interest-marker">üìå</div>',
    iconSize: [22, 22],
    iconAnchor: [11, 11]
  });
  
  const marker = L.marker([interest.lat, interest.lng], { icon });
  marker.bindPopup(buildInterestPopup(interest));
  interestMarkers[interest.id] = marker;
  
  // Add to map if zoom level is appropriate
  updateInterestVisibility();
}

function updateInterestVisibility() {
  const zoom = map.getZoom();
  
  if (currentTab === 'interests') {
    // In Interests tab: Always show interests at all zoom levels
    Object.values(interestMarkers).forEach(m => {
      if (m && !map.hasLayer(m)) {
        map.addLayer(m);
      }
    });
  } else {
    // In other tabs (All, Visited, Mountains): Show interests only when zoomed in
    // Appear at zoom 7+ (slightly before gyms which appear at zoom 8+)
    if (zoom >= 7) {
      Object.values(interestMarkers).forEach(m => {
        if (m && !map.hasLayer(m)) {
          map.addLayer(m);
        }
      });
    } else {
      Object.values(interestMarkers).forEach(m => {
        if (m && map.hasLayer(m)) {
          map.removeLayer(m);
        }
      });
    }
  }
}

// Update zoom handler to also update interest visibility
map.on('zoomend', function() {
  updateGymVisibility();
  updateInterestVisibility(); // Update interests based on zoom
});

// Initialize interests from storage
function loadInterests() {
  interests.forEach(interest => addInterestMarker(interest));
}

function getMyLocation() {
  if (!navigator.geolocation) {
    alert('Geolocation not supported.');
    return;
  }
  navigator.geolocation.getCurrentPosition(pos => {
    const lat = pos.coords.latitude;
    const lng = pos.coords.longitude;
    if (currentLocationMarker) map.removeLayer(currentLocationMarker);
    const icon = L.divIcon({
      className: '',
      html: '<div class="location-pin"></div>',
      iconSize: [20, 20],
      iconAnchor: [10, 10]
    });
    currentLocationMarker = L.marker([lat, lng], { icon }).addTo(map);
    currentLocationMarker.bindPopup('<div style="padding:6px;font-size:.75rem;"><strong>üìç You are here</strong></div>').openPopup();
    map.setView([lat, lng], 12);
  }, err => {
    alert('Unable to get location: ' + err.message);
  });
}

renderAll();
addGyms();
loadInterests();
updateInterestVisibility(); // Hide interests initially (currentTab is 'all')

// Fit bounds with error handling
if (stops.length > 0) {
  try {
    const validStops = stops.filter(s => s.lat && s.lng && !isNaN(s.lat) && !isNaN(s.lng));
    if (validStops.length > 0) {
      map.fitBounds(L.latLngBounds(validStops.map(s=>[s.lat,s.lng])), { padding:[40,40] });
    }
  } catch (error) {
    console.log('Initial bounds fit skipped');
  }
}

// Initialize map name
const mapNameInput = document.getElementById('map-name');
mapNameInput.value = mapName;

function updateMapNameStyle() {
  // Color and styling are handled inline, just keep for future use
}
updateMapNameStyle();

mapNameInput.addEventListener('input', e => {
  mapName = e.target.value || 'My Road Trip';
  updateMapNameStyle();
  saveToStorage();
});

function capitalizeMapName() {
  const value = mapNameInput.value.trim();
  if (value) {
    // Convert to all uppercase
    const uppercase = value.toUpperCase();
    mapNameInput.value = uppercase;
    mapName = uppercase;
    saveToStorage();
  }
  updateMapNameStyle();
}

mapNameInput.addEventListener('blur', e => {
  if (!e.target.value.trim()) {
    e.target.value = 'My Road Trip';
    mapName = 'My Road Trip';
    saveToStorage();
  } else {
    capitalizeMapName();
  }
  updateMapNameStyle();
});

mapNameInput.addEventListener('keydown', e => {
  if (e.key === 'Enter') {
    e.preventDefault();
    capitalizeMapName();
    mapNameInput.blur();
  }
});

document.getElementById('search-input').addEventListener('input', e => {
  const query = e.target.value.toLowerCase();
  document.querySelectorAll('.stop-item').forEach(item => {
    const name = item.dataset.name || '';
    const state = item.dataset.state || '';
    const searchable = name + ' ' + state;
    item.classList.toggle('hidden', !searchable.includes(query));
  });
});

document.getElementById('sort-select').addEventListener('change', renderStops);

document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', () => {
    currentTab = tab.dataset.tab;
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    renderStops();
    updateInterestVisibility(); // Show/hide interests based on active tab
  });
});

function openRatingModal(id) {
  const stop = stops.find(s => s.id === id);
  if (!stop) return;
  ratingTargetId = id;
  rInterest = stop.interest || 0;
  rVisited  = stop.visited  || 0;
  document.getElementById('rating-modal-title').textContent = stop.emoji + ' ' + stop.name;
  document.getElementById('rating-modal-sub').textContent   = stop.sub;
  renderStarRow('stars-interest', rInterest, (v) => { rInterest = v; });
  renderStarRow('stars-visited',  rVisited,  (v) => { rVisited  = v; });
  document.getElementById('rating-modal').classList.add('open');
}

function renderStarRow(containerId, currentVal, onSet) {
  const container = document.getElementById(containerId);
  container.innerHTML = '';
  for (let i = 1; i <= 10; i++) {
    const btn = document.createElement('button');
    btn.className = 'star-btn' + (i <= currentVal ? ' on' : '');
    btn.textContent = '‚òÖ';
    btn.onclick = () => { onSet(i); renderStarRow(containerId, i, onSet); };
    container.appendChild(btn);
  }
}

function clearInterestRating() {
  rInterest = 0;
  renderStarRow('stars-interest', 0, (v) => { rInterest = v; });
}

function clearVisitedRating() {
  rVisited = 0;
  renderStarRow('stars-visited', 0, (v) => { rVisited = v; });
}

function saveRating() {
  const stop = stops.find(s => s.id === ratingTargetId);
  if (!stop) return;
  stop.interest = rInterest || null;
  stop.visited  = rVisited  || null;
  refreshSidebarItem(stop);
  refreshMarker(stop);
  updateQuickStats();
  document.getElementById('rating-modal').classList.remove('open');
  saveToStorage();
  renderStops();
}

document.getElementById('rating-modal').addEventListener('click', function(e) {
  if (e.target === this) this.classList.remove('open');
});

function openNotesModal(id) {
  const stop = stops.find(s => s.id === id);
  if (!stop) return;
  notesTargetId = id;
  document.getElementById('notes-modal-title').textContent = stop.name;
  document.getElementById('notes-modal-sub').textContent   = stop.sub;
  document.getElementById('notes-textarea').value = stop.notes || '';
  document.getElementById('notes-modal').classList.add('open');
}

function closeNotesModal() {
  document.getElementById('notes-modal').classList.remove('open');
}

function saveNotes() {
  // Check if we're saving notes for an interest
  if (window.currentInterestNotesId !== undefined) {
    const interest = interests.find(i => i.id === window.currentInterestNotesId);
    if (interest) {
      interest.notes = document.getElementById('notes-textarea').value;
      renderStops(); // Update sidebar if on interests tab
    }
    window.currentInterestNotesId = undefined;
  } else {
    // Regular stop notes
    const stop = stops.find(s => s.id === notesTargetId);
    if (!stop) return;
    stop.notes = document.getElementById('notes-textarea').value;
    refreshSidebarItem(stop);
  }
  
  closeNotesModal();
  saveToStorage();
}

document.getElementById('notes-modal').addEventListener('click', function(e) {
  if (e.target === this) closeNotesModal();
});

document.getElementById('interest-modal').addEventListener('click', function(e) {
  if (e.target === this) closeInterestModal();
});

// Close interest confirm popup when clicking outside
document.addEventListener('click', function(e) {
  const popup = document.getElementById('interest-confirm-popup');
  if (popup && popup.style.display === 'block' && !popup.contains(e.target)) {
    cancelCreateInterest();
  }
});

function openAddModal() {
  editingId = null;
  selectedEmoji = 'üìç';
  document.getElementById('modal-title').textContent = 'üìç Add Location';
  document.getElementById('modal-delete-btn').style.display = 'none';
  ['m-gmaps','m-name','m-lat','m-lng','m-desc','m-interest'].forEach(id => document.getElementById(id).value = '');
  document.getElementById('modal-ai-status').textContent = '';
  buildEmojiGrid();
  document.getElementById('add-modal').classList.add('open');
}

function openEditModal(id) {
  const stop = stops.find(s => s.id === id);
  if (!stop) return;
  editingId = id;
  selectedEmoji = stop.emoji;
  document.getElementById('modal-title').textContent = 'Edit Location';
  document.getElementById('modal-delete-btn').style.display = 'inline-block';
  document.getElementById('m-gmaps').value = '';
  document.getElementById('m-name').value = stop.name;
  document.getElementById('m-lat').value = stop.lat;
  document.getElementById('m-lng').value = stop.lng;
  document.getElementById('m-desc').value = stop.desc;
  document.getElementById('m-interest').value = stop.interest || '';
  document.getElementById('modal-ai-status').textContent = '';
  buildEmojiGrid();
  document.getElementById('add-modal').classList.add('open');
}

function buildEmojiGrid() {
  const grid = document.getElementById('emoji-grid');
  grid.innerHTML = '';
  EMOJIS.forEach(em => {
    const el = document.createElement('div');
    el.className = 'emoji-opt' + (em === selectedEmoji ? ' selected' : '');
    el.textContent = em;
    el.onclick = () => {
      selectedEmoji = em;
      document.querySelectorAll('.emoji-opt').forEach(e => e.classList.remove('selected'));
      el.classList.add('selected');
    };
    grid.appendChild(el);
  });
}

function closeAddModal() { document.getElementById('add-modal').classList.remove('open'); }

document.getElementById('add-modal').addEventListener('click', function(e) {
  if (e.target === this) closeAddModal();
});

document.getElementById('m-gmaps').addEventListener('input', function(e) {
  const url = e.target.value;
  
  // Extract coordinates from @lat,lng pattern
  const coordMatch = url.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);
  if (coordMatch) {
    document.getElementById('m-lat').value = parseFloat(coordMatch[1]);
    document.getElementById('m-lng').value = parseFloat(coordMatch[2]);
    document.getElementById('modal-ai-status').textContent = '‚úì Coordinates extracted';
  }
  
  // Extract place name from Google Maps URL
  // Pattern 1: /place/Place+Name/@
  let nameMatch = url.match(/\/place\/([^/@]+)/);
  if (nameMatch) {
    let placeName = decodeURIComponent(nameMatch[1]);
    placeName = placeName.replace(/\+/g, ' '); // Replace + with spaces
    placeName = placeName.split(',')[0]; // Take first part before comma
    if (!document.getElementById('m-name').value) {
      document.getElementById('m-name').value = placeName;
      document.getElementById('modal-ai-status').textContent = '‚úì Name and coordinates extracted';
    }
  }
  
  // Pattern 2: /search/Place+Name
  if (!nameMatch) {
    nameMatch = url.match(/\/search\/([^/@?]+)/);
    if (nameMatch) {
      let placeName = decodeURIComponent(nameMatch[1]);
      placeName = placeName.replace(/\+/g, ' ');
      if (!document.getElementById('m-name').value) {
        document.getElementById('m-name').value = placeName;
        document.getElementById('modal-ai-status').textContent = '‚úì Name and coordinates extracted';
      }
    }
  }
});

async function generateDescription(name, sub) {
  const statusEl = document.getElementById('modal-ai-status');
  statusEl.textContent = '‚ú® Generating...';
  try {
    const response = await fetch('https://api.anthropic.com/v1/messages', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        model: 'claude-sonnet-4-5-20250929',
        max_tokens: 1000,
        messages: [{
          role: 'user',
          content: `Write 1-2 sentences about "${name}" in ${sub} for road trip. JSON: {"desc":"...","note":"tip","emoji":"üèïÔ∏è"}`
        }]
      })
    });
    const data = await response.json();
    const text = data.content[0].text.trim();
    const parsed = JSON.parse(text);
    document.getElementById('m-desc').value = parsed.desc;
    if (parsed.emoji && EMOJIS.includes(parsed.emoji)) {
      selectedEmoji = parsed.emoji;
      buildEmojiGrid();
    }
    statusEl.textContent = '‚úÖ Done!';
    return parsed;
  } catch(e) {
    statusEl.textContent = 'AI unavailable';
    return null;
  }
}

async function saveLocation() {
  const name = document.getElementById('m-name').value.trim();
  const lat  = parseFloat(document.getElementById('m-lat').value);
  const lng  = parseFloat(document.getElementById('m-lng').value);
  const interest = parseInt(document.getElementById('m-interest').value) || null;
  let desc   = document.getElementById('m-desc').value.trim();
  
  if (!name || isNaN(lat) || isNaN(lng)) {
    alert('Name, lat, lng required.');
    return;
  }
  
  // Check for duplicate locations (within 0.001 degrees ~ 100 meters)
  const duplicate = stops.find(s => 
    s.id !== editingId && 
    Math.abs(s.lat - lat) < 0.001 && 
    Math.abs(s.lng - lng) < 0.001
  );
  
  if (duplicate) {
    alert(`A location already exists at these coordinates:\n"${duplicate.name}"\n\nPlease use a different location or edit the existing one.`);
    return;
  }
  
  if (!desc) {
    const ai = await generateDescription(name, sub || 'USA');
    if (ai) desc = ai.desc;
    else desc = `${name} ‚Äî worth exploring.`;
  }
  
  if (editingId !== null) {
    const stop = stops.find(s => s.id === editingId);
    if (stop) {
      stop.name = name;
      stop.sub = stop.sub || 'USA'; // Keep existing or default to USA
      stop.lat = lat;
      stop.lng = lng;
      stop.emoji = selectedEmoji;
      stop.desc = desc;
      stop.interest = interest;
      markers[stop.id].setLatLng([lat, lng]);
      refreshMarker(stop);
      refreshSidebarItem(stop);
    }
  } else {
    const newStop = {
      id: nextId++, name, sub: 'USA', lat, lng,
      emoji: selectedEmoji, desc, note: '', interest, visited: null, mountain: false, notes: ''
    };
    stops.push(newStop);
    addMarkerToMap(newStop);
    document.getElementById('stop-list').appendChild(buildSidebarItem(newStop));
    map.setView([lat, lng], 10);
    markers[newStop.id].openPopup();
  }
  
  updateQuickStats();
  closeAddModal();
  saveToStorage();
  renderStops();
}

function deleteLocation() {
  if (!editingId || !confirm('Delete this location?')) return;
  stops = stops.filter(s => s.id !== editingId);
  if (markers[editingId]) {
    map.removeLayer(markers[editingId]);
    delete markers[editingId];
  }
  closeAddModal();
  saveToStorage();
  renderStops();
}

function exportData() {
  const data = { stops, interests };
  const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'roadtrip-data.json';
  a.click();
}

function importData() {
  const importInput = document.getElementById('import-input');
  if (importInput) importInput.click();
}

const importInput = document.getElementById('import-input');
if (importInput) {
  importInput.addEventListener('change', e => {
    const file = e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = ev => {
      try {
        const data = JSON.parse(ev.target.result);
        stops = data.stops || [];
        interests = data.interests || [];
        nextId = stops.length > 0 ? Math.max(...stops.map(s => s.id)) + 1 : 12;
        nextInterestId = interests.length > 0 ? Math.max(...interests.map(i => i.id)) + 1 : 1;
        
        // Clear old markers
        Object.keys(markers).forEach(id => map.removeLayer(markers[id]));
      Object.keys(interestMarkers).forEach(id => map.removeLayer(interestMarkers[id]));
      markers = {};
      interestMarkers = {};
      
      // Reload everything
      renderAll();
      loadInterests();
      updateInterestVisibility(); // Show/hide based on current tab
      saveToStorage();
      alert('Import successful!');
    } catch(err) {
      alert('Import failed: ' + err.message);
    }
  };
  reader.readAsText(file);
  });
}

function haversine(lat1,lng1,lat2,lng2) {
  const R=3958.8, dLat=(lat2-lat1)*Math.PI/180, dLng=(lng2-lng1)*Math.PI/180;
  const a=Math.sin(dLat/2)**2+Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*Math.sin(dLng/2)**2;
  return R*2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));
}
function formatTime(hours) {
  const h=Math.floor(hours), m=Math.round((hours-h)*60);
  if(h===0) return `${m} min`;
  if(m===0) return `${h} hr`;
  return `${h} hr ${m} min`;
}
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MULTI-STOP ROUTING SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function selectRouteStop() {
  selectingRouteStop = true;
  document.getElementById('instruction-bar').classList.add('visible');
  document.getElementById('instruction-bar').textContent = 'Click any location or gym to add to route';
}

function addStopToRoute(stop) {
  // Check if already in route
  if (routeStops.find(s => s.id === stop.id)) {
    alert('This location is already in your route');
    return;
  }
  
  routeStops.push({
    id: stop.id,
    name: stop.name,
    emoji: stop.emoji,
    lat: stop.lat,
    lng: stop.lng
  });
  
  renderRouteStops();
  selectingRouteStop = false;
  document.getElementById('instruction-bar').classList.remove('visible');
}

function renderRouteStops() {
  const container = document.getElementById('route-stops-list');
  container.innerHTML = '';
  
  if (routeStops.length === 0) {
    document.getElementById('calc-btn').disabled = true;
    return;
  }
  
  routeStops.forEach((stop, index) => {
    const div = document.createElement('div');
    div.className = 'route-stop-item';
    div.dataset.id = stop.id;
    div.innerHTML = `
      <span class="route-stop-num">${index + 1}.</span>
      <span class="route-stop-name">${stop.emoji} ${stop.name}</span>
      <button class="route-stop-remove" onclick="removeRouteStop(${index})">√ó</button>
    `;
    container.appendChild(div);
  });
  
  // Enable drag-and-drop reordering
  if (routeStops.length > 1) {
    new Sortable(container, {
      animation: 150,
      handle: '.route-stop-item',
      onEnd: function(evt) {
        // Reorder array based on new DOM order
        const newOrder = [];
        container.querySelectorAll('.route-stop-item').forEach(el => {
          const id = parseInt(el.dataset.id);
          const stop = routeStops.find(s => s.id === id);
          if (stop) newOrder.push(stop);
        });
        routeStops = newOrder;
        renderRouteStops();
      }
    });
  }
  
  // Enable calculate button if 2+ stops
  document.getElementById('calc-btn').disabled = routeStops.length < 2;
}

function removeRouteStop(index) {
  routeStops.splice(index, 1);
  renderRouteStops();
  
  // Clear route line if less than 2 stops
  if (routeStops.length < 2 && routeLine) {
    map.removeLayer(routeLine);
    routeLine = null;
    document.getElementById('route-result').classList.remove('visible');
  }
}

function clearRoute() {
  // Clear all route stops
  routeStops = [];
  renderRouteStops();
  
  // Remove route line from map
  if (routeLine) {
    map.removeLayer(routeLine);
    routeLine = null;
  }
  
  // Hide results
  document.getElementById('route-result').classList.remove('visible');
}

async function calcRoute() {
  if (routeStops.length < 2) return;
  
  const settings = JSON.parse(localStorage.getItem('amblemaps-settings') || '{}');
  const routeOptimization = settings.routeOptimization || 'fastest';
  
  const btn = document.getElementById('calc-btn');
  btn.disabled = true;
  btn.textContent = 'Calculating...';
  
  try {
    // Build OSRM URL with all waypoints
    const coords = routeStops.map(s => `${s.lng},${s.lat}`).join(';');
    
    // Determine routing profile based on optimization setting
    let profile = 'driving';
    let excludeParam = '';
    
    // Note: OSRM's exclude parameter doesn't always work well
    // We'll try it but fall back to regular routing if it fails
    if (routeOptimization === 'scenic') {
      excludeParam = '&exclude=motorway';
    }
    
    let url = `https://router.project-osrm.org/route/v1/${profile}/${coords}?overview=full&geometries=geojson${excludeParam}`;
    
    let res = await fetch(url);
    let data = await res.json();
    
    // If scenic route fails, try without exclude parameter
    if (data.code !== 'Ok' && routeOptimization === 'scenic') {
      console.log('Scenic routing failed, trying standard routing');
      url = `https://router.project-osrm.org/route/v1/${profile}/${coords}?overview=full&geometries=geojson`;
      res = await fetch(url);
      data = await res.json();
    }
    
    if (data.code !== 'Ok') {
      throw new Error('Route calculation failed');
    }
    
    // Draw route on map
    if (routeLine) map.removeLayer(routeLine);
    const routeCoords = data.routes[0].geometry.coordinates.map(c => [c[1], c[0]]);
    routeLine = L.polyline(routeCoords, {
      color: '#4a9fd8',
      weight: 5,
      opacity: 0.85
    }).addTo(map);
    
    map.fitBounds(routeLine.getBounds(), { padding: [80, 80] });
    
    // Calculate totals
    const totalMeters = data.routes[0].distance;
    const totalSeconds = data.routes[0].duration;
    const totalMiles = totalMeters / 1609.34;
    let totalHours = totalSeconds / 3600;
    
    // Apply adjustment factor based on optimization
    if (routeOptimization === 'fastest') {
      totalHours *= 0.92; // Fastest route estimate
    } else if (routeOptimization === 'scenic') {
      totalHours *= 1.1; // Scenic routes take longer
    }
    
    // Display results with unit conversion
    document.getElementById('res-dist').textContent = convertDistance(totalMiles);
    document.getElementById('res-time').textContent = convertDuration(totalHours);
    
    let note = `Route through ${routeStops.length} stops. `;
    if (totalMiles > 1500) note += 'Multi-day trip recommended.';
    else if (totalMiles > 800) note += 'Long drive, plan breaks.';
    else note += 'Drive time estimate includes traffic adjustment.';
    
    if (routeOptimization === 'scenic') {
      note += ' (Avoiding highways)';
    }
    
    document.getElementById('res-note').textContent = note;
    document.getElementById('route-result').classList.add('visible');
    
  } catch (error) {
    alert('Could not calculate route. Please check your internet connection or try fewer stops.');
    console.error('Route error:', error);
  } finally {
    btn.disabled = false;
    btn.textContent = 'Calculate Route';
  }
}

function formatTime(hours) {
  const h = Math.floor(hours);
  const m = Math.round((hours - h) * 60);
  if (h === 0) return `${m} min`;
  if (m === 0) return `${h} hr`;
  return `${h} hr ${m} min`;
}

function haversine(lat1, lng1, lat2, lng2) {
  const R = 3958.8; // Earth radius in miles
  const dLat = (lat2 - lat1) * Math.PI / 180;
  const dLng = (lng2 - lng1) * Math.PI / 180;
  const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
            Math.sin(dLng/2) * Math.sin(dLng/2);
  return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FIND NEAREST GYM FEATURE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function findNearestGym(stopLat, stopLng, stopName) {
  if (!GYMS_DATA || GYMS_DATA.length === 0) {
    alert('Gym data not loaded');
    return;
  }
  
  let nearest = null;
  let minDistance = Infinity;
  
  // Calculate distance to each gym
  GYMS_DATA.forEach(gym => {
    const distance = haversine(stopLat, stopLng, gym.lat, gym.lng);
    if (distance < minDistance) {
      minDistance = distance;
      nearest = gym;
    }
  });
  
  if (nearest) {
    // Clear existing route
    routeStops = [];
    
    // Add starting location
    routeStops.push({
      id: 'start_' + Date.now(),
      name: stopName,
      emoji: 'üìç',
      lat: stopLat,
      lng: stopLng
    });
    
    // Add nearest gym
    routeStops.push({
      id: 'gym_' + Date.now(),
      name: 'AF: ' + nearest.addr.split(',')[0],
      emoji: 'üèãÔ∏è',
      lat: nearest.lat,
      lng: nearest.lng
    });
    
    // Render the route
    renderRouteStops();
    
    // Automatically calculate the route
    calcRoute();
  }
}

// Helper function to add a gym directly to route (called from gym popup)
function addGymToRoute(address, lat, lng) {
  routeStops.push({
    id: 'gym_' + Date.now(),
    name: 'AF: ' + address.split(',')[0], // Shortened name
    emoji: 'üèãÔ∏è',
    lat: lat,
    lng: lng
  });
  renderRouteStops();
  map.closePopup();
  alert('Gym added to route!');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EXPANDED LIST VIEW
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openExpandedList() {
  document.getElementById('expanded-list-modal').classList.add('open');
  expandedCurrentTab = currentTab; // Match current tab
  updateExpandedList();
  
  // Sync search and sort
  document.getElementById('expanded-search').value = document.getElementById('search-input').value;
  document.getElementById('expanded-sort').value = document.getElementById('sort-select').value;
  
  // Set active tab
  document.querySelectorAll('.exp-tab').forEach(t => {
    t.classList.toggle('active', t.dataset.tab === expandedCurrentTab);
  });
}

function closeExpandedList() {
  document.getElementById('expanded-list-modal').classList.remove('open');
}

function updateExpandedList() {
  const list = document.getElementById('expanded-list');
  list.innerHTML = '';
  
  let items = [];
  
  if (expandedCurrentTab === 'interests') {
    items = interests.map(interest => ({
      type: 'interest',
      data: interest
    }));
  } else {
    let filtered = stops;
    if (expandedCurrentTab === 'visited') {
      filtered = stops.filter(s => s.visited);
    } else if (expandedCurrentTab === 'unvisited') {
      filtered = stops.filter(s => !s.visited);
    }
    
    const sort = document.getElementById('expanded-sort').value;
    if (sort === 'alpha') filtered.sort((a,b) => a.name.localeCompare(b.name));
    else if (sort === 'interest-high') filtered.sort((a,b) => (b.interest||0) - (a.interest||0));
    else if (sort === 'interest-low') filtered.sort((a,b) => (a.interest||0) - (b.interest||0));
    else if (sort === 'visited-high') filtered.sort((a,b) => (b.visited||0) - (a.visited||0));
    else if (sort === 'visited-low') filtered.sort((a,b) => (a.visited||0) - (b.visited||0));
    
    items = filtered.map(stop => ({
      type: 'stop',
      data: stop
    }));
  }
  
  // Apply search filter
  const searchQuery = document.getElementById('expanded-search').value.toLowerCase();
  if (searchQuery) {
    items = items.filter(item => {
      if (item.type === 'interest') {
        const searchable = (item.data.name + ' ' + (item.data.state || '')).toLowerCase();
        return searchable.includes(searchQuery);
      } else {
        const searchable = (item.data.name + ' ' + (item.data.sub || '')).toLowerCase();
        return searchable.includes(searchQuery);
      }
    });
  }
  
  // Create grid container - 3 columns
  const grid = document.createElement('div');
  grid.style.cssText = 'display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;';
  
  // Render items
  items.forEach(item => {
    const el = document.createElement('div');
    el.style.cssText = 'background:var(--hunter-green);border:1px solid var(--fern);border-radius:4px;padding:10px;cursor:pointer;transition:all 0.2s;';
    el.onmouseenter = () => el.style.background = 'var(--pine-teal)';
    el.onmouseleave = () => el.style.background = 'var(--hunter-green)';
    
    if (item.type === 'interest') {
      el.innerHTML = `
        <div style="display:flex;flex-direction:column;gap:6px;align-items:center;">
          <div style="font-size:1.8rem;">üìå</div>
          <div style="font-size:.8rem;font-weight:600;color:var(--dust-grey);text-align:center;">${item.data.name}</div>
          <div style="font-size:.65rem;color:var(--dry-sage);text-align:center;">${item.data.state || ''}</div>
          <button onclick="event.stopPropagation(); openInterestModal(${item.data.id});" style="background:var(--fern);border:none;border-radius:4px;padding:4px 10px;color:var(--dust-grey);cursor:pointer;font-size:.65rem;">Edit</button>
        </div>
      `;
      el.onclick = () => {
        map.setView([item.data.lat, item.data.lng], 12);
        if (interestMarkers[item.data.id]) {
          interestMarkers[item.data.id].openPopup();
        }
        closeExpandedList();
      };
    } else {
      const ic = interestColor(item.data.interest);
      const vc = visitedColor(item.data.visited);
      el.innerHTML = `
        <div style="display:flex;flex-direction:column;gap:4px;align-items:center;">
          <div style="font-size:1.8rem;">${item.data.emoji}</div>
          <div style="font-size:.8rem;font-weight:600;color:var(--dust-grey);text-align:center;">${item.data.name}</div>
          <div style="font-size:.65rem;color:var(--dry-sage);text-align:center;">${item.data.sub}</div>
          <div style="display:flex;gap:8px;font-size:.6rem;justify-content:center;">
            <div><span style="color:var(--dry-sage);">Want:</span> <span style="color:${ic};font-weight:600;">${item.data.interest || '‚Äì'}</span></div>
            <div><span style="color:var(--dry-sage);">Visit:</span> <span style="color:${vc};font-weight:600;">${item.data.visited || '‚Äì'}</span></div>
          </div>
          <button onclick="event.stopPropagation(); openEditModal(${item.data.id}); closeExpandedList();" style="background:var(--fern);border:none;border-radius:4px;padding:4px 10px;color:var(--dust-grey);cursor:pointer;font-size:.65rem;margin-top:4px;">Edit</button>
        </div>
      `;
      el.onclick = () => {
        map.setView([item.data.lat, item.data.lng], 12);
        if (markers[item.data.id]) {
          markers[item.data.id].openPopup();
        }
        closeExpandedList();
      };
    }
    
    grid.appendChild(el);
  });
  
  list.appendChild(grid);
  
  if (items.length === 0) {
    list.innerHTML = '<div style="text-align:center;color:var(--dry-sage);padding:40px;">No items found</div>';
  }
}

// Expanded list event listeners
document.getElementById('expanded-search').addEventListener('input', updateExpandedList);
document.getElementById('expanded-sort').addEventListener('change', updateExpandedList);

document.querySelectorAll('.exp-tab').forEach(tab => {
  tab.addEventListener('click', () => {
    expandedCurrentTab = tab.dataset.tab;
    document.querySelectorAll('.exp-tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    updateExpandedList();
  });
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// HAMBURGER MENU & FLOATING BUTTONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function toggleHamburgerMenu() {
  hamburgerMenuOpen = !hamburgerMenuOpen;
  const btn = document.getElementById('hamburger-btn');
  const floatingBtns = document.getElementById('floating-buttons');
  const buttons = [
    document.getElementById('settings-float-btn'),
    document.getElementById('maps-float-btn'),
    document.getElementById('new-map-float-btn')
  ];
  
  if (hamburgerMenuOpen) {
    btn.textContent = '√ó';
    floatingBtns.style.display = 'flex';
    
    // Animate buttons in with stagger
    buttons.forEach((btn, i) => {
      setTimeout(() => {
        btn.style.opacity = '1';
        btn.style.transform = 'scale(1)';
      }, i * 80);
    });
  } else {
    btn.textContent = '‚ò∞';
    
    // Animate buttons out
    buttons.forEach(btn => {
      btn.style.opacity = '0';
      btn.style.transform = 'scale(0.5)';
    });
    
    setTimeout(() => {
      floatingBtns.style.display = 'none';
    }, 200);
  }
}

// Close dropdown when clicking outside
document.addEventListener('click', function(e) {
  if (hamburgerMenuOpen) {
    const btn = document.getElementById('hamburger-btn');
    const floatingBtns = document.getElementById('floating-buttons');
    if (!btn.contains(e.target) && !floatingBtns.contains(e.target)) {
      toggleHamburgerMenu();
    }
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MAP LAYER SELECTOR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// Initialize map layers (variables declared at top of file)
currentMapLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '¬© OpenStreetMap contributors'
}).addTo(map);

satelliteLayer = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
  attribution: 'Tiles ¬© Esri'
});

terrainLayer = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
  attribution: '¬© OpenTopoMap contributors'
});

darkLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
  attribution: '¬© OpenStreetMap contributors ¬© CARTO'
});

topoLayer = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
  attribution: 'Tiles ¬© Esri'
});

function changeMapLayer(type) {
  // Remove current layer (with null check)
  if (currentMapLayer && map.hasLayer(currentMapLayer)) {
    map.removeLayer(currentMapLayer);
  }
  
  // Add new layer
  if (type === 'satellite') {
    currentMapLayer = satelliteLayer.addTo(map);
  } else if (type === 'terrain') {
    currentMapLayer = terrainLayer.addTo(map);
  } else if (type === 'dark') {
    currentMapLayer = darkLayer.addTo(map);
  } else if (type === 'topo') {
    currentMapLayer = topoLayer.addTo(map);
  } else {
    currentMapLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '¬© OpenStreetMap contributors'
    }).addTo(map);
  }
  
  // Update button states
  document.getElementById('layer-standard').style.background = type === 'standard' ? '#e8e8e8' : 'white';
  document.getElementById('layer-satellite').style.background = type === 'satellite' ? '#e8e8e8' : 'white';
  document.getElementById('layer-terrain').style.background = type === 'terrain' ? '#e8e8e8' : 'white';
  document.getElementById('layer-dark').style.background = type === 'dark' ? '#e8e8e8' : 'white';
  document.getElementById('layer-topo').style.background = type === 'topo' ? '#e8e8e8' : 'white';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SETTINGS SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function loadSettings() {
  try {
    const settings = JSON.parse(localStorage.getItem('amblemaps-settings') || '{}');
    
    const distanceUnits = document.getElementById('distance-units');
    const autoSave = document.getElementById('auto-save');
    const confirmDelete = document.getElementById('confirm-delete');
    const routeOptimization = document.getElementById('route-optimization');
    const themeSelect = document.getElementById('theme-select');
    
    if (distanceUnits) distanceUnits.value = settings.distanceUnits || 'miles';
    if (autoSave) autoSave.checked = settings.autoSave !== false;
    if (confirmDelete) confirmDelete.checked = settings.confirmDelete !== false;
    if (routeOptimization) routeOptimization.value = settings.routeOptimization || 'fastest';
    if (themeSelect) themeSelect.value = settings.theme || 'forest';
    
    applySettings();
  } catch (error) {
    console.error('Error in loadSettings:', error);
  }
}

function saveSettings() {
  try {
    const settings = {
      distanceUnits: document.getElementById('distance-units').value,
      autoSave: document.getElementById('auto-save').checked,
      confirmDelete: document.getElementById('confirm-delete').checked,
      routeOptimization: document.getElementById('route-optimization').value,
      theme: document.getElementById('theme-select').value
    };
    
    localStorage.setItem('amblemaps-settings', JSON.stringify(settings));
    applySettings();
    closeAppSettings(); // Close modal after saving
    
    // Save current map if auto-save is on
    if (settings.autoSave) {
      saveCurrentMap();
    }
  } catch (error) {
    console.error('Error in saveSettings:', error);
    alert('Error saving settings. Check console for details.');
  }
}

function applySettings() {
  try {
    const settings = JSON.parse(localStorage.getItem('amblemaps-settings') || '{}');
    
    // Apply theme
    applyTheme(settings.theme || 'forest');
  } catch (error) {
    console.error('Error in applySettings:', error);
  }
}

function applyTheme(theme) {
  const root = document.documentElement;
  const mapNameInput = document.getElementById('map-name');
  
  switch(theme) {
    case 'desert':
      // Desert theme - warm earth tones
      root.style.setProperty('--hunter-green', '#5C4033');
      root.style.setProperty('--pine-teal', '#8B7355');
      root.style.setProperty('--fern', '#C19A6B');
      root.style.setProperty('--dry-sage', '#D2B48C');
      root.style.setProperty('--dust-grey', '#F5DEB3');
      if (mapNameInput) mapNameInput.style.color = '#D2691E';
      break;
      
    case 'ocean':
      // Ocean theme - deep blues
      root.style.setProperty('--hunter-green', '#0B3D51');
      root.style.setProperty('--pine-teal', '#1B5E7E');
      root.style.setProperty('--fern', '#4A9BBC');
      root.style.setProperty('--dry-sage', '#7BB7D4');
      root.style.setProperty('--dust-grey', '#B8E6F5');
      if (mapNameInput) mapNameInput.style.color = '#4FC3F7';
      break;
      
    case 'night':
      // Night theme - green accent on black
      root.style.setProperty('--hunter-green', '#0A0A0A');
      root.style.setProperty('--pine-teal', '#1A1A1A');
      root.style.setProperty('--fern', '#2D5016');
      root.style.setProperty('--dry-sage', '#4CAF50');
      root.style.setProperty('--dust-grey', '#76FF03');
      if (mapNameInput) mapNameInput.style.color = '#76FF03'; // Bright green for visibility
      break;
      
    default: // forest - DARKER original colors
      root.style.setProperty('--hunter-green', '#2B3A23');
      root.style.setProperty('--pine-teal', '#3A4A30');
      root.style.setProperty('--fern', '#7A9560');
      root.style.setProperty('--dry-sage', '#99AB7E');
      root.style.setProperty('--dust-grey', '#C8D5B9');
      if (mapNameInput) mapNameInput.style.color = '#90c96e'; // Original green
  }
}

function convertDistance(miles) {
  const settings = JSON.parse(localStorage.getItem('amblemaps-settings') || '{}');
  if (settings.distanceUnits === 'kilometers') {
    return (miles * 1.60934).toFixed(1) + ' km';
  }
  return miles.toFixed(1) + ' mi';
}

function convertDuration(hours) {
  const totalMinutes = Math.round(hours * 60);
  const h = Math.floor(totalMinutes / 60);
  const m = totalMinutes % 60;
  if (h > 0) return `${h}h ${m}m`;
  return `${m}m`;
}

function resetSettings() {
  if (confirm('Reset all settings to defaults?')) {
    try {
      const distanceUnits = document.getElementById('distance-units');
      const autoSave = document.getElementById('auto-save');
      const confirmDelete = document.getElementById('confirm-delete');
      const routeOptimization = document.getElementById('route-optimization');
      const themeSelect = document.getElementById('theme-select');
      
      if (distanceUnits) distanceUnits.value = 'miles';
      if (autoSave) autoSave.checked = true;
      if (confirmDelete) confirmDelete.checked = true;
      if (routeOptimization) routeOptimization.value = 'fastest';
      if (themeSelect) themeSelect.value = 'forest';
      
      localStorage.removeItem('amblemaps-settings');
      applySettings();
    } catch (error) {
      console.error('Error resetting settings:', error);
      alert('Error resetting settings. Check console for details.');
    }
  }
}

function openAppSettings() {
  document.getElementById('settings-modal').classList.add('open');
  loadSettings();
  if (hamburgerMenuOpen) toggleHamburgerMenu();
}

function closeAppSettings() {
  document.getElementById('settings-modal').classList.remove('open');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MULTI-MAP SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initializeMapSystem() {
  try {
    console.log('Loading map data...');
    console.log('DEFAULT_STOPS available:', DEFAULT_STOPS.length);
    
    // Load all maps from localStorage
    const savedMaps = localStorage.getItem('amblemaps-all-maps');
    if (savedMaps) {
      allMaps = JSON.parse(savedMaps);
      console.log('Loaded maps from storage:', Object.keys(allMaps));
    } else {
      console.log('No saved maps in localStorage');
    }
    
    // Load current map ID
    currentMapId = localStorage.getItem('amblemaps-current-map') || 'default';
    console.log('Current map ID:', currentMapId);
    
    // ALWAYS ensure default map has locations
    // This is critical - if default map doesn't exist or is empty, create/restore it
    const defaultExists = allMaps['default'];
    const defaultHasStops = defaultExists && allMaps['default'].stops && allMaps['default'].stops.length > 0;
    
    if (!defaultExists || !defaultHasStops) {
      console.log('Creating/restoring default map with', DEFAULT_STOPS.length, 'locations');
      console.log('Reason:', !defaultExists ? 'Map does not exist' : 'Map has no stops');
      
      allMaps['default'] = {
        id: 'default',
        name: 'My Trip',
        stops: [...DEFAULT_STOPS],  // ALWAYS use fresh copy of defaults
        interests: [],
        created: defaultExists?.created || Date.now(),
        modified: Date.now()
      };
      
      localStorage.setItem('amblemaps-all-maps', JSON.stringify(allMaps));
      console.log('Default map restored with', allMaps['default'].stops.length, 'stops');
    }
    
    // Verify current map exists
    if (!allMaps[currentMapId]) {
      console.warn('Current map', currentMapId, 'not found, loading default');
      currentMapId = 'default';
      localStorage.setItem('amblemaps-current-map', 'default');
    }
    
    console.log('About to load map:', currentMapId);
    console.log('Map has', allMaps[currentMapId]?.stops?.length || 0, 'stops');
    
    // Load current map
    loadMap(currentMapId);
    console.log('Map system initialized successfully');
  } catch (error) {
    console.error('Error in initializeMapSystem:', error);
    // Create emergency default
    stops = [];
    interests = [];
    routeStops = [];
  }
}

function saveAllMaps() {
  localStorage.setItem('amblemaps-all-maps', JSON.stringify(allMaps));
}

function saveCurrentMap() {
  allMaps[currentMapId] = {
    id: currentMapId,
    name: document.getElementById('map-name').value || 'Untitled Map',
    stops: stops,
    interests: interests,
    route: routeStops,
    created: allMaps[currentMapId]?.created || Date.now(),
    modified: Date.now()
  };
  saveAllMaps();
}

function loadMap(mapId) {
  console.log('loadMap called with:', mapId);
  console.log('allMaps keys:', Object.keys(allMaps));
  
  const mapData = allMaps[mapId];
  if (!mapData) {
    console.error('Map not found:', mapId);
    return;
  }
  
  console.log('Loading map with', mapData.stops?.length || 0, 'stops');
  
  currentMapId = mapId;
  localStorage.setItem('amblemaps-current-map', mapId);
  
  // Load data
  stops = mapData.stops || [];
  interests = mapData.interests || [];
  routeStops = mapData.route || [];
  
  console.log('After loading - stops:', stops.length);
  
  // Update UI
  const mapNameInput = document.getElementById('map-name');
  if (mapNameInput) mapNameInput.value = mapData.name || 'Untitled Map';
  
  // Clear existing markers with null checks
  Object.values(markers).forEach(m => {
    if (m && map.hasLayer(m)) {
      map.removeLayer(m);
    }
  });
  Object.values(interestMarkers).forEach(m => {
    if (m && map.hasLayer(m)) {
      map.removeLayer(m);
    }
  });
  markers = {};
  interestMarkers = {};
  
  console.log('Calling renderAll...');
  // Re-render everything
  renderAll(); // Renders stops
  loadInterests(); // Renders interest markers
  updateInterestVisibility(); // Show/hide based on current tab
  renderRouteStops();
  
  console.log('Markers after renderAll:', Object.keys(markers).length);
  
  // Fit map to bounds if locations exist with valid coordinates
  if (stops.length > 0) {
    try {
      const validStops = stops.filter(s => s.lat && s.lng && !isNaN(s.lat) && !isNaN(s.lng));
      if (validStops.length > 0) {
        const bounds = L.latLngBounds(validStops.map(s => [s.lat, s.lng]));
        map.fitBounds(bounds, { padding: [50, 50] });
      }
    } catch (error) {
      console.error('Error fitting bounds:', error);
      // Default to US center if bounds fail
      map.setView([38.0, -100.0], 5);
    }
  }
}

function generateMapThumbnail(mapData) {
  // Simple text-based thumbnail for now
  // In production, this would generate an actual map screenshot
  const locationCount = (mapData.stops || []).length;
  const visitedCount = (mapData.stops || []).filter(s => s.visited).length;
  
  return {
    text: `${locationCount} Locations`,
    subtext: `${visitedCount} Visited`,
    preview: 'Map Preview'
  };
}

function renderMapsGrid() {
  const grid = document.getElementById('maps-grid');
  if (!grid) return;
  
  grid.innerHTML = '';
  
  // Sort maps by modified date
  const sortedMaps = Object.values(allMaps).sort((a, b) => b.modified - a.modified);
  
  sortedMaps.forEach(mapData => {
    const isActive = mapData.id === currentMapId;
    const stopCount = (mapData.stops || []).length;
    const visitedCount = (mapData.stops || []).filter(s => s.visited).length;
    
    const card = document.createElement('div');
    card.style.cssText = `
      background:var(--hunter-green);
      border:2px solid ${isActive ? 'var(--dry-sage)' : 'var(--fern)'};
      border-radius:6px;
      cursor:${isActive ? 'default' : 'pointer'};
      transition:all 0.2s;
      overflow:hidden;
    `;
    
    card.innerHTML = `
      <div style="width:100%;height:140px;background:var(--pine-teal);display:flex;flex-direction:column;align-items:center;justify-content:center;border-bottom:1px solid var(--fern);">
        <div style="font-size:2rem;margin-bottom:8px;">üó∫Ô∏è</div>
        <div style="font-size:.8rem;color:var(--dust-grey);font-weight:600;">${stopCount} Locations</div>
        <div style="font-size:.7rem;color:var(--dry-sage);">${visitedCount} Visited</div>
      </div>
      <div style="padding:10px;">
        <div style="font-size:.9rem;font-weight:600;color:var(--dust-grey);margin-bottom:4px;display:flex;align-items:center;gap:6px;">
          ${mapData.name || 'Untitled Map'}
          ${isActive ? '<span style="font-size:.65rem;background:var(--fern);padding:2px 6px;border-radius:3px;">Active</span>' : ''}
        </div>
        <div style="font-size:.65rem;color:var(--dry-sage);margin-bottom:8px;">
          ${new Date(mapData.modified).toLocaleDateString()}
        </div>
        <div style="display:flex;gap:6px;">
          ${!isActive ? `<button onclick="event.stopPropagation(); switchToMap('${mapData.id}')" style="flex:1;background:var(--fern);border:none;padding:5px;border-radius:4px;color:var(--dust-grey);cursor:pointer;font-size:.7rem;">Switch</button>` : ''}
          ${mapData.id !== 'default' ? `<button onclick="event.stopPropagation(); deleteMap('${mapData.id}')" style="flex:1;background:none;border:1px solid var(--fern);padding:5px;border-radius:4px;color:var(--dry-sage);cursor:pointer;font-size:.7rem;">Delete</button>` : ''}
        </div>
      </div>
    `;
    
    if (!isActive) {
      card.onmouseenter = () => card.style.borderColor = 'var(--dry-sage)';
      card.onmouseleave = () => card.style.borderColor = 'var(--fern)';
      card.onclick = () => switchToMap(mapData.id);
    }
    
    grid.appendChild(card);
  });
}

function openMapsManager() {
  const modal = document.getElementById('maps-modal');
  if (!modal) return;
  
  modal.classList.add('open');
  renderMapsGrid();
  if (hamburgerMenuOpen) toggleHamburgerMenu();
}

function closeMapsManager() {
  const modal = document.getElementById('maps-modal');
  if (modal) modal.classList.remove('open');
}

function switchToMap(mapId) {
  console.log('Switching to map:', mapId);
  
  if (!allMaps[mapId]) {
    alert('Map not found!');
    return;
  }
  
  // Save current map state
  saveCurrentMap();
  
  // Load new map
  loadMap(mapId);
  
  // Close manager
  closeMapsManager();
}

function deleteMap(mapId) {
  console.log('Delete map requested:', mapId);
  
  // Can't delete default map
  if (mapId === 'default') {
    alert('Cannot delete the default map.');
    return;
  }
  
  // Can't delete active map
  if (mapId === currentMapId) {
    alert('Cannot delete the active map. Switch to another map first.');
    return;
  }
  
  // Check confirm setting
  const settings = JSON.parse(localStorage.getItem('amblemaps-settings') || '{}');
  if (settings.confirmDelete !== false) {
    const mapName = allMaps[mapId]?.name || 'this map';
    if (!confirm(`Delete "${mapName}"? This cannot be undone.`)) {
      return;
    }
  }
  
  // Delete and save
  delete allMaps[mapId];
  saveAllMaps();
  
  // Re-render grid
  renderMapsGrid();
}

function confirmCreateNewMap() {
  console.log('Create new map');
  
  const name = prompt('Enter a name for your new map:', 'New Trip');
  if (!name || name.trim() === '') {
    console.log('No name provided, cancelled');
    return;
  }
  
  // Save current map first
  saveCurrentMap();
  
  // Generate unique ID
  const newId = 'map_' + Date.now();
  console.log('Creating map with ID:', newId);
  
  // Create new empty map
  allMaps[newId] = {
    id: newId,
    name: name.trim(),
    stops: [],
    interests: [],
    route: [],
    created: Date.now(),
    modified: Date.now()
  };
  
  // Save to localStorage
  saveAllMaps();
  
  // Switch to new map
  loadMap(newId);
  
  // Close hamburger if open
  if (hamburgerMenuOpen) toggleHamburgerMenu();
  
  console.log('New map created and loaded');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MODAL HANDLERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

document.getElementById('settings-modal').addEventListener('click', function(e) {
  if (e.target === this) closeAppSettings();
});

document.getElementById('maps-modal').addEventListener('click', function(e) {
  if (e.target === this) closeMapsManager();
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// UTILITY FUNCTIONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// Reset default map to hardcoded locations (useful for debugging)
window.resetToDefaults = function() {
  console.log('Resetting default map to hardcoded locations...');
  
  allMaps['default'] = {
    id: 'default',
    name: 'My Trip',
    stops: [...DEFAULT_STOPS],
    interests: [],
    created: allMaps['default']?.created || Date.now(),
    modified: Date.now()
  };
  
  localStorage.setItem('amblemaps-all-maps', JSON.stringify(allMaps));
  
  if (currentMapId === 'default') {
    loadMap('default');
  }
  
  console.log('Default map reset complete. Locations:', allMaps['default'].stops.length);
  alert('Default map reset to ' + DEFAULT_STOPS.length + ' locations!');
};

// Debug helper - check current state
window.debugMap = function() {
  console.log('=== MAP DEBUG INFO ===');
  console.log('Current map ID:', currentMapId);
  console.log('Stops in memory:', stops.length);
  console.log('Markers on map:', Object.keys(markers).length);
  console.log('All maps:', Object.keys(allMaps));
  
  Object.keys(allMaps).forEach(id => {
    console.log(`  ${id}:`, allMaps[id].stops?.length || 0, 'stops');
  });
  
  console.log('DEFAULT_STOPS:', DEFAULT_STOPS.length);
  console.log('localStorage maps:', localStorage.getItem('amblemaps-all-maps') ? 'exists' : 'empty');
  
  return {
    currentMapId,
    stopsInMemory: stops.length,
    markersOnMap: Object.keys(markers).length,
    allMapsCount: Object.keys(allMaps).length,
    defaultStopsAvailable: DEFAULT_STOPS.length
  };
};

// Auto-save when map name changes
document.getElementById('map-name').addEventListener('blur', function() {
  const settings = JSON.parse(localStorage.getItem('amblemaps-settings') || '{}');
  if (settings.autoSave !== false) {
    saveCurrentMap();
  }
});

// Initialize on load
window.addEventListener('load', function() {
  console.log('Starting initialization...');
  
  try {
    initializeMapSystem();
    console.log('Map system initialized');
  } catch (error) {
    console.error('Error initializing map system:', error);
    currentMapId = 'default';
    stops = [];
    interests = [];
    routeStops = [];
    allMaps = {
      'default': {
        id: 'default',
        name: 'My Trip',
        stops: [],
        interests: [],
        route: [],
        created: Date.now(),
        modified: Date.now()
      }
    };
  }
  
  try {
    loadSettings();
    console.log('Settings loaded');
  } catch (error) {
    console.error('Error loading settings:', error);
  }
  
  console.log('Initialization complete');
});


document.getElementById('expanded-list-modal').addEventListener('click', function(e) {
  if (e.target === this) closeExpandedList();
});


</script>
</body>
</html>
